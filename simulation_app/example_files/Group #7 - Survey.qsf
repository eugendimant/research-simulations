{"SurveyEntry":{"SurveyID":"SV_8kUwJ9o1snuZEyy","SurveyName":"AI & Investment Behaviour (Final)","SurveyDescription":null,"SurveyOwnerID":"UR_6Q1loUD4HvlFUb4","SurveyBrandID":"upenn","DivisionID":"DV_8if7VSnau4gquu8","SurveyLanguage":"EN","SurveyActiveResponseSet":"RS_9v2N8SBS4E3XiF8","SurveyStatus":"Active","SurveyStartDate":"0000-00-00 00:00:00","SurveyExpirationDate":"0000-00-00 00:00:00","SurveyCreationDate":"2025-11-12 12:40:19","CreatorID":"UR_6Q1loUD4HvlFUb4","LastModified":"2025-11-13 17:53:59","LastAccessed":"0000-00-00 00:00:00","LastActivated":"2025-11-13 17:49:10","Deleted":null},"SurveyElements":[{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"BL","PrimaryAttribute":"Survey Blocks","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"1":{"Type":"Trash","Description":"Trash \/ Unused Questions","ID":"BL_6PQtpJOdV4tNhIy","BlockElements":[{"Type":"Question","QuestionID":"QID1322585689"},{"Type":"Question","QuestionID":"QID1322585690"},{"Type":"Question","QuestionID":"QID51"},{"Type":"Question","QuestionID":"QID52"},{"Type":"Question","QuestionID":"QID1322503332"},{"Type":"Question","QuestionID":"QID64"},{"Type":"Question","QuestionID":"QID66"},{"Type":"Question","QuestionID":"QID68"},{"Type":"Question","QuestionID":"QID65"},{"Type":"Question","QuestionID":"QID1322503305"},{"Type":"Question","QuestionID":"QID72"},{"Type":"Question","QuestionID":"QID73"},{"Type":"Question","QuestionID":"QID71"},{"Type":"Question","QuestionID":"QID61"},{"Type":"Question","QuestionID":"QID62"},{"Type":"Question","QuestionID":"QID75"},{"Type":"Question","QuestionID":"QID76"},{"Type":"Question","QuestionID":"QID77"}],"Options":{"BlockLocking":"false","RandomizeQuestions":"false","BlockVisibility":"Collapsed"}},"2":{"Type":"Standard","SubType":"","Description":"Default Question Block","ID":"BL_07DiclXvkQTFxNc","BlockElements":[{"Type":"Question","QuestionID":"QID2"},{"Type":"Question","QuestionID":"QID54"}],"Options":{"BlockLocking":"false","RandomizeQuestions":"false","BlockVisibility":"Expanded"}},"4":{"Type":"Standard","SubType":"","Description":"Trading Block","ID":"BL_2c6WMW4Pk3THNYi","BlockElements":[{"Type":"Question","QuestionID":"QID1322501923"},{"Type":"Question","QuestionID":"QID55"}],"Options":{"BlockLocking":false,"RandomizeQuestions":"false","BlockVisibility":"Expanded"}},"6":{"Type":"Standard","SubType":"","Description":"Trading Block","ID":"BL_0vz7ttFeR78Ig3s","BlockElements":[{"Type":"Question","QuestionID":"QID1322501934"},{"Type":"Question","QuestionID":"QID56"}],"Options":{"BlockLocking":false,"RandomizeQuestions":"false","BlockVisibility":"Expanded"}},"8":{"Type":"Standard","SubType":"","Description":"Trading Block","ID":"BL_6XMUjUAg9mXL3QW","BlockElements":[{"Type":"Question","QuestionID":"QID1322501941"},{"Type":"Question","QuestionID":"QID57"}],"Options":{"BlockLocking":false,"RandomizeQuestions":"false","BlockVisibility":"Expanded"}},"10":{"Type":"Standard","SubType":"","Description":"Trading Block","ID":"BL_0ADOZC66xkxJpAi","BlockElements":[{"Type":"Question","QuestionID":"QID1322501948"},{"Type":"Question","QuestionID":"QID58"}],"Options":{"BlockLocking":false,"RandomizeQuestions":"false","BlockVisibility":"Expanded"}},"12":{"Type":"Standard","SubType":"","Description":"Trading Block","ID":"BL_d1erfgpMEExtmNU","BlockElements":[{"Type":"Question","QuestionID":"QID1322501955"},{"Type":"Question","QuestionID":"QID59"}],"Options":{"BlockLocking":false,"RandomizeQuestions":"false","BlockVisibility":"Expanded"}},"13":{"Type":"Standard","SubType":"","Description":"Closing Block","ID":"BL_552GCeuQVQaLOVo","BlockElements":[{"Type":"Question","QuestionID":"QID41"},{"Type":"Question","QuestionID":"QID60"},{"Type":"Page Break"},{"Type":"Question","QuestionID":"QID74"},{"Type":"Question","QuestionID":"QID78"}]},"14":{"Type":"Standard","SubType":"","Description":"Introduction to Trading Simulation","ID":"BL_0vbXSwdCdK4lIV0","BlockElements":[{"Type":"Question","QuestionID":"QID42"}]},"16":{"Type":"Standard","Description":"BDS 5010: Start","ID":"BL_5bCCz8xRW4pMcfQ","BlockElements":[{"Type":"Question","QuestionID":"QID1322503304"},{"Type":"Question","QuestionID":"QID53"},{"Type":"Page Break"},{"Type":"Question","QuestionID":"QID79"},{"Type":"Question","QuestionID":"QID1322503306"},{"Type":"Question","QuestionID":"QID1322503307"}]},"18":{"Type":"Standard","SubType":"","Description":"BDS 5010: Financial Background","ID":"BL_aaeTQh5YplThSdg","BlockElements":[{"Type":"Question","QuestionID":"QID1322503329","SkipLogic":[{"SkipLogicID":2,"ChoiceLocator":"q:\/\/QID1322503329\/SelectableChoice\/1","Condition":"Selected","SkipToDestination":"ENDOFBLOCK","Locator":"q:\/\/QID1322503329\/SelectableChoice\/1","SkipToDescription":"Have you ever traded stocks... <strong>Never<\/strong>  <strong>Is Selected<\/strong>","Description":"Condition: <strong title=\"Never\">Never<\/strong> <strong>Is Selected<\/strong>. Skip To: <strong>End of Block<\/strong>.","QuestionID":"QID1322503329"}]},{"Type":"Question","QuestionID":"QID1322503330"},{"Type":"Question","QuestionID":"QID1322503331"}]},"19":{"Type":"Standard","SubType":"","Description":"Block 10","ID":"BL_ePBpj3bQIRiGwJ0","BlockElements":[{"Type":"Question","QuestionID":"QID63"},{"Type":"Question","QuestionID":"QID67"}]},"20":{"Type":"Standard","SubType":"","Description":"Block 11","ID":"BL_bjDanUKt2X5z3fg","BlockElements":[{"Type":"Question","QuestionID":"QID69"},{"Type":"Question","QuestionID":"QID70"}]},"23":{"Type":"Standard","SubType":"","Description":"Trading Simulation Block","ID":"BL_8um2jBM69q4zTDw","BlockElements":[{"Type":"Question","QuestionID":"QID1322585695"},{"Type":"Question","QuestionID":"QID1322585696"}],"Options":{"BlockLocking":false,"RandomizeQuestions":"false","BlockVisibility":"Expanded"}},"25":{"Type":"Standard","SubType":"","Description":"Trading Simulation Block","ID":"BL_aXnTujGMQSlreM6","BlockElements":[{"Type":"Question","QuestionID":"QID1322585767"},{"Type":"Question","QuestionID":"QID1322585768"}],"Options":{"BlockLocking":false,"RandomizeQuestions":"false","BlockVisibility":"Expanded"}}}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"FL","PrimaryAttribute":"Survey Flow","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"Type":"Root","FlowID":"FL_1","Flow":[{"Type":"Standard","ID":"BL_5bCCz8xRW4pMcfQ","FlowID":"FL_2","Autofill":[]},{"Type":"Standard","ID":"BL_aaeTQh5YplThSdg","FlowID":"FL_3","Autofill":[]},{"Type":"BlockRandomizer","FlowID":"FL_4","SubSet":1,"EvenPresentation":true,"Flow":[{"Type":"EmbeddedData","FlowID":"FL_19","EmbeddedData":[{"Description":"ConditionLabel","Type":"Custom","Field":"ConditionLabel","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"C"},{"Description":"SawProb","Type":"Custom","Field":"SawProb","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"}]},{"Type":"EmbeddedData","FlowID":"FL_20","EmbeddedData":[{"Description":"ConditionLabel","Type":"Custom","Field":"ConditionLabel","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"T1"},{"Description":"SawProb","Type":"Custom","Field":"SawProb","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"1"}]},{"Type":"EmbeddedData","FlowID":"FL_21","EmbeddedData":[{"Description":"ConditionLabel","Type":"Custom","Field":"ConditionLabel","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"T2"},{"Description":"SawProb","Type":"Custom","Field":"SawProb","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"}]},{"Type":"EmbeddedData","FlowID":"FL_22","EmbeddedData":[{"Description":"ConditionLabel","Type":"Custom","Field":"ConditionLabel","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"T3"},{"Description":"SawProb","Type":"Custom","Field":"SawProb","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"1"}]}]},{"Type":"EmbeddedData","FlowID":"FL_5","EmbeddedData":[{"Description":"Round","Type":"Custom","Field":"Round","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"1"},{"Description":"Cash","Type":"Custom","Field":"Cash","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"2000"},{"Description":"HoldA","Type":"Custom","Field":"HoldA","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"HoldB","Type":"Custom","Field":"HoldB","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"HoldC","Type":"Custom","Field":"HoldC","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"HoldD","Type":"Custom","Field":"HoldD","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"AvgCostA","Type":"Custom","Field":"AvgCostA","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"AvgCostB","Type":"Custom","Field":"AvgCostB","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"AvgCostC","Type":"Custom","Field":"AvgCostC","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"AvgCostD","Type":"Custom","Field":"AvgCostD","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"PricePathJSON","Type":"Custom","Field":"PricePathJSON","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"[{\"A\":100,\"B\":100,\"C\":100,\"D\":100},{\"A\":104,\"B\":98,\"C\":101,\"D\":99},{\"A\":109.2,\"B\":93.1,\"C\":106.0,\"D\":95.0},{\"A\":112.5,\"B\":97.8,\"C\":101.8,\"D\":99.8},{\"A\":118.1,\"B\":92.9,\"C\":106.9,\"D\":95.8},{\"A\":124.2,\"B\":98.6,\"C\":102.6,\"D\":100.6},{\"A\":119.0,\"B\":103.5,\"C\":108.5,\"D\":96.5},{\"A\":125.0,\"B\":97.5,\"C\":111.5,\"D\":101.5}]"},{"Description":"LastPriceA","Type":"Recipient","Field":"LastPriceA","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"LastPriceB","Type":"Recipient","Field":"LastPriceB","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"LastPriceC","Type":"Recipient","Field":"LastPriceC","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"LastPriceD","Type":"Recipient","Field":"LastPriceD","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"RealizedGains","Type":"Custom","Field":"RealizedGains","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"RealizedLosses","Type":"Custom","Field":"RealizedLosses","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"NumRealizedGains","Type":"Custom","Field":"NumRealizedGains","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"NumRealizedLosses","Type":"Custom","Field":"NumRealizedLosses","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"AdviceOpens","Type":"Custom","Field":"AdviceOpens","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"AdviceFollowed","Type":"Custom","Field":"AdviceFollowed","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"AdviceOpened_R1","Type":"Recipient","Field":"AdviceOpened_R1","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"AdviceOpened_R2","Type":"Recipient","Field":"AdviceOpened_R2","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"AdviceOpened_R3","Type":"Recipient","Field":"AdviceOpened_R3","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"AdviceOpened_R4","Type":"Recipient","Field":"AdviceOpened_R4","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"AdviceOpened_R5","Type":"Recipient","Field":"AdviceOpened_R5","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"AdviceTarget_R1","Type":"Recipient","Field":"AdviceTarget_R1","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"AdviceTarget_R2","Type":"Recipient","Field":"AdviceTarget_R2","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"AdviceTarget_R3","Type":"Recipient","Field":"AdviceTarget_R3","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"AdviceTarget_R4","Type":"Recipient","Field":"AdviceTarget_R4","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"AdviceTarget_R5","Type":"Recipient","Field":"AdviceTarget_R5","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"PerceivedClarity","Type":"Recipient","Field":"PerceivedClarity","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"PerceivedCompetence","Type":"Recipient","Field":"PerceivedCompetence","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"PerceivedTrust","Type":"Recipient","Field":"PerceivedTrust","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"FinancialLiteracy","Type":"Recipient","Field":"FinancialLiteracy","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"PriorAttitude","Type":"Recipient","Field":"PriorAttitude","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"AttentionCheck","Type":"Recipient","Field":"AttentionCheck","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"PortfolioValue","Type":"Recipient","Field":"PortfolioValue","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"TotalPayout","Type":"Recipient","Field":"TotalPayout","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"NumPaperGainsOpp","Type":"Custom","Field":"NumPaperGainsOpp","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"NumPaperLossesOpp","Type":"Custom","Field":"NumPaperLossesOpp","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"PGR","Type":"Recipient","Field":"PGR","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"PLR","Type":"Recipient","Field":"PLR","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"DE","Type":"Recipient","Field":"DE","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"FinalPortfolioValue","Type":"Recipient","Field":"FinalPortfolioValue","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"AdviceOpened_R6","Type":"Recipient","Field":"AdviceOpened_R6","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"AdviceTarget_R6","Type":"Recipient","Field":"AdviceTarget_R6","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"PortfolioValue_R1","Type":"Custom","Field":"PortfolioValue_R1","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"PortfolioValue_R2","Type":"Custom","Field":"PortfolioValue_R2","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"PortfolioValue_R3","Type":"Custom","Field":"PortfolioValue_R3","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"PortfolioValue_R4","Type":"Custom","Field":"PortfolioValue_R4","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"PortfolioValue_R5","Type":"Custom","Field":"PortfolioValue_R5","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"PortfolioValue_R6","Type":"Custom","Field":"PortfolioValue_R6","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"InitFlag","Type":"Custom","Field":"InitFlag","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"RandomID","Type":"Custom","Field":"RandomID","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"${rand:\/\/int\/10000:99999}"},{"Description":"PortfolioValue_R7","Type":"Custom","Field":"PortfolioValue_R7","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"PortfolioValue_R8","Type":"Custom","Field":"PortfolioValue_R8","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"0"},{"Description":"AdviceOpened_R7","Type":"Recipient","Field":"AdviceOpened_R7","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"AdviceOpened_R8","Type":"Recipient","Field":"AdviceOpened_R8","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"AdviceTarget_R7","Type":"Recipient","Field":"AdviceTarget_R7","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"AdviceTarget_R8","Type":"Recipient","Field":"AdviceTarget_R8","VariableType":"String","DataVisibility":[],"AnalyzeText":false}]},{"Type":"Standard","ID":"BL_0vbXSwdCdK4lIV0","FlowID":"FL_6","Autofill":[]},{"Type":"Standard","ID":"BL_ePBpj3bQIRiGwJ0","FlowID":"FL_7","Autofill":[]},{"Type":"Block","ID":"BL_07DiclXvkQTFxNc","FlowID":"FL_8","Autofill":[]},{"Type":"Standard","ID":"BL_2c6WMW4Pk3THNYi","FlowID":"FL_9","Autofill":[]},{"Type":"Standard","ID":"BL_0vz7ttFeR78Ig3s","FlowID":"FL_10","Autofill":[]},{"Type":"Standard","ID":"BL_6XMUjUAg9mXL3QW","FlowID":"FL_11","Autofill":[]},{"Type":"Standard","ID":"BL_0ADOZC66xkxJpAi","FlowID":"FL_12","Autofill":[]},{"Type":"Standard","ID":"BL_d1erfgpMEExtmNU","FlowID":"FL_13","Autofill":[]},{"Type":"Standard","ID":"BL_8um2jBM69q4zTDw","FlowID":"FL_14","Autofill":[]},{"Type":"Standard","ID":"BL_aXnTujGMQSlreM6","FlowID":"FL_18","Autofill":[]},{"Type":"Standard","ID":"BL_bjDanUKt2X5z3fg","FlowID":"FL_16","Autofill":[]},{"Type":"Standard","ID":"BL_552GCeuQVQaLOVo","FlowID":"FL_17","Autofill":[]}],"Properties":{"Count":22}}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"PL","PrimaryAttribute":"Preview Link","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"PreviewType":"Brand","PreviewID":"7cb898fa-9e84-4562-b92b-ce2bcafcaf68"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"PROJ","PrimaryAttribute":"CORE","SecondaryAttribute":null,"TertiaryAttribute":"1.1.0","Payload":{"ProjectCategory":"CORE","SchemaVersion":"1.1.0"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"QC","PrimaryAttribute":"Survey Question Count","SecondaryAttribute":"85","TertiaryAttribute":null,"Payload":null},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"RS","PrimaryAttribute":"RS_9v2N8SBS4E3XiF8","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":null},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SCO","PrimaryAttribute":"Scoring","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"ScoringCategories":[],"ScoringCategoryGroups":[],"ScoringSummaryCategory":null,"ScoringSummaryAfterQuestions":0,"ScoringSummaryAfterSurvey":0,"DefaultScoringCategory":null,"AutoScoringCategory":null}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SO","PrimaryAttribute":"Survey Options","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"BackButton":"false","SaveAndContinue":"true","SurveyProtection":"PublicSurvey","BallotBoxStuffingPrevention":"false","NoIndex":"Yes","SecureResponseFiles":"true","SurveyExpiration":"None","SurveyTermination":"DefaultMessage","Header":"","Footer":"","ProgressBarDisplay":"None","PartialData":"+1 week","ValidationMessage":null,"PreviousButton":" \u2190 ","NextButton":" \u2192 ","SurveyTitle":"Qualtrics Survey | Qualtrics Experience Management","SkinLibrary":"upenn","SkinType":"templated","Skin":{"brandingId":"6057378996","templateId":"*2014","overrides":{"colors":{"primary":"#aaedc5","secondary":"#66c38b"}}},"NewScoring":1,"SurveyMetaDescription":"The most powerful, simple and trusted way to gather experience data. Start your journey to experience management and try a free account today.","SurveyName":"AI & Investment Behaviour (Final)","EOSMessage":null,"ShowExportTags":"false","CollectGeoLocation":"false","PasswordProtection":"No","AnonymizeResponse":"No","RefererCheck":"No","BallotBoxStuffingPreventionBehavior":null,"BallotBoxStuffingPreventionMessage":null,"BallotBoxStuffingPreventionMessageLibrary":null,"BallotBoxStuffingPreventionURL":null,"RecaptchaV3":"true","ConfirmStart":false,"AutoConfirmStart":false,"RelevantID":"false","RelevantIDLockoutPeriod":"+30 days","UseCustomSurveyLinkCompletedMessage":null,"SurveyLinkCompletedMessage":null,"SurveyLinkCompletedMessageLibrary":null,"ResponseSummary":"No","EOSMessageLibrary":null,"EOSRedirectURL":null,"EmailThankYou":"false","ThankYouEmailMessageLibrary":null,"ThankYouEmailMessage":null,"ValidateMessage":"false","ValidationMessageLibrary":null,"InactiveSurvey":null,"PartialDeletion":null,"PartialDataCloseAfter":"LastActivity","InactiveMessageLibrary":null,"InactiveMessage":null,"AvailableLanguages":{"EN":[]},"ProtectSelectionIds":true}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322501923","SecondaryAttribute":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","TertiaryAttribute":null,"Payload":{"QuestionText":"<div id=\"game\">\n  <h3>Round <span id=\"rnum\"><\/span> of 8<\/h3>\n\n  \n  <div style=\"margin-bottom:8px\" id=\"macro\"><\/div>\n\n  <p><b>Cash:<\/b> $<span id=\"cash\"><\/span><\/p>\n\n  <table border=\"1\" cellpadding=\"6\" style=\"border-collapse:collapse; width:100%; max-width:760px;\">\n    <thead>\n      <tr><th>Asset<\/th><th>Price<\/th><th>Holdings<\/th><th>Avg Cost<\/th><th>Trade<\/th><\/tr>\n    <\/thead>\n    <tbody>\n      <tr>\n        <td>A<\/td><td id=\"pA\"><\/td><td id=\"hA\"><\/td><td id=\"cA\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyA\">\n          <button data-asset=\"A\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"A\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>B<\/td><td id=\"pB\"><\/td><td id=\"hB\"><\/td><td id=\"cB\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyB\">\n          <button data-asset=\"B\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"B\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>C<\/td><td id=\"pC\"><\/td><td id=\"hC\"><\/td><td id=\"cC\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyC\">\n          <button data-asset=\"C\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"C\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>D<\/td><td id=\"pD\"><\/td><td id=\"hD\"><\/td><td id=\"cD\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyD\">\n          <button data-asset=\"D\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"D\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n    <\/tbody>\n  <\/table>\n\n  <div style=\"margin-top:12px;\" id=\"adviceArea\">\n    <button type=\"button\" id=\"adviceBtn\">Get advisor analysis<\/button>\n    <span style=\"display:none;margin-left:8px;color:green;\" id=\"adviceSeen\">(analysis shown)<\/span>\n    <div style=\"display:none;border:1px solid #ccc;padding:8px;margin-top:6px;\" id=\"adviceBox\">\n      <div id=\"adviceText\"><\/div>\n    <\/div>\n  <\/div>\n\n  <p style=\"margin-top:12px\">\n    <i>Make any trades you want, then click Continue to proceed.<\/i>\n  <\/p>\n<\/div>","DefaultChoices":false,"QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionJS":"Qualtrics.SurveyEngine.addOnReady(function () {\n  \/\/ ===== helpers =====\n  function ed(k){ return Qualtrics.SurveyEngine.getEmbeddedData(k); }\n  function set(k,v){ Qualtrics.SurveyEngine.setEmbeddedData(k, v); }\n  function num(x){ var y = parseFloat(x); return isNaN(y) ? 0 : y; }\n  function el(id){ return document.getElementById(id); }\n  function showError(msg){\n    var d = document.createElement('div');\n    d.style.cssText='background:#fee;border:1px solid #f66;color:#900;padding:8px;margin:8px 0';\n    d.innerHTML='<b>Setup error:<\/b> '+msg;\n    (document.getElementById('game')||document.body).insertBefore(d,(document.getElementById('game')||document.body).firstChild);\n  }\n\n  \/\/ ===== round index (SET per page) =====\n  var R = 2; \/\/ <<< set 1..6 on each round page\n\n  \/\/ ===== treatment arm (from Survey Flow Randomizer; stable across pages) =====\n  var label = (ed('ConditionLabel')||'').trim();\n  if(!label){ try{ label = (localStorage.getItem('AB_ConditionLabel')||'').trim(); }catch(e){} }\n  if(!label){ label = 'C'; } \/\/ preview safety\n  set('ConditionLabel', label);\n  try{ localStorage.setItem('AB_ConditionLabel', label); }catch(e){}\n  \/\/ ---- Four arms (derive booleans from ConditionLabel) ----\n  \/\/ C  = Analysis only (no probability, no imperative)\n  \/\/ T1 = Analysis + Quantified Confidence (p=\u2026)\n  \/\/ T2 = Reason-based Imperative (Analysis + \"Recommendation: \u2026\")\n  \/\/ T3 = Reason-based Imperative + Quantified Confidence\n  var quantified = (label==='T1' || label==='T3');\n  var imperative = (label==='T2' || label==='T3');\n\n  \/\/ ===== load state =====\n  var cash  = num(ed('Cash'));\n  var holds = {A:num(ed('HoldA')), B:num(ed('HoldB')), C:num(ed('HoldC')), D:num(ed('HoldD'))};\n  var avgc  = {A:num(ed('AvgCostA')), B:num(ed('AvgCostB')), C:num(ed('AvgCostC')), D:num(ed('AvgCostD'))};\n\n  \/\/ ===== price path =====\n  var pathText = ed('PricePathJSON') || '[]';\n  var path; try{ path = JSON.parse(pathText); }catch(e){ path=[]; }\n  if(!path[R-1]){ showError('PricePathJSON missing entry for round '+R); return; }\n  var px = path[R-1];\n  var prices = {A:num(px.A), B:num(px.B), C:num(px.C), D:num(px.D)};\n  if(![prices.A,prices.B,prices.C,prices.D].every(v=>v>0)){ showError('Invalid prices on round '+R); return; }\n\n  \/\/ ===== optional macro narrative =====\n  var narrText = ed('MarketNarrativeJSON') || '[]';\n  var narr=[]; try{ narr = JSON.parse(narrText); }catch(e){}\n  var macroEl = el('macro');\n  if(macroEl){ macroEl.innerHTML = '<b>Market condition:<\/b> ' + (narr[R-1] || 'Prices move exogenously; your trades do not affect prices.'); }\n\n  \/\/ ===== basic UI fill =====\n  if(el('rnum')) el('rnum').innerText = R;\n  if(el('cash')) el('cash').innerText = cash.toFixed(2);\n  ['A','B','C','D'].forEach(function(k){\n    if(el('p'+k)) el('p'+k).innerText = '$'+prices[k].toFixed(2);\n    if(el('h'+k)) el('h'+k).innerText = holds[k];\n    if(el('c'+k)) el('c'+k).innerText = holds[k]>0 ? '$'+avgc[k].toFixed(2) : '\u2014';\n  });\n\n  \/\/ ===== trends (look back up to 3 rounds) =====\n  function lastNRoundAvgReturn(asset,N){\n    var n=Math.min(N,R-1); if(n<=0) return 0;\n    var sum=0,cnt=0;\n    for(var t=R-1; t>=1 && cnt<n; t--){\n      var p_t=num(path[t][asset]), p_tm1=num(path[t-1][asset]);\n      if(p_t>0 && p_tm1>0){ sum += (p_t\/p_tm1 - 1); cnt++; }\n    }\n    return cnt? sum\/cnt : 0;\n  }\n  var lookback = Math.min(3, R-1); \/\/ 1..3 (0 on R1)\n  var trend = {A:lastNRoundAvgReturn('A',lookback),\n               B:lastNRoundAvgReturn('B',lookback),\n               C:lastNRoundAvgReturn('C',lookback),\n               D:lastNRoundAvgReturn('D',lookback)};\n  function trendRankString(){\n    return ['A','B','C','D'].map(k=>k+':'+(trend[k]*100).toFixed(1)+'%').join(', ');\n  }\n\n  \/\/ ===== snapshot paper opps BEFORE any trading (for correct PGR\/PLR) =====\n  var preOppG = 0, preOppL = 0;\n  (function snapshotPreTradeOpps(){\n    ['A','B','C','D'].forEach(function(k){\n      var h=holds[k], ac=avgc[k], p=prices[k];\n      if(h>0 && ac>0){\n        if(p>ac) preOppG += 1;\n        else if(p<ac) preOppL += 1;\n      }\n    });\n  })();\n\n  \/\/ ===== advisor UI =====\n  var adviceBtn  = el('adviceBtn'),\n      adviceBox  = el('adviceBox'),\n      adviceSeen = el('adviceSeen'),\n      adviceText = el('adviceText');\n\n  \/\/ Round 1 only: no advice (insufficient history)\n  if(R===1 && adviceBtn){ adviceBtn.style.display='none'; }\n\n  var adviceOpened=false;\n  var advisedAction={type:'None', asset:null};\n  var advisedProb = null; \/\/ store p for T1\/T3\n\n  \/\/ ===== action thresholds (ED overrideable) =====\n  var BUY_THRESH  = num(ed('BuyThresh'))  ||  0.002;  \/\/ +0.20% avg\/round\n  var SELL_THRESH = num(ed('SellThresh')) ||  0.002;  \/\/ \u22120.20% avg\/round (apply as negative)\n\n  \/\/ ===== probability model utilities (for T1\/T3) =====\n  \/\/ normal CDF (Abramowitz-Stegun approx)\n  function normcdf(z){\n    var t = 1 \/ (1 + 0.2316419 * Math.abs(z));\n    var d = 0.3989422804014327 * Math.exp(-0.5*z*z);\n    var p = d * t * (0.319381530 + t*(-0.356563782 + t*(1.781477937 + t*(-1.821255978 + t*1.330274429))));\n    return (z >= 0) ? 1 - p : p;\n  }\n  function clamp(x,a,b){ return Math.max(a, Math.min(b, x)); }\n\n  function computeConfidence(target, action){\n    \/\/ Use the absolute trend magnitude of chosen target vs cross-asset variability.\n    \/\/ SE \u2248 std of trends across assets \/ sqrt(lookback or 1)\n    var arr = ['A','B','C','D'].map(k=>trend[k]);\n    var mean = arr.reduce((s,v)=>s+v,0)\/arr.length;\n    var var_ = arr.reduce((s,v)=>s+(v-mean)*(v-mean),0)\/Math.max(1,arr.length-1);\n    var std = Math.sqrt(var_ || 1e-8);\n    var effN = Math.max(1, lookback || 1);\n    var se = std \/ Math.sqrt(effN);\n\n    var signal = Math.abs(trend[target] || 0);\n    var z = (se>0) ? signal \/ se : 0;\n    var twoSided = 2*normcdf(Math.abs(z)) - 1; \/\/ maps 0..\u221e \u2192 0..1\n\n    \/\/ Calibrate to a believable band [0.55, 0.95]\n    var p = clamp(0.55 + 0.40 * Math.min(twoSided, 1), 0.55, 0.95);\n    \/\/ Slightly nudge lower for \"No trade\"\n    if(action==='None') p = Math.max(0.55, p - 0.05);\n    return p;\n  }\n\n  \/\/ ===== build advice (formats differ by arm; content identical source) =====\n  function buildAdvice(){\n    var held = ['A','B','C','D'].filter(k=>holds[k]>0);\n    var sellCand = null;\n    if(held.length){\n      sellCand = held.reduce((w,k)=> (w===null||trend[k]<trend[w])?k:w, null);\n    }\n    var buyCand = ['A','B','C','D'].reduce((b,k)=> (b===null||trend[k]>trend[b])?k:b, null);\n\n    var action='None', target=null, edgeMsg='no strong directional edge across assets';\n    if(sellCand && trend[sellCand] <= -Math.abs(SELL_THRESH)){\n      action='Sell'; target=sellCand; edgeMsg='lower expected return for <b>Asset '+target+'<\/b>';\n    } else if(buyCand && trend[buyCand] >= Math.abs(BUY_THRESH) && cash >= prices[buyCand]){\n      action='Buy'; target=buyCand; edgeMsg='higher expected return for <b>Asset '+target+'<\/b>';\n    }\n    advisedAction.type=action; advisedAction.asset=target;\n\n    \/\/ ---- CORE ANALYSIS LINE (shared across all arms) ----\n    var analysis = 'Recent multi-round momentum (last-'+(lookback||1)+'-round trends: '+trendRankString()+') suggests '+edgeMsg+'.';\n\n    \/\/ ---- confidence p for T1\/T3 (data-driven, not fixed 0.84) ----\n    advisedProb = (quantified ? computeConfidence(target || (buyCand||sellCand||'A'), action) : null);\n    var probTag = quantified ? ' <span>(p = '+(advisedProb? advisedProb.toFixed(2) : '0.55')+')<\/span>' : '';\n\n    \/\/ ---- FOUR CONDITIONS (formatting only) ----\n    \/\/ C  : analysis\n    \/\/ T1 : analysis + (p = \u2026)\n    \/\/ T2 : analysis \u2014 Recommendation: {Buy\/Sell\/No trade}\n    \/\/ T3 : analysis \u2014 Recommendation: {\u2026} (p = \u2026)\n    var imperativeTail='';\n    if(imperative){\n      if(action==='Sell')      imperativeTail=' \u2014 <b>Recommendation: Sell '+target+'<\/b>';\n      else if(action==='Buy')  imperativeTail=' \u2014 <b>Recommendation: Buy '+target+'<\/b>';\n      else                     imperativeTail=' \u2014 <b>Recommendation: No trade<\/b>';\n      if(quantified) imperativeTail += probTag;          \/\/ T3 only\n    }else{\n      if(quantified) analysis += probTag;                \/\/ T1 only\n    }\n\n    \/\/ Persist advice meta for audit\n    set('AdviceAction_R'+R, action);\n    set('AdviceAsset_R'+R,  target||'');\n    if(quantified) set('AdviceProb_R'+R, advisedProb ? advisedProb.toFixed(4) : '');\n\n    return analysis + imperativeTail;\n  }\n\n  if(adviceBtn && R>=2){\n    adviceBtn.style.display = ''; \/\/ ensure visible for ALL arms from R2+\n    adviceBtn.addEventListener('click',function(){\n      if(adviceBox.style.display==='none'){\n        adviceText.innerHTML = buildAdvice();\n        adviceBox.style.display='block';\n        if(adviceSeen) adviceSeen.style.display='inline';\n        if(!adviceOpened){ adviceOpened=true; set('AdviceOpens', num(ed('AdviceOpens'))+1); }\n      }else{\n        adviceBox.style.display='none';\n      }\n    });\n  }\n\n  \/\/ ===== trading, PV, persistence =====\n  function portfolioValueNow(){ return cash + holds.A*prices.A + holds.B*prices.B + holds.C*prices.C + holds.D*prices.D; }\n  function refreshPV(){\n    var pvSpan=document.getElementById('pvSpan');\n    if(!pvSpan){ var p=document.createElement('p'); p.innerHTML='<b>Current portfolio value:<\/b> $<span id=\"pvSpan\"><\/span>'; (document.getElementById('game')||document.body).appendChild(p); pvSpan=document.getElementById('pvSpan'); }\n    pvSpan.innerText=portfolioValueNow().toFixed(2);\n  }\n  refreshPV();\n\n  function trade(asset,side){\n    var qtyEl=el('qty'+asset); var qty=Math.floor(num(qtyEl&&qtyEl.value));\n    if(!qty||qty<=0) return;\n    var price=prices[asset], hold=holds[asset], ac=avgc[asset];\n\n    if(side==='Buy'){\n      var cost=qty*price; if(cost>cash) return;\n      var newHold=hold+qty, newAvg=(hold*ac+qty*price)\/newHold;\n      cash-=cost; holds[asset]=newHold; avgc[asset]=newAvg;\n      if(imperative && adviceOpened && advisedAction.type==='Buy' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }else{\n      qty=Math.min(qty,hold); if(qty===0) return;\n      var proceeds=qty*price; cash+=proceeds;\n      var pl=(price-ac)*qty;\n      if(pl>=0){ set('RealizedGains', num(ed('RealizedGains'))+pl); set('NumRealizedGains', num(ed('NumRealizedGains'))+1); }\n      else     { set('RealizedLosses', num(ed('RealizedLosses'))+Math.abs(pl)); set('NumRealizedLosses', num(ed('NumRealizedLosses'))+1); }\n      hold-=qty; if(hold===0) ac=0; holds[asset]=hold; avgc[asset]=ac;\n      if(imperative && adviceOpened && advisedAction.type==='Sell' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }\n    if(el('h'+asset)) el('h'+asset).innerText=holds[asset];\n    if(el('c'+asset)) el('c'+asset).innerText=holds[asset]>0 ? '$'+avgc[asset].toFixed(2) : '\u2014';\n    if(el('cash')) el('cash').innerText=cash.toFixed(2);\n    if(qtyEl) qtyEl.value='';\n    refreshPV();\n  }\n  Array.from(document.querySelectorAll('button.buy')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Buy')));\n  Array.from(document.querySelectorAll('button.sell')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Sell')));\n\n  function persistState(){\n    try{\n      var pv=portfolioValueNow(); refreshPV();\n\n      \/\/ \u2705 Use the PRE-TRADE snapshot to accumulate paper opportunities\n      if(preOppG>0) set('NumPaperGainsOpp',  num(ed('NumPaperGainsOpp'))  + preOppG);\n      if(preOppL>0) set('NumPaperLossesOpp', num(ed('NumPaperLossesOpp')) + preOppL);\n\n      \/\/ write state\n      set('Cash', cash.toFixed(2));\n      ['A','B','C','D'].forEach(k=>{ set('Hold'+k, holds[k]); set('AvgCost'+k, avgc[k].toFixed(6)); set('LastPrice'+k, prices[k]); });\n      set('PortfolioValue_R'+R, pv.toFixed(2));\n      set('AdviceOpened_R'+R, adviceOpened?1:0);\n      set('AdviceTarget_R'+R, advisedAction.asset||'');\n      set('AdviceType_R'+R, advisedAction.type||'');\n      if(quantified && advisedProb!=null) set('AdviceProb_R'+R, advisedProb.toFixed(4));\n      set('Round', R+1);\n    }catch(e){ showError('Persist error: '+e.message); }\n  }\n\n  var nextBtn=document.getElementById('NextButton'); if(nextBtn) nextBtn.style.display='none';\n  var go=document.createElement('button'); go.type='button'; go.id='GoNext'; go.textContent='Continue'; go.style.cssText='margin-top:12px;padding:8px 14px;';\n  (document.getElementById('game')||document.body).appendChild(go);\n  go.addEventListener('click', function(){ persistState(); setTimeout(function(){ if(nextBtn) nextBtn.click(); }, 30); });\n  this.addOnPageSubmit(function(){ persistState(); });\n\n  \/\/ Debug: add ?debug=1 to URL to see your arm + p on-page\n  try{\n    if((new URLSearchParams(location.search)).get('debug')==='1'){\n      var dbg=document.createElement('div');\n      dbg.style.cssText='margin:8px 0;color:#666;font-size:12px';\n      dbg.textContent='Arm: '+label+' (quantified='+quantified+', imperative='+imperative+')';\n      (document.getElementById('game')||document.body).insertBefore(dbg,(document.getElementById('game')||document.body).firstChild);\n    }\n  }catch(e){}\n});","QuestionText_Unsafe":"<div id=\"game\">\n\t<h3>Round <span id=\"rnum\"><\/span> of 6<\/h3>\n\n  <div id=\"macro\" style=\"margin-bottom:8px\">\n    <b>Market condition:<\/b> Prices move exogenously each round (+6 % or \u22125 %).  \n    Your trades do not affect prices.\n  <\/div>\n\n  <p><b>Cash:<\/b> $<span id=\"cash\"><\/span><\/p>\n\n  <table border=\"1\" cellpadding=\"6\" style=\"border-collapse:collapse; width:100%; max-width:760px;\">\n    <thead>\n      <tr><th>Asset<\/th><th>Price<\/th><th>Holdings<\/th><th>Avg Cost<\/th><th>Trade<\/th><\/tr>\n    <\/thead>\n    <tbody>\n      \n      <tr>\n        <td>A<\/td><td id=\"pA\"><\/td><td id=\"hA\"><\/td><td id=\"cA\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyA\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"A\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"A\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      \n      <tr>\n        <td>B<\/td><td id=\"pB\"><\/td><td id=\"hB\"><\/td><td id=\"cB\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyB\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"B\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"B\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      \n      <tr>\n        <td>C<\/td><td id=\"pC\"><\/td><td id=\"hC\"><\/td><td id=\"cC\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyC\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"C\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"C\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      \n      <tr>\n        <td>D<\/td><td id=\"pD\"><\/td><td id=\"hD\"><\/td><td id=\"cD\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyD\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"D\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"D\">Sell<\/button>\n        <\/td>\n      <\/tr>\n    <\/tbody>\n  <\/table>\n\n  <div style=\"margin-top:12px\">\n    <button type=\"button\" id=\"adviceBtn\">Get Advice<\/button>\n    <span id=\"adviceSeen\" style=\"display:none;color:green;margin-left:8px;\">Advice opened \u2714<\/span>\n  <\/div>\n\n  <div id=\"adviceBox\" style=\"display:none;margin-top:10px;padding:10px;border:1px solid #ccc;\">\n    <b>Advisor<\/b>\n    <div id=\"adviceText\" style=\"margin-top:6px;\"><\/div>\n  <\/div>\n\n  <p style=\"margin-top:12px\"><i>Make any trades you want, then click Next to continue.<\/i><\/p>\n<\/div>","DataExportTag":"Round 2","QuestionID":"QID1322501923"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322501934","SecondaryAttribute":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","TertiaryAttribute":null,"Payload":{"QuestionText":"<div id=\"game\">\n  <h3>Round <span id=\"rnum\"><\/span> of 8<\/h3>\n\n  \n  <div id=\"macro\" style=\"margin-bottom:8px\"><\/div>\n\n  <p><b>Cash:<\/b> $<span id=\"cash\"><\/span><\/p>\n\n  <table style=\"border-collapse:collapse; width:100%; max-width:760px;\" cellpadding=\"6\" border=\"1\">\n    <thead>\n      <tr><th>Asset<\/th><th>Price<\/th><th>Holdings<\/th><th>Avg Cost<\/th><th>Trade<\/th><\/tr>\n    <\/thead>\n    <tbody>\n      <tr>\n        <td>A<\/td><td id=\"pA\"><\/td><td id=\"hA\"><\/td><td id=\"cA\"><\/td>\n        <td>\n          <input id=\"qtyA\" type=\"number\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"A\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"A\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>B<\/td><td id=\"pB\"><\/td><td id=\"hB\"><\/td><td id=\"cB\"><\/td>\n        <td>\n          <input id=\"qtyB\" type=\"number\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"B\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"B\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>C<\/td><td id=\"pC\"><\/td><td id=\"hC\"><\/td><td id=\"cC\"><\/td>\n        <td>\n          <input id=\"qtyC\" type=\"number\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"C\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"C\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>D<\/td><td id=\"pD\"><\/td><td id=\"hD\"><\/td><td id=\"cD\"><\/td>\n        <td>\n          <input id=\"qtyD\" type=\"number\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"D\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"D\">Sell<\/button>\n        <\/td>\n      <\/tr>\n    <\/tbody>\n  <\/table>\n\n  <div id=\"adviceArea\" style=\"margin-top:12px;\">\n    <button id=\"adviceBtn\" type=\"button\">Get advisor analysis<\/button>\n    <span id=\"adviceSeen\" style=\"display:none;margin-left:8px;color:green;\">(analysis shown)<\/span>\n    <div id=\"adviceBox\" style=\"display:none;border:1px solid #ccc;padding:8px;margin-top:6px;\">\n      <div id=\"adviceText\"><\/div>\n    <\/div>\n  <\/div>\n\n  <p style=\"margin-top:12px\">\n    <i>Make any trades you want, then click Continue to proceed.<\/i>\n  <\/p>\n<\/div>","DefaultChoices":false,"QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionJS":"Qualtrics.SurveyEngine.addOnReady(function () {\n  \/\/ ===== helpers =====\n  function ed(k){ return Qualtrics.SurveyEngine.getEmbeddedData(k); }\n  function set(k,v){ Qualtrics.SurveyEngine.setEmbeddedData(k, v); }\n  function num(x){ var y = parseFloat(x); return isNaN(y) ? 0 : y; }\n  function el(id){ return document.getElementById(id); }\n  function showError(msg){\n    var d = document.createElement('div');\n    d.style.cssText='background:#fee;border:1px solid #f66;color:#900;padding:8px;margin:8px 0';\n    d.innerHTML='<b>Setup error:<\/b> '+msg;\n    (document.getElementById('game')||document.body).insertBefore(d,(document.getElementById('game')||document.body).firstChild);\n  }\n\n  \/\/ ===== round index (SET per page) =====\n  var R = 3; \/\/ <<< set 1..6 on each round page\n\n  \/\/ ===== treatment arm (from Survey Flow Randomizer; stable across pages) =====\n  var label = (ed('ConditionLabel')||'').trim();\n  if(!label){ try{ label = (localStorage.getItem('AB_ConditionLabel')||'').trim(); }catch(e){} }\n  if(!label){ label = 'C'; } \/\/ preview safety\n  set('ConditionLabel', label);\n  try{ localStorage.setItem('AB_ConditionLabel', label); }catch(e){}\n  \/\/ ---- Four arms (derive booleans from ConditionLabel) ----\n  \/\/ C  = Analysis only (no probability, no imperative)\n  \/\/ T1 = Analysis + Quantified Confidence (p=\u2026)\n  \/\/ T2 = Reason-based Imperative (Analysis + \"Recommendation: \u2026\")\n  \/\/ T3 = Reason-based Imperative + Quantified Confidence\n  var quantified = (label==='T1' || label==='T3');\n  var imperative = (label==='T2' || label==='T3');\n\n  \/\/ ===== load state =====\n  var cash  = num(ed('Cash'));\n  var holds = {A:num(ed('HoldA')), B:num(ed('HoldB')), C:num(ed('HoldC')), D:num(ed('HoldD'))};\n  var avgc  = {A:num(ed('AvgCostA')), B:num(ed('AvgCostB')), C:num(ed('AvgCostC')), D:num(ed('AvgCostD'))};\n\n  \/\/ ===== price path =====\n  var pathText = ed('PricePathJSON') || '[]';\n  var path; try{ path = JSON.parse(pathText); }catch(e){ path=[]; }\n  if(!path[R-1]){ showError('PricePathJSON missing entry for round '+R); return; }\n  var px = path[R-1];\n  var prices = {A:num(px.A), B:num(px.B), C:num(px.C), D:num(px.D)};\n  if(![prices.A,prices.B,prices.C,prices.D].every(v=>v>0)){ showError('Invalid prices on round '+R); return; }\n\n  \/\/ ===== optional macro narrative =====\n  var narrText = ed('MarketNarrativeJSON') || '[]';\n  var narr=[]; try{ narr = JSON.parse(narrText); }catch(e){}\n  var macroEl = el('macro');\n  if(macroEl){ macroEl.innerHTML = '<b>Market condition:<\/b> ' + (narr[R-1] || 'Prices move exogenously; your trades do not affect prices.'); }\n\n  \/\/ ===== basic UI fill =====\n  if(el('rnum')) el('rnum').innerText = R;\n  if(el('cash')) el('cash').innerText = cash.toFixed(2);\n  ['A','B','C','D'].forEach(function(k){\n    if(el('p'+k)) el('p'+k).innerText = '$'+prices[k].toFixed(2);\n    if(el('h'+k)) el('h'+k).innerText = holds[k];\n    if(el('c'+k)) el('c'+k).innerText = holds[k]>0 ? '$'+avgc[k].toFixed(2) : '\u2014';\n  });\n\n  \/\/ ===== trends (look back up to 3 rounds) =====\n  function lastNRoundAvgReturn(asset,N){\n    var n=Math.min(N,R-1); if(n<=0) return 0;\n    var sum=0,cnt=0;\n    for(var t=R-1; t>=1 && cnt<n; t--){\n      var p_t=num(path[t][asset]), p_tm1=num(path[t-1][asset]);\n      if(p_t>0 && p_tm1>0){ sum += (p_t\/p_tm1 - 1); cnt++; }\n    }\n    return cnt? sum\/cnt : 0;\n  }\n  var lookback = Math.min(3, R-1); \/\/ 1..3 (0 on R1)\n  var trend = {A:lastNRoundAvgReturn('A',lookback),\n               B:lastNRoundAvgReturn('B',lookback),\n               C:lastNRoundAvgReturn('C',lookback),\n               D:lastNRoundAvgReturn('D',lookback)};\n  function trendRankString(){\n    return ['A','B','C','D'].map(k=>k+':'+(trend[k]*100).toFixed(1)+'%').join(', ');\n  }\n\n  \/\/ ===== snapshot paper opps BEFORE any trading (for correct PGR\/PLR) =====\n  var preOppG = 0, preOppL = 0;\n  (function snapshotPreTradeOpps(){\n    ['A','B','C','D'].forEach(function(k){\n      var h=holds[k], ac=avgc[k], p=prices[k];\n      if(h>0 && ac>0){\n        if(p>ac) preOppG += 1;\n        else if(p<ac) preOppL += 1;\n      }\n    });\n  })();\n\n  \/\/ ===== advisor UI =====\n  var adviceBtn  = el('adviceBtn'),\n      adviceBox  = el('adviceBox'),\n      adviceSeen = el('adviceSeen'),\n      adviceText = el('adviceText');\n\n  \/\/ Round 1 only: no advice (insufficient history)\n  if(R===1 && adviceBtn){ adviceBtn.style.display='none'; }\n\n  var adviceOpened=false;\n  var advisedAction={type:'None', asset:null};\n  var advisedProb = null; \/\/ store p for T1\/T3\n\n  \/\/ ===== action thresholds (ED overrideable) =====\n  var BUY_THRESH  = num(ed('BuyThresh'))  ||  0.002;  \/\/ +0.20% avg\/round\n  var SELL_THRESH = num(ed('SellThresh')) ||  0.002;  \/\/ \u22120.20% avg\/round (apply as negative)\n\n  \/\/ ===== probability model utilities (for T1\/T3) =====\n  \/\/ normal CDF (Abramowitz-Stegun approx)\n  function normcdf(z){\n    var t = 1 \/ (1 + 0.2316419 * Math.abs(z));\n    var d = 0.3989422804014327 * Math.exp(-0.5*z*z);\n    var p = d * t * (0.319381530 + t*(-0.356563782 + t*(1.781477937 + t*(-1.821255978 + t*1.330274429))));\n    return (z >= 0) ? 1 - p : p;\n  }\n  function clamp(x,a,b){ return Math.max(a, Math.min(b, x)); }\n\n  function computeConfidence(target, action){\n    \/\/ Use the absolute trend magnitude of chosen target vs cross-asset variability.\n    \/\/ SE \u2248 std of trends across assets \/ sqrt(lookback or 1)\n    var arr = ['A','B','C','D'].map(k=>trend[k]);\n    var mean = arr.reduce((s,v)=>s+v,0)\/arr.length;\n    var var_ = arr.reduce((s,v)=>s+(v-mean)*(v-mean),0)\/Math.max(1,arr.length-1);\n    var std = Math.sqrt(var_ || 1e-8);\n    var effN = Math.max(1, lookback || 1);\n    var se = std \/ Math.sqrt(effN);\n\n    var signal = Math.abs(trend[target] || 0);\n    var z = (se>0) ? signal \/ se : 0;\n    var twoSided = 2*normcdf(Math.abs(z)) - 1; \/\/ maps 0..\u221e \u2192 0..1\n\n    \/\/ Calibrate to a believable band [0.55, 0.95]\n    var p = clamp(0.55 + 0.40 * Math.min(twoSided, 1), 0.55, 0.95);\n    \/\/ Slightly nudge lower for \"No trade\"\n    if(action==='None') p = Math.max(0.55, p - 0.05);\n    return p;\n  }\n\n  \/\/ ===== build advice (formats differ by arm; content identical source) =====\n  function buildAdvice(){\n    var held = ['A','B','C','D'].filter(k=>holds[k]>0);\n    var sellCand = null;\n    if(held.length){\n      sellCand = held.reduce((w,k)=> (w===null||trend[k]<trend[w])?k:w, null);\n    }\n    var buyCand = ['A','B','C','D'].reduce((b,k)=> (b===null||trend[k]>trend[b])?k:b, null);\n\n    var action='None', target=null, edgeMsg='no strong directional edge across assets';\n    if(sellCand && trend[sellCand] <= -Math.abs(SELL_THRESH)){\n      action='Sell'; target=sellCand; edgeMsg='lower expected return for <b>Asset '+target+'<\/b>';\n    } else if(buyCand && trend[buyCand] >= Math.abs(BUY_THRESH) && cash >= prices[buyCand]){\n      action='Buy'; target=buyCand; edgeMsg='higher expected return for <b>Asset '+target+'<\/b>';\n    }\n    advisedAction.type=action; advisedAction.asset=target;\n\n    \/\/ ---- CORE ANALYSIS LINE (shared across all arms) ----\n    var analysis = 'Recent multi-round momentum (last-'+(lookback||1)+'-round trends: '+trendRankString()+') suggests '+edgeMsg+'.';\n\n    \/\/ ---- confidence p for T1\/T3 (data-driven, not fixed 0.84) ----\n    advisedProb = (quantified ? computeConfidence(target || (buyCand||sellCand||'A'), action) : null);\n    var probTag = quantified ? ' <span>(p = '+(advisedProb? advisedProb.toFixed(2) : '0.55')+')<\/span>' : '';\n\n    \/\/ ---- FOUR CONDITIONS (formatting only) ----\n    \/\/ C  : analysis\n    \/\/ T1 : analysis + (p = \u2026)\n    \/\/ T2 : analysis \u2014 Recommendation: {Buy\/Sell\/No trade}\n    \/\/ T3 : analysis \u2014 Recommendation: {\u2026} (p = \u2026)\n    var imperativeTail='';\n    if(imperative){\n      if(action==='Sell')      imperativeTail=' \u2014 <b>Recommendation: Sell '+target+'<\/b>';\n      else if(action==='Buy')  imperativeTail=' \u2014 <b>Recommendation: Buy '+target+'<\/b>';\n      else                     imperativeTail=' \u2014 <b>Recommendation: No trade<\/b>';\n      if(quantified) imperativeTail += probTag;          \/\/ T3 only\n    }else{\n      if(quantified) analysis += probTag;                \/\/ T1 only\n    }\n\n    \/\/ Persist advice meta for audit\n    set('AdviceAction_R'+R, action);\n    set('AdviceAsset_R'+R,  target||'');\n    if(quantified) set('AdviceProb_R'+R, advisedProb ? advisedProb.toFixed(4) : '');\n\n    return analysis + imperativeTail;\n  }\n\n  if(adviceBtn && R>=2){\n    adviceBtn.style.display = ''; \/\/ ensure visible for ALL arms from R2+\n    adviceBtn.addEventListener('click',function(){\n      if(adviceBox.style.display==='none'){\n        adviceText.innerHTML = buildAdvice();\n        adviceBox.style.display='block';\n        if(adviceSeen) adviceSeen.style.display='inline';\n        if(!adviceOpened){ adviceOpened=true; set('AdviceOpens', num(ed('AdviceOpens'))+1); }\n      }else{\n        adviceBox.style.display='none';\n      }\n    });\n  }\n\n  \/\/ ===== trading, PV, persistence =====\n  function portfolioValueNow(){ return cash + holds.A*prices.A + holds.B*prices.B + holds.C*prices.C + holds.D*prices.D; }\n  function refreshPV(){\n    var pvSpan=document.getElementById('pvSpan');\n    if(!pvSpan){ var p=document.createElement('p'); p.innerHTML='<b>Current portfolio value:<\/b> $<span id=\"pvSpan\"><\/span>'; (document.getElementById('game')||document.body).appendChild(p); pvSpan=document.getElementById('pvSpan'); }\n    pvSpan.innerText=portfolioValueNow().toFixed(2);\n  }\n  refreshPV();\n\n  function trade(asset,side){\n    var qtyEl=el('qty'+asset); var qty=Math.floor(num(qtyEl&&qtyEl.value));\n    if(!qty||qty<=0) return;\n    var price=prices[asset], hold=holds[asset], ac=avgc[asset];\n\n    if(side==='Buy'){\n      var cost=qty*price; if(cost>cash) return;\n      var newHold=hold+qty, newAvg=(hold*ac+qty*price)\/newHold;\n      cash-=cost; holds[asset]=newHold; avgc[asset]=newAvg;\n      if(imperative && adviceOpened && advisedAction.type==='Buy' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }else{\n      qty=Math.min(qty,hold); if(qty===0) return;\n      var proceeds=qty*price; cash+=proceeds;\n      var pl=(price-ac)*qty;\n      if(pl>=0){ set('RealizedGains', num(ed('RealizedGains'))+pl); set('NumRealizedGains', num(ed('NumRealizedGains'))+1); }\n      else     { set('RealizedLosses', num(ed('RealizedLosses'))+Math.abs(pl)); set('NumRealizedLosses', num(ed('NumRealizedLosses'))+1); }\n      hold-=qty; if(hold===0) ac=0; holds[asset]=hold; avgc[asset]=ac;\n      if(imperative && adviceOpened && advisedAction.type==='Sell' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }\n    if(el('h'+asset)) el('h'+asset).innerText=holds[asset];\n    if(el('c'+asset)) el('c'+asset).innerText=holds[asset]>0 ? '$'+avgc[asset].toFixed(2) : '\u2014';\n    if(el('cash')) el('cash').innerText=cash.toFixed(2);\n    if(qtyEl) qtyEl.value='';\n    refreshPV();\n  }\n  Array.from(document.querySelectorAll('button.buy')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Buy')));\n  Array.from(document.querySelectorAll('button.sell')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Sell')));\n\n  function persistState(){\n    try{\n      var pv=portfolioValueNow(); refreshPV();\n\n      \/\/ \u2705 Use the PRE-TRADE snapshot to accumulate paper opportunities\n      if(preOppG>0) set('NumPaperGainsOpp',  num(ed('NumPaperGainsOpp'))  + preOppG);\n      if(preOppL>0) set('NumPaperLossesOpp', num(ed('NumPaperLossesOpp')) + preOppL);\n\n      \/\/ write state\n      set('Cash', cash.toFixed(2));\n      ['A','B','C','D'].forEach(k=>{ set('Hold'+k, holds[k]); set('AvgCost'+k, avgc[k].toFixed(6)); set('LastPrice'+k, prices[k]); });\n      set('PortfolioValue_R'+R, pv.toFixed(2));\n      set('AdviceOpened_R'+R, adviceOpened?1:0);\n      set('AdviceTarget_R'+R, advisedAction.asset||'');\n      set('AdviceType_R'+R, advisedAction.type||'');\n      if(quantified && advisedProb!=null) set('AdviceProb_R'+R, advisedProb.toFixed(4));\n      set('Round', R+1);\n    }catch(e){ showError('Persist error: '+e.message); }\n  }\n\n  var nextBtn=document.getElementById('NextButton'); if(nextBtn) nextBtn.style.display='none';\n  var go=document.createElement('button'); go.type='button'; go.id='GoNext'; go.textContent='Continue'; go.style.cssText='margin-top:12px;padding:8px 14px;';\n  (document.getElementById('game')||document.body).appendChild(go);\n  go.addEventListener('click', function(){ persistState(); setTimeout(function(){ if(nextBtn) nextBtn.click(); }, 30); });\n  this.addOnPageSubmit(function(){ persistState(); });\n\n  \/\/ Debug: add ?debug=1 to URL to see your arm + p on-page\n  try{\n    if((new URLSearchParams(location.search)).get('debug')==='1'){\n      var dbg=document.createElement('div');\n      dbg.style.cssText='margin:8px 0;color:#666;font-size:12px';\n      dbg.textContent='Arm: '+label+' (quantified='+quantified+', imperative='+imperative+')';\n      (document.getElementById('game')||document.body).insertBefore(dbg,(document.getElementById('game')||document.body).firstChild);\n    }\n  }catch(e){}\n});","QuestionText_Unsafe":"<div id=\"game\">\n  <h3>Round <span id=\"rnum\"><\/span> of 6<\/h3>\n\n  <div id=\"macro\" style=\"margin-bottom:8px\">\n    <b>Market condition:<\/b> Prices move exogenously each round (+6 % or \u22125 %).  \n    Your trades do not affect prices.\n  <\/div>\n\n  <p><b>Cash:<\/b> $<span id=\"cash\"><\/span><\/p>\n\n  <table border=\"1\" cellpadding=\"6\" style=\"border-collapse:collapse; width:100%; max-width:760px;\">\n    <thead>\n      <tr><th>Asset<\/th><th>Price<\/th><th>Holdings<\/th><th>Avg Cost<\/th><th>Trade<\/th><\/tr>\n    <\/thead>\n    <tbody>\n      \n      <tr>\n        <td>A<\/td><td id=\"pA\"><\/td><td id=\"hA\"><\/td><td id=\"cA\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyA\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"A\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"A\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      \n      <tr>\n        <td>B<\/td><td id=\"pB\"><\/td><td id=\"hB\"><\/td><td id=\"cB\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyB\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"B\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"B\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      \n      <tr>\n        <td>C<\/td><td id=\"pC\"><\/td><td id=\"hC\"><\/td><td id=\"cC\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyC\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"C\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"C\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      \n      <tr>\n        <td>D<\/td><td id=\"pD\"><\/td><td id=\"hD\"><\/td><td id=\"cD\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyD\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"D\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"D\">Sell<\/button>\n        <\/td>\n      <\/tr>\n    <\/tbody>\n  <\/table>\n\n  <div style=\"margin-top:12px\">\n    <button type=\"button\" id=\"adviceBtn\">Get Advice<\/button>\n    <span id=\"adviceSeen\" style=\"display:none;color:green;margin-left:8px;\">Advice opened \u2714<\/span>\n  <\/div>\n\n  <div id=\"adviceBox\" style=\"display:none;margin-top:10px;padding:10px;border:1px solid #ccc;\">\n    <b>Advisor<\/b>\n    <div id=\"adviceText\" style=\"margin-top:6px;\"><\/div>\n  <\/div>\n\n  <p style=\"margin-top:12px\"><i>Make any trades you want, then click Next to continue.<\/i><\/p>\n<\/div>","DataExportTag":"Round 3","QuestionID":"QID1322501934"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322501941","SecondaryAttribute":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","TertiaryAttribute":null,"Payload":{"QuestionText":"<div id=\"game\">\n  <h3>Round <span id=\"rnum\"><\/span> of 8<\/h3>\n\n  \n  <div id=\"macro\" style=\"margin-bottom:8px\"><\/div>\n\n  <p><b>Cash:<\/b> $<span id=\"cash\"><\/span><\/p>\n\n  <table style=\"border-collapse:collapse; width:100%; max-width:760px;\" cellpadding=\"6\" border=\"1\">\n    <thead>\n      <tr><th>Asset<\/th><th>Price<\/th><th>Holdings<\/th><th>Avg Cost<\/th><th>Trade<\/th><\/tr>\n    <\/thead>\n    <tbody>\n      <tr>\n        <td>A<\/td><td id=\"pA\"><\/td><td id=\"hA\"><\/td><td id=\"cA\"><\/td>\n        <td>\n          <input id=\"qtyA\" type=\"number\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"A\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"A\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>B<\/td><td id=\"pB\"><\/td><td id=\"hB\"><\/td><td id=\"cB\"><\/td>\n        <td>\n          <input id=\"qtyB\" type=\"number\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"B\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"B\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>C<\/td><td id=\"pC\"><\/td><td id=\"hC\"><\/td><td id=\"cC\"><\/td>\n        <td>\n          <input id=\"qtyC\" type=\"number\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"C\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"C\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>D<\/td><td id=\"pD\"><\/td><td id=\"hD\"><\/td><td id=\"cD\"><\/td>\n        <td>\n          <input id=\"qtyD\" type=\"number\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"D\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"D\">Sell<\/button>\n        <\/td>\n      <\/tr>\n    <\/tbody>\n  <\/table>\n\n  <div id=\"adviceArea\" style=\"margin-top:12px;\">\n    <button id=\"adviceBtn\" type=\"button\">Get advisor analysis<\/button>\n    <span id=\"adviceSeen\" style=\"display:none;margin-left:8px;color:green;\">(analysis shown)<\/span>\n    <div id=\"adviceBox\" style=\"display:none;border:1px solid #ccc;padding:8px;margin-top:6px;\">\n      <div id=\"adviceText\"><\/div>\n    <\/div>\n  <\/div>\n\n  <p style=\"margin-top:12px\">\n    <i>Make any trades you want, then click Continue to proceed.<\/i>\n  <\/p>\n<\/div>","DefaultChoices":false,"QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionJS":"Qualtrics.SurveyEngine.addOnReady(function () {\n  \/\/ ===== helpers =====\n  function ed(k){ return Qualtrics.SurveyEngine.getEmbeddedData(k); }\n  function set(k,v){ Qualtrics.SurveyEngine.setEmbeddedData(k, v); }\n  function num(x){ var y = parseFloat(x); return isNaN(y) ? 0 : y; }\n  function el(id){ return document.getElementById(id); }\n  function showError(msg){\n    var d = document.createElement('div');\n    d.style.cssText='background:#fee;border:1px solid #f66;color:#900;padding:8px;margin:8px 0';\n    d.innerHTML='<b>Setup error:<\/b> '+msg;\n    (document.getElementById('game')||document.body).insertBefore(d,(document.getElementById('game')||document.body).firstChild);\n  }\n\n  \/\/ ===== round index (SET per page) =====\n  var R = 4; \/\/ <<< set 1..6 on each round page\n\n  \/\/ ===== treatment arm (from Survey Flow Randomizer; stable across pages) =====\n  var label = (ed('ConditionLabel')||'').trim();\n  if(!label){ try{ label = (localStorage.getItem('AB_ConditionLabel')||'').trim(); }catch(e){} }\n  if(!label){ label = 'C'; } \/\/ preview safety\n  set('ConditionLabel', label);\n  try{ localStorage.setItem('AB_ConditionLabel', label); }catch(e){}\n  \/\/ ---- Four arms (derive booleans from ConditionLabel) ----\n  \/\/ C  = Analysis only (no probability, no imperative)\n  \/\/ T1 = Analysis + Quantified Confidence (p=\u2026)\n  \/\/ T2 = Reason-based Imperative (Analysis + \"Recommendation: \u2026\")\n  \/\/ T3 = Reason-based Imperative + Quantified Confidence\n  var quantified = (label==='T1' || label==='T3');\n  var imperative = (label==='T2' || label==='T3');\n\n  \/\/ ===== load state =====\n  var cash  = num(ed('Cash'));\n  var holds = {A:num(ed('HoldA')), B:num(ed('HoldB')), C:num(ed('HoldC')), D:num(ed('HoldD'))};\n  var avgc  = {A:num(ed('AvgCostA')), B:num(ed('AvgCostB')), C:num(ed('AvgCostC')), D:num(ed('AvgCostD'))};\n\n  \/\/ ===== price path =====\n  var pathText = ed('PricePathJSON') || '[]';\n  var path; try{ path = JSON.parse(pathText); }catch(e){ path=[]; }\n  if(!path[R-1]){ showError('PricePathJSON missing entry for round '+R); return; }\n  var px = path[R-1];\n  var prices = {A:num(px.A), B:num(px.B), C:num(px.C), D:num(px.D)};\n  if(![prices.A,prices.B,prices.C,prices.D].every(v=>v>0)){ showError('Invalid prices on round '+R); return; }\n\n  \/\/ ===== optional macro narrative =====\n  var narrText = ed('MarketNarrativeJSON') || '[]';\n  var narr=[]; try{ narr = JSON.parse(narrText); }catch(e){}\n  var macroEl = el('macro');\n  if(macroEl){ macroEl.innerHTML = '<b>Market condition:<\/b> ' + (narr[R-1] || 'Prices move exogenously; your trades do not affect prices.'); }\n\n  \/\/ ===== basic UI fill =====\n  if(el('rnum')) el('rnum').innerText = R;\n  if(el('cash')) el('cash').innerText = cash.toFixed(2);\n  ['A','B','C','D'].forEach(function(k){\n    if(el('p'+k)) el('p'+k).innerText = '$'+prices[k].toFixed(2);\n    if(el('h'+k)) el('h'+k).innerText = holds[k];\n    if(el('c'+k)) el('c'+k).innerText = holds[k]>0 ? '$'+avgc[k].toFixed(2) : '\u2014';\n  });\n\n  \/\/ ===== trends (look back up to 3 rounds) =====\n  function lastNRoundAvgReturn(asset,N){\n    var n=Math.min(N,R-1); if(n<=0) return 0;\n    var sum=0,cnt=0;\n    for(var t=R-1; t>=1 && cnt<n; t--){\n      var p_t=num(path[t][asset]), p_tm1=num(path[t-1][asset]);\n      if(p_t>0 && p_tm1>0){ sum += (p_t\/p_tm1 - 1); cnt++; }\n    }\n    return cnt? sum\/cnt : 0;\n  }\n  var lookback = Math.min(3, R-1); \/\/ 1..3 (0 on R1)\n  var trend = {A:lastNRoundAvgReturn('A',lookback),\n               B:lastNRoundAvgReturn('B',lookback),\n               C:lastNRoundAvgReturn('C',lookback),\n               D:lastNRoundAvgReturn('D',lookback)};\n  function trendRankString(){\n    return ['A','B','C','D'].map(k=>k+':'+(trend[k]*100).toFixed(1)+'%').join(', ');\n  }\n\n  \/\/ ===== snapshot paper opps BEFORE any trading (for correct PGR\/PLR) =====\n  var preOppG = 0, preOppL = 0;\n  (function snapshotPreTradeOpps(){\n    ['A','B','C','D'].forEach(function(k){\n      var h=holds[k], ac=avgc[k], p=prices[k];\n      if(h>0 && ac>0){\n        if(p>ac) preOppG += 1;\n        else if(p<ac) preOppL += 1;\n      }\n    });\n  })();\n\n  \/\/ ===== advisor UI =====\n  var adviceBtn  = el('adviceBtn'),\n      adviceBox  = el('adviceBox'),\n      adviceSeen = el('adviceSeen'),\n      adviceText = el('adviceText');\n\n  \/\/ Round 1 only: no advice (insufficient history)\n  if(R===1 && adviceBtn){ adviceBtn.style.display='none'; }\n\n  var adviceOpened=false;\n  var advisedAction={type:'None', asset:null};\n  var advisedProb = null; \/\/ store p for T1\/T3\n\n  \/\/ ===== action thresholds (ED overrideable) =====\n  var BUY_THRESH  = num(ed('BuyThresh'))  ||  0.002;  \/\/ +0.20% avg\/round\n  var SELL_THRESH = num(ed('SellThresh')) ||  0.002;  \/\/ \u22120.20% avg\/round (apply as negative)\n\n  \/\/ ===== probability model utilities (for T1\/T3) =====\n  \/\/ normal CDF (Abramowitz-Stegun approx)\n  function normcdf(z){\n    var t = 1 \/ (1 + 0.2316419 * Math.abs(z));\n    var d = 0.3989422804014327 * Math.exp(-0.5*z*z);\n    var p = d * t * (0.319381530 + t*(-0.356563782 + t*(1.781477937 + t*(-1.821255978 + t*1.330274429))));\n    return (z >= 0) ? 1 - p : p;\n  }\n  function clamp(x,a,b){ return Math.max(a, Math.min(b, x)); }\n\n  function computeConfidence(target, action){\n    \/\/ Use the absolute trend magnitude of chosen target vs cross-asset variability.\n    \/\/ SE \u2248 std of trends across assets \/ sqrt(lookback or 1)\n    var arr = ['A','B','C','D'].map(k=>trend[k]);\n    var mean = arr.reduce((s,v)=>s+v,0)\/arr.length;\n    var var_ = arr.reduce((s,v)=>s+(v-mean)*(v-mean),0)\/Math.max(1,arr.length-1);\n    var std = Math.sqrt(var_ || 1e-8);\n    var effN = Math.max(1, lookback || 1);\n    var se = std \/ Math.sqrt(effN);\n\n    var signal = Math.abs(trend[target] || 0);\n    var z = (se>0) ? signal \/ se : 0;\n    var twoSided = 2*normcdf(Math.abs(z)) - 1; \/\/ maps 0..\u221e \u2192 0..1\n\n    \/\/ Calibrate to a believable band [0.55, 0.95]\n    var p = clamp(0.55 + 0.40 * Math.min(twoSided, 1), 0.55, 0.95);\n    \/\/ Slightly nudge lower for \"No trade\"\n    if(action==='None') p = Math.max(0.55, p - 0.05);\n    return p;\n  }\n\n  \/\/ ===== build advice (formats differ by arm; content identical source) =====\n  function buildAdvice(){\n    var held = ['A','B','C','D'].filter(k=>holds[k]>0);\n    var sellCand = null;\n    if(held.length){\n      sellCand = held.reduce((w,k)=> (w===null||trend[k]<trend[w])?k:w, null);\n    }\n    var buyCand = ['A','B','C','D'].reduce((b,k)=> (b===null||trend[k]>trend[b])?k:b, null);\n\n    var action='None', target=null, edgeMsg='no strong directional edge across assets';\n    if(sellCand && trend[sellCand] <= -Math.abs(SELL_THRESH)){\n      action='Sell'; target=sellCand; edgeMsg='lower expected return for <b>Asset '+target+'<\/b>';\n    } else if(buyCand && trend[buyCand] >= Math.abs(BUY_THRESH) && cash >= prices[buyCand]){\n      action='Buy'; target=buyCand; edgeMsg='higher expected return for <b>Asset '+target+'<\/b>';\n    }\n    advisedAction.type=action; advisedAction.asset=target;\n\n    \/\/ ---- CORE ANALYSIS LINE (shared across all arms) ----\n    var analysis = 'Recent multi-round momentum (last-'+(lookback||1)+'-round trends: '+trendRankString()+') suggests '+edgeMsg+'.';\n\n    \/\/ ---- confidence p for T1\/T3 (data-driven, not fixed 0.84) ----\n    advisedProb = (quantified ? computeConfidence(target || (buyCand||sellCand||'A'), action) : null);\n    var probTag = quantified ? ' <span>(p = '+(advisedProb? advisedProb.toFixed(2) : '0.55')+')<\/span>' : '';\n\n    \/\/ ---- FOUR CONDITIONS (formatting only) ----\n    \/\/ C  : analysis\n    \/\/ T1 : analysis + (p = \u2026)\n    \/\/ T2 : analysis \u2014 Recommendation: {Buy\/Sell\/No trade}\n    \/\/ T3 : analysis \u2014 Recommendation: {\u2026} (p = \u2026)\n    var imperativeTail='';\n    if(imperative){\n      if(action==='Sell')      imperativeTail=' \u2014 <b>Recommendation: Sell '+target+'<\/b>';\n      else if(action==='Buy')  imperativeTail=' \u2014 <b>Recommendation: Buy '+target+'<\/b>';\n      else                     imperativeTail=' \u2014 <b>Recommendation: No trade<\/b>';\n      if(quantified) imperativeTail += probTag;          \/\/ T3 only\n    }else{\n      if(quantified) analysis += probTag;                \/\/ T1 only\n    }\n\n    \/\/ Persist advice meta for audit\n    set('AdviceAction_R'+R, action);\n    set('AdviceAsset_R'+R,  target||'');\n    if(quantified) set('AdviceProb_R'+R, advisedProb ? advisedProb.toFixed(4) : '');\n\n    return analysis + imperativeTail;\n  }\n\n  if(adviceBtn && R>=2){\n    adviceBtn.style.display = ''; \/\/ ensure visible for ALL arms from R2+\n    adviceBtn.addEventListener('click',function(){\n      if(adviceBox.style.display==='none'){\n        adviceText.innerHTML = buildAdvice();\n        adviceBox.style.display='block';\n        if(adviceSeen) adviceSeen.style.display='inline';\n        if(!adviceOpened){ adviceOpened=true; set('AdviceOpens', num(ed('AdviceOpens'))+1); }\n      }else{\n        adviceBox.style.display='none';\n      }\n    });\n  }\n\n  \/\/ ===== trading, PV, persistence =====\n  function portfolioValueNow(){ return cash + holds.A*prices.A + holds.B*prices.B + holds.C*prices.C + holds.D*prices.D; }\n  function refreshPV(){\n    var pvSpan=document.getElementById('pvSpan');\n    if(!pvSpan){ var p=document.createElement('p'); p.innerHTML='<b>Current portfolio value:<\/b> $<span id=\"pvSpan\"><\/span>'; (document.getElementById('game')||document.body).appendChild(p); pvSpan=document.getElementById('pvSpan'); }\n    pvSpan.innerText=portfolioValueNow().toFixed(2);\n  }\n  refreshPV();\n\n  function trade(asset,side){\n    var qtyEl=el('qty'+asset); var qty=Math.floor(num(qtyEl&&qtyEl.value));\n    if(!qty||qty<=0) return;\n    var price=prices[asset], hold=holds[asset], ac=avgc[asset];\n\n    if(side==='Buy'){\n      var cost=qty*price; if(cost>cash) return;\n      var newHold=hold+qty, newAvg=(hold*ac+qty*price)\/newHold;\n      cash-=cost; holds[asset]=newHold; avgc[asset]=newAvg;\n      if(imperative && adviceOpened && advisedAction.type==='Buy' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }else{\n      qty=Math.min(qty,hold); if(qty===0) return;\n      var proceeds=qty*price; cash+=proceeds;\n      var pl=(price-ac)*qty;\n      if(pl>=0){ set('RealizedGains', num(ed('RealizedGains'))+pl); set('NumRealizedGains', num(ed('NumRealizedGains'))+1); }\n      else     { set('RealizedLosses', num(ed('RealizedLosses'))+Math.abs(pl)); set('NumRealizedLosses', num(ed('NumRealizedLosses'))+1); }\n      hold-=qty; if(hold===0) ac=0; holds[asset]=hold; avgc[asset]=ac;\n      if(imperative && adviceOpened && advisedAction.type==='Sell' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }\n    if(el('h'+asset)) el('h'+asset).innerText=holds[asset];\n    if(el('c'+asset)) el('c'+asset).innerText=holds[asset]>0 ? '$'+avgc[asset].toFixed(2) : '\u2014';\n    if(el('cash')) el('cash').innerText=cash.toFixed(2);\n    if(qtyEl) qtyEl.value='';\n    refreshPV();\n  }\n  Array.from(document.querySelectorAll('button.buy')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Buy')));\n  Array.from(document.querySelectorAll('button.sell')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Sell')));\n\n  function persistState(){\n    try{\n      var pv=portfolioValueNow(); refreshPV();\n\n      \/\/ \u2705 Use the PRE-TRADE snapshot to accumulate paper opportunities\n      if(preOppG>0) set('NumPaperGainsOpp',  num(ed('NumPaperGainsOpp'))  + preOppG);\n      if(preOppL>0) set('NumPaperLossesOpp', num(ed('NumPaperLossesOpp')) + preOppL);\n\n      \/\/ write state\n      set('Cash', cash.toFixed(2));\n      ['A','B','C','D'].forEach(k=>{ set('Hold'+k, holds[k]); set('AvgCost'+k, avgc[k].toFixed(6)); set('LastPrice'+k, prices[k]); });\n      set('PortfolioValue_R'+R, pv.toFixed(2));\n      set('AdviceOpened_R'+R, adviceOpened?1:0);\n      set('AdviceTarget_R'+R, advisedAction.asset||'');\n      set('AdviceType_R'+R, advisedAction.type||'');\n      if(quantified && advisedProb!=null) set('AdviceProb_R'+R, advisedProb.toFixed(4));\n      set('Round', R+1);\n    }catch(e){ showError('Persist error: '+e.message); }\n  }\n\n  var nextBtn=document.getElementById('NextButton'); if(nextBtn) nextBtn.style.display='none';\n  var go=document.createElement('button'); go.type='button'; go.id='GoNext'; go.textContent='Continue'; go.style.cssText='margin-top:12px;padding:8px 14px;';\n  (document.getElementById('game')||document.body).appendChild(go);\n  go.addEventListener('click', function(){ persistState(); setTimeout(function(){ if(nextBtn) nextBtn.click(); }, 30); });\n  this.addOnPageSubmit(function(){ persistState(); });\n\n  \/\/ Debug: add ?debug=1 to URL to see your arm + p on-page\n  try{\n    if((new URLSearchParams(location.search)).get('debug')==='1'){\n      var dbg=document.createElement('div');\n      dbg.style.cssText='margin:8px 0;color:#666;font-size:12px';\n      dbg.textContent='Arm: '+label+' (quantified='+quantified+', imperative='+imperative+')';\n      (document.getElementById('game')||document.body).insertBefore(dbg,(document.getElementById('game')||document.body).firstChild);\n    }\n  }catch(e){}\n});","QuestionText_Unsafe":"<div id=\"game\">\n  <h3>Round <span id=\"rnum\"><\/span> of 6<\/h3>\n\n  <div id=\"macro\" style=\"margin-bottom:8px\">\n    <b>Market condition:<\/b> Prices move exogenously each round (+6 % or \u22125 %).  \n    Your trades do not affect prices.\n  <\/div>\n\n  <p><b>Cash:<\/b> $<span id=\"cash\"><\/span><\/p>\n\n  <table border=\"1\" cellpadding=\"6\" style=\"border-collapse:collapse; width:100%; max-width:760px;\">\n    <thead>\n      <tr><th>Asset<\/th><th>Price<\/th><th>Holdings<\/th><th>Avg Cost<\/th><th>Trade<\/th><\/tr>\n    <\/thead>\n    <tbody>\n      \n      <tr>\n        <td>A<\/td><td id=\"pA\"><\/td><td id=\"hA\"><\/td><td id=\"cA\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyA\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"A\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"A\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      \n      <tr>\n        <td>B<\/td><td id=\"pB\"><\/td><td id=\"hB\"><\/td><td id=\"cB\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyB\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"B\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"B\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      \n      <tr>\n        <td>C<\/td><td id=\"pC\"><\/td><td id=\"hC\"><\/td><td id=\"cC\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyC\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"C\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"C\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      \n      <tr>\n        <td>D<\/td><td id=\"pD\"><\/td><td id=\"hD\"><\/td><td id=\"cD\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyD\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"D\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"D\">Sell<\/button>\n        <\/td>\n      <\/tr>\n    <\/tbody>\n  <\/table>\n\n  <div style=\"margin-top:12px\">\n    <button type=\"button\" id=\"adviceBtn\">Get Advice<\/button>\n    <span id=\"adviceSeen\" style=\"display:none;color:green;margin-left:8px;\">Advice opened \u2714<\/span>\n  <\/div>\n\n  <div id=\"adviceBox\" style=\"display:none;margin-top:10px;padding:10px;border:1px solid #ccc;\">\n    <b>Advisor<\/b>\n    <div id=\"adviceText\" style=\"margin-top:6px;\"><\/div>\n  <\/div>\n\n  <p style=\"margin-top:12px\"><i>Make any trades you want, then click Next to continue.<\/i><\/p>\n<\/div>","DataExportTag":"Round 4","QuestionID":"QID1322501941"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322501948","SecondaryAttribute":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","TertiaryAttribute":null,"Payload":{"QuestionText":"<div id=\"game\">\n  <h3>Round <span id=\"rnum\"><\/span> of 8<\/h3>\n\n  \n  <div style=\"margin-bottom:8px\" id=\"macro\"><\/div>\n\n  <p><b>Cash:<\/b> $<span id=\"cash\"><\/span><\/p>\n\n  <table border=\"1\" cellpadding=\"6\" style=\"border-collapse:collapse; width:100%; max-width:760px;\">\n    <thead>\n      <tr><th>Asset<\/th><th>Price<\/th><th>Holdings<\/th><th>Avg Cost<\/th><th>Trade<\/th><\/tr>\n    <\/thead>\n    <tbody>\n      <tr>\n        <td>A<\/td><td id=\"pA\"><\/td><td id=\"hA\"><\/td><td id=\"cA\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyA\">\n          <button data-asset=\"A\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"A\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>B<\/td><td id=\"pB\"><\/td><td id=\"hB\"><\/td><td id=\"cB\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyB\">\n          <button data-asset=\"B\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"B\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>C<\/td><td id=\"pC\"><\/td><td id=\"hC\"><\/td><td id=\"cC\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyC\">\n          <button data-asset=\"C\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"C\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>D<\/td><td id=\"pD\"><\/td><td id=\"hD\"><\/td><td id=\"cD\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyD\">\n          <button data-asset=\"D\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"D\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n    <\/tbody>\n  <\/table>\n\n  <div style=\"margin-top:12px;\" id=\"adviceArea\">\n    <button type=\"button\" id=\"adviceBtn\">Get advisor analysis<\/button>\n    <span style=\"display:none;margin-left:8px;color:green;\" id=\"adviceSeen\">(analysis shown)<\/span>\n    <div style=\"display:none;border:1px solid #ccc;padding:8px;margin-top:6px;\" id=\"adviceBox\">\n      <div id=\"adviceText\"><\/div>\n    <\/div>\n  <\/div>\n\n  <p style=\"margin-top:12px\">\n    <i>Make any trades you want, then click Continue to proceed.<\/i>\n  <\/p>\n<\/div>","DefaultChoices":false,"QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionJS":"Qualtrics.SurveyEngine.addOnReady(function () {\n  \/\/ ===== helpers =====\n  function ed(k){ return Qualtrics.SurveyEngine.getEmbeddedData(k); }\n  function set(k,v){ Qualtrics.SurveyEngine.setEmbeddedData(k, v); }\n  function num(x){ var y = parseFloat(x); return isNaN(y) ? 0 : y; }\n  function el(id){ return document.getElementById(id); }\n  function showError(msg){\n    var d = document.createElement('div');\n    d.style.cssText='background:#fee;border:1px solid #f66;color:#900;padding:8px;margin:8px 0';\n    d.innerHTML='<b>Setup error:<\/b> '+msg;\n    (document.getElementById('game')||document.body).insertBefore(d,(document.getElementById('game')||document.body).firstChild);\n  }\n\n  \/\/ ===== round index (SET per page) =====\n  var R = 5; \/\/ <<< set 1..6 on each round page\n\n  \/\/ ===== treatment arm (from Survey Flow Randomizer; stable across pages) =====\n  var label = (ed('ConditionLabel')||'').trim();\n  if(!label){ try{ label = (localStorage.getItem('AB_ConditionLabel')||'').trim(); }catch(e){} }\n  if(!label){ label = 'C'; } \/\/ preview safety\n  set('ConditionLabel', label);\n  try{ localStorage.setItem('AB_ConditionLabel', label); }catch(e){}\n  \/\/ ---- Four arms (derive booleans from ConditionLabel) ----\n  \/\/ C  = Analysis only (no probability, no imperative)\n  \/\/ T1 = Analysis + Quantified Confidence (p=\u2026)\n  \/\/ T2 = Reason-based Imperative (Analysis + \"Recommendation: \u2026\")\n  \/\/ T3 = Reason-based Imperative + Quantified Confidence\n  var quantified = (label==='T1' || label==='T3');\n  var imperative = (label==='T2' || label==='T3');\n\n  \/\/ ===== load state =====\n  var cash  = num(ed('Cash'));\n  var holds = {A:num(ed('HoldA')), B:num(ed('HoldB')), C:num(ed('HoldC')), D:num(ed('HoldD'))};\n  var avgc  = {A:num(ed('AvgCostA')), B:num(ed('AvgCostB')), C:num(ed('AvgCostC')), D:num(ed('AvgCostD'))};\n\n  \/\/ ===== price path =====\n  var pathText = ed('PricePathJSON') || '[]';\n  var path; try{ path = JSON.parse(pathText); }catch(e){ path=[]; }\n  if(!path[R-1]){ showError('PricePathJSON missing entry for round '+R); return; }\n  var px = path[R-1];\n  var prices = {A:num(px.A), B:num(px.B), C:num(px.C), D:num(px.D)};\n  if(![prices.A,prices.B,prices.C,prices.D].every(v=>v>0)){ showError('Invalid prices on round '+R); return; }\n\n  \/\/ ===== optional macro narrative =====\n  var narrText = ed('MarketNarrativeJSON') || '[]';\n  var narr=[]; try{ narr = JSON.parse(narrText); }catch(e){}\n  var macroEl = el('macro');\n  if(macroEl){ macroEl.innerHTML = '<b>Market condition:<\/b> ' + (narr[R-1] || 'Prices move exogenously; your trades do not affect prices.'); }\n\n  \/\/ ===== basic UI fill =====\n  if(el('rnum')) el('rnum').innerText = R;\n  if(el('cash')) el('cash').innerText = cash.toFixed(2);\n  ['A','B','C','D'].forEach(function(k){\n    if(el('p'+k)) el('p'+k).innerText = '$'+prices[k].toFixed(2);\n    if(el('h'+k)) el('h'+k).innerText = holds[k];\n    if(el('c'+k)) el('c'+k).innerText = holds[k]>0 ? '$'+avgc[k].toFixed(2) : '\u2014';\n  });\n\n  \/\/ ===== trends (look back up to 3 rounds) =====\n  function lastNRoundAvgReturn(asset,N){\n    var n=Math.min(N,R-1); if(n<=0) return 0;\n    var sum=0,cnt=0;\n    for(var t=R-1; t>=1 && cnt<n; t--){\n      var p_t=num(path[t][asset]), p_tm1=num(path[t-1][asset]);\n      if(p_t>0 && p_tm1>0){ sum += (p_t\/p_tm1 - 1); cnt++; }\n    }\n    return cnt? sum\/cnt : 0;\n  }\n  var lookback = Math.min(3, R-1); \/\/ 1..3 (0 on R1)\n  var trend = {A:lastNRoundAvgReturn('A',lookback),\n               B:lastNRoundAvgReturn('B',lookback),\n               C:lastNRoundAvgReturn('C',lookback),\n               D:lastNRoundAvgReturn('D',lookback)};\n  function trendRankString(){\n    return ['A','B','C','D'].map(k=>k+':'+(trend[k]*100).toFixed(1)+'%').join(', ');\n  }\n\n  \/\/ ===== snapshot paper opps BEFORE any trading (for correct PGR\/PLR) =====\n  var preOppG = 0, preOppL = 0;\n  (function snapshotPreTradeOpps(){\n    ['A','B','C','D'].forEach(function(k){\n      var h=holds[k], ac=avgc[k], p=prices[k];\n      if(h>0 && ac>0){\n        if(p>ac) preOppG += 1;\n        else if(p<ac) preOppL += 1;\n      }\n    });\n  })();\n\n  \/\/ ===== advisor UI =====\n  var adviceBtn  = el('adviceBtn'),\n      adviceBox  = el('adviceBox'),\n      adviceSeen = el('adviceSeen'),\n      adviceText = el('adviceText');\n\n  \/\/ Round 1 only: no advice (insufficient history)\n  if(R===1 && adviceBtn){ adviceBtn.style.display='none'; }\n\n  var adviceOpened=false;\n  var advisedAction={type:'None', asset:null};\n  var advisedProb = null; \/\/ store p for T1\/T3\n\n  \/\/ ===== action thresholds (ED overrideable) =====\n  var BUY_THRESH  = num(ed('BuyThresh'))  ||  0.002;  \/\/ +0.20% avg\/round\n  var SELL_THRESH = num(ed('SellThresh')) ||  0.002;  \/\/ \u22120.20% avg\/round (apply as negative)\n\n  \/\/ ===== probability model utilities (for T1\/T3) =====\n  \/\/ normal CDF (Abramowitz-Stegun approx)\n  function normcdf(z){\n    var t = 1 \/ (1 + 0.2316419 * Math.abs(z));\n    var d = 0.3989422804014327 * Math.exp(-0.5*z*z);\n    var p = d * t * (0.319381530 + t*(-0.356563782 + t*(1.781477937 + t*(-1.821255978 + t*1.330274429))));\n    return (z >= 0) ? 1 - p : p;\n  }\n  function clamp(x,a,b){ return Math.max(a, Math.min(b, x)); }\n\n  function computeConfidence(target, action){\n    \/\/ Use the absolute trend magnitude of chosen target vs cross-asset variability.\n    \/\/ SE \u2248 std of trends across assets \/ sqrt(lookback or 1)\n    var arr = ['A','B','C','D'].map(k=>trend[k]);\n    var mean = arr.reduce((s,v)=>s+v,0)\/arr.length;\n    var var_ = arr.reduce((s,v)=>s+(v-mean)*(v-mean),0)\/Math.max(1,arr.length-1);\n    var std = Math.sqrt(var_ || 1e-8);\n    var effN = Math.max(1, lookback || 1);\n    var se = std \/ Math.sqrt(effN);\n\n    var signal = Math.abs(trend[target] || 0);\n    var z = (se>0) ? signal \/ se : 0;\n    var twoSided = 2*normcdf(Math.abs(z)) - 1; \/\/ maps 0..\u221e \u2192 0..1\n\n    \/\/ Calibrate to a believable band [0.55, 0.95]\n    var p = clamp(0.55 + 0.40 * Math.min(twoSided, 1), 0.55, 0.95);\n    \/\/ Slightly nudge lower for \"No trade\"\n    if(action==='None') p = Math.max(0.55, p - 0.05);\n    return p;\n  }\n\n  \/\/ ===== build advice (formats differ by arm; content identical source) =====\n  function buildAdvice(){\n    var held = ['A','B','C','D'].filter(k=>holds[k]>0);\n    var sellCand = null;\n    if(held.length){\n      sellCand = held.reduce((w,k)=> (w===null||trend[k]<trend[w])?k:w, null);\n    }\n    var buyCand = ['A','B','C','D'].reduce((b,k)=> (b===null||trend[k]>trend[b])?k:b, null);\n\n    var action='None', target=null, edgeMsg='no strong directional edge across assets';\n    if(sellCand && trend[sellCand] <= -Math.abs(SELL_THRESH)){\n      action='Sell'; target=sellCand; edgeMsg='lower expected return for <b>Asset '+target+'<\/b>';\n    } else if(buyCand && trend[buyCand] >= Math.abs(BUY_THRESH) && cash >= prices[buyCand]){\n      action='Buy'; target=buyCand; edgeMsg='higher expected return for <b>Asset '+target+'<\/b>';\n    }\n    advisedAction.type=action; advisedAction.asset=target;\n\n    \/\/ ---- CORE ANALYSIS LINE (shared across all arms) ----\n    var analysis = 'Recent multi-round momentum (last-'+(lookback||1)+'-round trends: '+trendRankString()+') suggests '+edgeMsg+'.';\n\n    \/\/ ---- confidence p for T1\/T3 (data-driven, not fixed 0.84) ----\n    advisedProb = (quantified ? computeConfidence(target || (buyCand||sellCand||'A'), action) : null);\n    var probTag = quantified ? ' <span>(p = '+(advisedProb? advisedProb.toFixed(2) : '0.55')+')<\/span>' : '';\n\n    \/\/ ---- FOUR CONDITIONS (formatting only) ----\n    \/\/ C  : analysis\n    \/\/ T1 : analysis + (p = \u2026)\n    \/\/ T2 : analysis \u2014 Recommendation: {Buy\/Sell\/No trade}\n    \/\/ T3 : analysis \u2014 Recommendation: {\u2026} (p = \u2026)\n    var imperativeTail='';\n    if(imperative){\n      if(action==='Sell')      imperativeTail=' \u2014 <b>Recommendation: Sell '+target+'<\/b>';\n      else if(action==='Buy')  imperativeTail=' \u2014 <b>Recommendation: Buy '+target+'<\/b>';\n      else                     imperativeTail=' \u2014 <b>Recommendation: No trade<\/b>';\n      if(quantified) imperativeTail += probTag;          \/\/ T3 only\n    }else{\n      if(quantified) analysis += probTag;                \/\/ T1 only\n    }\n\n    \/\/ Persist advice meta for audit\n    set('AdviceAction_R'+R, action);\n    set('AdviceAsset_R'+R,  target||'');\n    if(quantified) set('AdviceProb_R'+R, advisedProb ? advisedProb.toFixed(4) : '');\n\n    return analysis + imperativeTail;\n  }\n\n  if(adviceBtn && R>=2){\n    adviceBtn.style.display = ''; \/\/ ensure visible for ALL arms from R2+\n    adviceBtn.addEventListener('click',function(){\n      if(adviceBox.style.display==='none'){\n        adviceText.innerHTML = buildAdvice();\n        adviceBox.style.display='block';\n        if(adviceSeen) adviceSeen.style.display='inline';\n        if(!adviceOpened){ adviceOpened=true; set('AdviceOpens', num(ed('AdviceOpens'))+1); }\n      }else{\n        adviceBox.style.display='none';\n      }\n    });\n  }\n\n  \/\/ ===== trading, PV, persistence =====\n  function portfolioValueNow(){ return cash + holds.A*prices.A + holds.B*prices.B + holds.C*prices.C + holds.D*prices.D; }\n  function refreshPV(){\n    var pvSpan=document.getElementById('pvSpan');\n    if(!pvSpan){ var p=document.createElement('p'); p.innerHTML='<b>Current portfolio value:<\/b> $<span id=\"pvSpan\"><\/span>'; (document.getElementById('game')||document.body).appendChild(p); pvSpan=document.getElementById('pvSpan'); }\n    pvSpan.innerText=portfolioValueNow().toFixed(2);\n  }\n  refreshPV();\n\n  function trade(asset,side){\n    var qtyEl=el('qty'+asset); var qty=Math.floor(num(qtyEl&&qtyEl.value));\n    if(!qty||qty<=0) return;\n    var price=prices[asset], hold=holds[asset], ac=avgc[asset];\n\n    if(side==='Buy'){\n      var cost=qty*price; if(cost>cash) return;\n      var newHold=hold+qty, newAvg=(hold*ac+qty*price)\/newHold;\n      cash-=cost; holds[asset]=newHold; avgc[asset]=newAvg;\n      if(imperative && adviceOpened && advisedAction.type==='Buy' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }else{\n      qty=Math.min(qty,hold); if(qty===0) return;\n      var proceeds=qty*price; cash+=proceeds;\n      var pl=(price-ac)*qty;\n      if(pl>=0){ set('RealizedGains', num(ed('RealizedGains'))+pl); set('NumRealizedGains', num(ed('NumRealizedGains'))+1); }\n      else     { set('RealizedLosses', num(ed('RealizedLosses'))+Math.abs(pl)); set('NumRealizedLosses', num(ed('NumRealizedLosses'))+1); }\n      hold-=qty; if(hold===0) ac=0; holds[asset]=hold; avgc[asset]=ac;\n      if(imperative && adviceOpened && advisedAction.type==='Sell' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }\n    if(el('h'+asset)) el('h'+asset).innerText=holds[asset];\n    if(el('c'+asset)) el('c'+asset).innerText=holds[asset]>0 ? '$'+avgc[asset].toFixed(2) : '\u2014';\n    if(el('cash')) el('cash').innerText=cash.toFixed(2);\n    if(qtyEl) qtyEl.value='';\n    refreshPV();\n  }\n  Array.from(document.querySelectorAll('button.buy')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Buy')));\n  Array.from(document.querySelectorAll('button.sell')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Sell')));\n\n  function persistState(){\n    try{\n      var pv=portfolioValueNow(); refreshPV();\n\n      \/\/ \u2705 Use the PRE-TRADE snapshot to accumulate paper opportunities\n      if(preOppG>0) set('NumPaperGainsOpp',  num(ed('NumPaperGainsOpp'))  + preOppG);\n      if(preOppL>0) set('NumPaperLossesOpp', num(ed('NumPaperLossesOpp')) + preOppL);\n\n      \/\/ write state\n      set('Cash', cash.toFixed(2));\n      ['A','B','C','D'].forEach(k=>{ set('Hold'+k, holds[k]); set('AvgCost'+k, avgc[k].toFixed(6)); set('LastPrice'+k, prices[k]); });\n      set('PortfolioValue_R'+R, pv.toFixed(2));\n      set('AdviceOpened_R'+R, adviceOpened?1:0);\n      set('AdviceTarget_R'+R, advisedAction.asset||'');\n      set('AdviceType_R'+R, advisedAction.type||'');\n      if(quantified && advisedProb!=null) set('AdviceProb_R'+R, advisedProb.toFixed(4));\n      set('Round', R+1);\n    }catch(e){ showError('Persist error: '+e.message); }\n  }\n\n  var nextBtn=document.getElementById('NextButton'); if(nextBtn) nextBtn.style.display='none';\n  var go=document.createElement('button'); go.type='button'; go.id='GoNext'; go.textContent='Continue'; go.style.cssText='margin-top:12px;padding:8px 14px;';\n  (document.getElementById('game')||document.body).appendChild(go);\n  go.addEventListener('click', function(){ persistState(); setTimeout(function(){ if(nextBtn) nextBtn.click(); }, 30); });\n  this.addOnPageSubmit(function(){ persistState(); });\n\n  \/\/ Debug: add ?debug=1 to URL to see your arm + p on-page\n  try{\n    if((new URLSearchParams(location.search)).get('debug')==='1'){\n      var dbg=document.createElement('div');\n      dbg.style.cssText='margin:8px 0;color:#666;font-size:12px';\n      dbg.textContent='Arm: '+label+' (quantified='+quantified+', imperative='+imperative+')';\n      (document.getElementById('game')||document.body).insertBefore(dbg,(document.getElementById('game')||document.body).firstChild);\n    }\n  }catch(e){}\n});","QuestionText_Unsafe":"<div id=\"game\">\n  <h3>Round <span id=\"rnum\"><\/span> of 6<\/h3>\n\n  <div id=\"macro\" style=\"margin-bottom:8px\">\n    <b>Market condition:<\/b> Prices move exogenously each round (+6 % or \u22125 %).  \n    Your trades do not affect prices.\n  <\/div>\n\n  <p><b>Cash:<\/b> $<span id=\"cash\"><\/span><\/p>\n\n  <table border=\"1\" cellpadding=\"6\" style=\"border-collapse:collapse; width:100%; max-width:760px;\">\n    <thead>\n      <tr><th>Asset<\/th><th>Price<\/th><th>Holdings<\/th><th>Avg Cost<\/th><th>Trade<\/th><\/tr>\n    <\/thead>\n    <tbody>\n      \n      <tr>\n        <td>A<\/td><td id=\"pA\"><\/td><td id=\"hA\"><\/td><td id=\"cA\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyA\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"A\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"A\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      \n      <tr>\n        <td>B<\/td><td id=\"pB\"><\/td><td id=\"hB\"><\/td><td id=\"cB\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyB\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"B\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"B\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      \n      <tr>\n        <td>C<\/td><td id=\"pC\"><\/td><td id=\"hC\"><\/td><td id=\"cC\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyC\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"C\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"C\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      \n      <tr>\n        <td>D<\/td><td id=\"pD\"><\/td><td id=\"hD\"><\/td><td id=\"cD\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyD\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"D\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"D\">Sell<\/button>\n        <\/td>\n      <\/tr>\n    <\/tbody>\n  <\/table>\n\n  <div style=\"margin-top:12px\">\n    <button type=\"button\" id=\"adviceBtn\">Get Advice<\/button>\n    <span id=\"adviceSeen\" style=\"display:none;color:green;margin-left:8px;\">Advice opened \u2714<\/span>\n  <\/div>\n\n  <div id=\"adviceBox\" style=\"display:none;margin-top:10px;padding:10px;border:1px solid #ccc;\">\n    <b>Advisor<\/b>\n    <div id=\"adviceText\" style=\"margin-top:6px;\"><\/div>\n  <\/div>\n\n  <p style=\"margin-top:12px\"><i>Make any trades you want, then click Next to continue.<\/i><\/p>\n<\/div>\n","DataExportTag":"Round 5","QuestionID":"QID1322501948"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322501955","SecondaryAttribute":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","TertiaryAttribute":null,"Payload":{"QuestionText":"<div id=\"game\">\n  <h3>Round <span id=\"rnum\"><\/span> of 8<\/h3>\n\n  \n  <div style=\"margin-bottom:8px\" id=\"macro\"><\/div>\n\n  <p><b>Cash:<\/b> $<span id=\"cash\"><\/span><\/p>\n\n  <table border=\"1\" cellpadding=\"6\" style=\"border-collapse:collapse; width:100%; max-width:760px;\">\n    <thead>\n      <tr><th>Asset<\/th><th>Price<\/th><th>Holdings<\/th><th>Avg Cost<\/th><th>Trade<\/th><\/tr>\n    <\/thead>\n    <tbody>\n      <tr>\n        <td>A<\/td><td id=\"pA\"><\/td><td id=\"hA\"><\/td><td id=\"cA\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyA\">\n          <button data-asset=\"A\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"A\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>B<\/td><td id=\"pB\"><\/td><td id=\"hB\"><\/td><td id=\"cB\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyB\">\n          <button data-asset=\"B\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"B\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>C<\/td><td id=\"pC\"><\/td><td id=\"hC\"><\/td><td id=\"cC\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyC\">\n          <button data-asset=\"C\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"C\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>D<\/td><td id=\"pD\"><\/td><td id=\"hD\"><\/td><td id=\"cD\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyD\">\n          <button data-asset=\"D\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"D\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n    <\/tbody>\n  <\/table>\n\n  <div style=\"margin-top:12px;\" id=\"adviceArea\">\n    <button type=\"button\" id=\"adviceBtn\">Get advisor analysis<\/button>\n    <span style=\"display:none;margin-left:8px;color:green;\" id=\"adviceSeen\">(analysis shown)<\/span>\n    <div style=\"display:none;border:1px solid #ccc;padding:8px;margin-top:6px;\" id=\"adviceBox\">\n      <div id=\"adviceText\"><\/div>\n    <\/div>\n  <\/div>\n\n  <p style=\"margin-top:12px\">\n    <i>Make any trades you want, then click Continue to proceed.<\/i>\n  <\/p>\n<\/div>","DefaultChoices":false,"QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionJS":"Qualtrics.SurveyEngine.addOnReady(function () {\n  \/\/ ===== helpers =====\n  function ed(k){ return Qualtrics.SurveyEngine.getEmbeddedData(k); }\n  function set(k,v){ Qualtrics.SurveyEngine.setEmbeddedData(k, v); }\n  function num(x){ var y = parseFloat(x); return isNaN(y) ? 0 : y; }\n  function el(id){ return document.getElementById(id); }\n  function showError(msg){\n    var d = document.createElement('div');\n    d.style.cssText='background:#fee;border:1px solid #f66;color:#900;padding:8px;margin:8px 0';\n    d.innerHTML='<b>Setup error:<\/b> '+msg;\n    (document.getElementById('game')||document.body).insertBefore(d,(document.getElementById('game')||document.body).firstChild);\n  }\n\n  \/\/ ===== round index (SET per page) =====\n  var R = 6; \/\/ <<< set 1..6 on each round page\n\n  \/\/ ===== treatment arm (from Survey Flow Randomizer; stable across pages) =====\n  var label = (ed('ConditionLabel')||'').trim();\n  if(!label){ try{ label = (localStorage.getItem('AB_ConditionLabel')||'').trim(); }catch(e){} }\n  if(!label){ label = 'C'; } \/\/ preview safety\n  set('ConditionLabel', label);\n  try{ localStorage.setItem('AB_ConditionLabel', label); }catch(e){}\n  \/\/ ---- Four arms (derive booleans from ConditionLabel) ----\n  \/\/ C  = Analysis only (no probability, no imperative)\n  \/\/ T1 = Analysis + Quantified Confidence (p=\u2026)\n  \/\/ T2 = Reason-based Imperative (Analysis + \"Recommendation: \u2026\")\n  \/\/ T3 = Reason-based Imperative + Quantified Confidence\n  var quantified = (label==='T1' || label==='T3');\n  var imperative = (label==='T2' || label==='T3');\n\n  \/\/ ===== load state =====\n  var cash  = num(ed('Cash'));\n  var holds = {A:num(ed('HoldA')), B:num(ed('HoldB')), C:num(ed('HoldC')), D:num(ed('HoldD'))};\n  var avgc  = {A:num(ed('AvgCostA')), B:num(ed('AvgCostB')), C:num(ed('AvgCostC')), D:num(ed('AvgCostD'))};\n\n  \/\/ ===== price path =====\n  var pathText = ed('PricePathJSON') || '[]';\n  var path; try{ path = JSON.parse(pathText); }catch(e){ path=[]; }\n  if(!path[R-1]){ showError('PricePathJSON missing entry for round '+R); return; }\n  var px = path[R-1];\n  var prices = {A:num(px.A), B:num(px.B), C:num(px.C), D:num(px.D)};\n  if(![prices.A,prices.B,prices.C,prices.D].every(v=>v>0)){ showError('Invalid prices on round '+R); return; }\n\n  \/\/ ===== optional macro narrative =====\n  var narrText = ed('MarketNarrativeJSON') || '[]';\n  var narr=[]; try{ narr = JSON.parse(narrText); }catch(e){}\n  var macroEl = el('macro');\n  if(macroEl){ macroEl.innerHTML = '<b>Market condition:<\/b> ' + (narr[R-1] || 'Prices move exogenously; your trades do not affect prices.'); }\n\n  \/\/ ===== basic UI fill =====\n  if(el('rnum')) el('rnum').innerText = R;\n  if(el('cash')) el('cash').innerText = cash.toFixed(2);\n  ['A','B','C','D'].forEach(function(k){\n    if(el('p'+k)) el('p'+k).innerText = '$'+prices[k].toFixed(2);\n    if(el('h'+k)) el('h'+k).innerText = holds[k];\n    if(el('c'+k)) el('c'+k).innerText = holds[k]>0 ? '$'+avgc[k].toFixed(2) : '\u2014';\n  });\n\n  \/\/ ===== trends (look back up to 3 rounds) =====\n  function lastNRoundAvgReturn(asset,N){\n    var n=Math.min(N,R-1); if(n<=0) return 0;\n    var sum=0,cnt=0;\n    for(var t=R-1; t>=1 && cnt<n; t--){\n      var p_t=num(path[t][asset]), p_tm1=num(path[t-1][asset]);\n      if(p_t>0 && p_tm1>0){ sum += (p_t\/p_tm1 - 1); cnt++; }\n    }\n    return cnt? sum\/cnt : 0;\n  }\n  var lookback = Math.min(3, R-1); \/\/ 1..3 (0 on R1)\n  var trend = {A:lastNRoundAvgReturn('A',lookback),\n               B:lastNRoundAvgReturn('B',lookback),\n               C:lastNRoundAvgReturn('C',lookback),\n               D:lastNRoundAvgReturn('D',lookback)};\n  function trendRankString(){\n    return ['A','B','C','D'].map(k=>k+':'+(trend[k]*100).toFixed(1)+'%').join(', ');\n  }\n\n  \/\/ ===== snapshot paper opps BEFORE any trading (for correct PGR\/PLR) =====\n  var preOppG = 0, preOppL = 0;\n  (function snapshotPreTradeOpps(){\n    ['A','B','C','D'].forEach(function(k){\n      var h=holds[k], ac=avgc[k], p=prices[k];\n      if(h>0 && ac>0){\n        if(p>ac) preOppG += 1;\n        else if(p<ac) preOppL += 1;\n      }\n    });\n  })();\n\n  \/\/ ===== advisor UI =====\n  var adviceBtn  = el('adviceBtn'),\n      adviceBox  = el('adviceBox'),\n      adviceSeen = el('adviceSeen'),\n      adviceText = el('adviceText');\n\n  \/\/ Round 1 only: no advice (insufficient history)\n  if(R===1 && adviceBtn){ adviceBtn.style.display='none'; }\n\n  var adviceOpened=false;\n  var advisedAction={type:'None', asset:null};\n  var advisedProb = null; \/\/ store p for T1\/T3\n\n  \/\/ ===== action thresholds (ED overrideable) =====\n  var BUY_THRESH  = num(ed('BuyThresh'))  ||  0.002;  \/\/ +0.20% avg\/round\n  var SELL_THRESH = num(ed('SellThresh')) ||  0.002;  \/\/ \u22120.20% avg\/round (apply as negative)\n\n  \/\/ ===== probability model utilities (for T1\/T3) =====\n  \/\/ normal CDF (Abramowitz-Stegun approx)\n  function normcdf(z){\n    var t = 1 \/ (1 + 0.2316419 * Math.abs(z));\n    var d = 0.3989422804014327 * Math.exp(-0.5*z*z);\n    var p = d * t * (0.319381530 + t*(-0.356563782 + t*(1.781477937 + t*(-1.821255978 + t*1.330274429))));\n    return (z >= 0) ? 1 - p : p;\n  }\n  function clamp(x,a,b){ return Math.max(a, Math.min(b, x)); }\n\n  function computeConfidence(target, action){\n    \/\/ Use the absolute trend magnitude of chosen target vs cross-asset variability.\n    \/\/ SE \u2248 std of trends across assets \/ sqrt(lookback or 1)\n    var arr = ['A','B','C','D'].map(k=>trend[k]);\n    var mean = arr.reduce((s,v)=>s+v,0)\/arr.length;\n    var var_ = arr.reduce((s,v)=>s+(v-mean)*(v-mean),0)\/Math.max(1,arr.length-1);\n    var std = Math.sqrt(var_ || 1e-8);\n    var effN = Math.max(1, lookback || 1);\n    var se = std \/ Math.sqrt(effN);\n\n    var signal = Math.abs(trend[target] || 0);\n    var z = (se>0) ? signal \/ se : 0;\n    var twoSided = 2*normcdf(Math.abs(z)) - 1; \/\/ maps 0..\u221e \u2192 0..1\n\n    \/\/ Calibrate to a believable band [0.55, 0.95]\n    var p = clamp(0.55 + 0.40 * Math.min(twoSided, 1), 0.55, 0.95);\n    \/\/ Slightly nudge lower for \"No trade\"\n    if(action==='None') p = Math.max(0.55, p - 0.05);\n    return p;\n  }\n\n  \/\/ ===== build advice (formats differ by arm; content identical source) =====\n  function buildAdvice(){\n    var held = ['A','B','C','D'].filter(k=>holds[k]>0);\n    var sellCand = null;\n    if(held.length){\n      sellCand = held.reduce((w,k)=> (w===null||trend[k]<trend[w])?k:w, null);\n    }\n    var buyCand = ['A','B','C','D'].reduce((b,k)=> (b===null||trend[k]>trend[b])?k:b, null);\n\n    var action='None', target=null, edgeMsg='no strong directional edge across assets';\n    if(sellCand && trend[sellCand] <= -Math.abs(SELL_THRESH)){\n      action='Sell'; target=sellCand; edgeMsg='lower expected return for <b>Asset '+target+'<\/b>';\n    } else if(buyCand && trend[buyCand] >= Math.abs(BUY_THRESH) && cash >= prices[buyCand]){\n      action='Buy'; target=buyCand; edgeMsg='higher expected return for <b>Asset '+target+'<\/b>';\n    }\n    advisedAction.type=action; advisedAction.asset=target;\n\n    \/\/ ---- CORE ANALYSIS LINE (shared across all arms) ----\n    var analysis = 'Recent multi-round momentum (last-'+(lookback||1)+'-round trends: '+trendRankString()+') suggests '+edgeMsg+'.';\n\n    \/\/ ---- confidence p for T1\/T3 (data-driven, not fixed 0.84) ----\n    advisedProb = (quantified ? computeConfidence(target || (buyCand||sellCand||'A'), action) : null);\n    var probTag = quantified ? ' <span>(p = '+(advisedProb? advisedProb.toFixed(2) : '0.55')+')<\/span>' : '';\n\n    \/\/ ---- FOUR CONDITIONS (formatting only) ----\n    \/\/ C  : analysis\n    \/\/ T1 : analysis + (p = \u2026)\n    \/\/ T2 : analysis \u2014 Recommendation: {Buy\/Sell\/No trade}\n    \/\/ T3 : analysis \u2014 Recommendation: {\u2026} (p = \u2026)\n    var imperativeTail='';\n    if(imperative){\n      if(action==='Sell')      imperativeTail=' \u2014 <b>Recommendation: Sell '+target+'<\/b>';\n      else if(action==='Buy')  imperativeTail=' \u2014 <b>Recommendation: Buy '+target+'<\/b>';\n      else                     imperativeTail=' \u2014 <b>Recommendation: No trade<\/b>';\n      if(quantified) imperativeTail += probTag;          \/\/ T3 only\n    }else{\n      if(quantified) analysis += probTag;                \/\/ T1 only\n    }\n\n    \/\/ Persist advice meta for audit\n    set('AdviceAction_R'+R, action);\n    set('AdviceAsset_R'+R,  target||'');\n    if(quantified) set('AdviceProb_R'+R, advisedProb ? advisedProb.toFixed(4) : '');\n\n    return analysis + imperativeTail;\n  }\n\n  if(adviceBtn && R>=2){\n    adviceBtn.style.display = ''; \/\/ ensure visible for ALL arms from R2+\n    adviceBtn.addEventListener('click',function(){\n      if(adviceBox.style.display==='none'){\n        adviceText.innerHTML = buildAdvice();\n        adviceBox.style.display='block';\n        if(adviceSeen) adviceSeen.style.display='inline';\n        if(!adviceOpened){ adviceOpened=true; set('AdviceOpens', num(ed('AdviceOpens'))+1); }\n      }else{\n        adviceBox.style.display='none';\n      }\n    });\n  }\n\n  \/\/ ===== trading, PV, persistence =====\n  function portfolioValueNow(){ return cash + holds.A*prices.A + holds.B*prices.B + holds.C*prices.C + holds.D*prices.D; }\n  function refreshPV(){\n    var pvSpan=document.getElementById('pvSpan');\n    if(!pvSpan){ var p=document.createElement('p'); p.innerHTML='<b>Current portfolio value:<\/b> $<span id=\"pvSpan\"><\/span>'; (document.getElementById('game')||document.body).appendChild(p); pvSpan=document.getElementById('pvSpan'); }\n    pvSpan.innerText=portfolioValueNow().toFixed(2);\n  }\n  refreshPV();\n\n  function trade(asset,side){\n    var qtyEl=el('qty'+asset); var qty=Math.floor(num(qtyEl&&qtyEl.value));\n    if(!qty||qty<=0) return;\n    var price=prices[asset], hold=holds[asset], ac=avgc[asset];\n\n    if(side==='Buy'){\n      var cost=qty*price; if(cost>cash) return;\n      var newHold=hold+qty, newAvg=(hold*ac+qty*price)\/newHold;\n      cash-=cost; holds[asset]=newHold; avgc[asset]=newAvg;\n      if(imperative && adviceOpened && advisedAction.type==='Buy' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }else{\n      qty=Math.min(qty,hold); if(qty===0) return;\n      var proceeds=qty*price; cash+=proceeds;\n      var pl=(price-ac)*qty;\n      if(pl>=0){ set('RealizedGains', num(ed('RealizedGains'))+pl); set('NumRealizedGains', num(ed('NumRealizedGains'))+1); }\n      else     { set('RealizedLosses', num(ed('RealizedLosses'))+Math.abs(pl)); set('NumRealizedLosses', num(ed('NumRealizedLosses'))+1); }\n      hold-=qty; if(hold===0) ac=0; holds[asset]=hold; avgc[asset]=ac;\n      if(imperative && adviceOpened && advisedAction.type==='Sell' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }\n    if(el('h'+asset)) el('h'+asset).innerText=holds[asset];\n    if(el('c'+asset)) el('c'+asset).innerText=holds[asset]>0 ? '$'+avgc[asset].toFixed(2) : '\u2014';\n    if(el('cash')) el('cash').innerText=cash.toFixed(2);\n    if(qtyEl) qtyEl.value='';\n    refreshPV();\n  }\n  Array.from(document.querySelectorAll('button.buy')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Buy')));\n  Array.from(document.querySelectorAll('button.sell')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Sell')));\n\n  function persistState(){\n    try{\n      var pv=portfolioValueNow(); refreshPV();\n\n      \/\/ \u2705 Use the PRE-TRADE snapshot to accumulate paper opportunities\n      if(preOppG>0) set('NumPaperGainsOpp',  num(ed('NumPaperGainsOpp'))  + preOppG);\n      if(preOppL>0) set('NumPaperLossesOpp', num(ed('NumPaperLossesOpp')) + preOppL);\n\n      \/\/ write state\n      set('Cash', cash.toFixed(2));\n      ['A','B','C','D'].forEach(k=>{ set('Hold'+k, holds[k]); set('AvgCost'+k, avgc[k].toFixed(6)); set('LastPrice'+k, prices[k]); });\n      set('PortfolioValue_R'+R, pv.toFixed(2));\n      set('AdviceOpened_R'+R, adviceOpened?1:0);\n      set('AdviceTarget_R'+R, advisedAction.asset||'');\n      set('AdviceType_R'+R, advisedAction.type||'');\n      if(quantified && advisedProb!=null) set('AdviceProb_R'+R, advisedProb.toFixed(4));\n      set('Round', R+1);\n    }catch(e){ showError('Persist error: '+e.message); }\n  }\n\n  var nextBtn=document.getElementById('NextButton'); if(nextBtn) nextBtn.style.display='none';\n  var go=document.createElement('button'); go.type='button'; go.id='GoNext'; go.textContent='Continue'; go.style.cssText='margin-top:12px;padding:8px 14px;';\n  (document.getElementById('game')||document.body).appendChild(go);\n  go.addEventListener('click', function(){ persistState(); setTimeout(function(){ if(nextBtn) nextBtn.click(); }, 30); });\n  this.addOnPageSubmit(function(){ persistState(); });\n\n  \/\/ Debug: add ?debug=1 to URL to see your arm + p on-page\n  try{\n    if((new URLSearchParams(location.search)).get('debug')==='1'){\n      var dbg=document.createElement('div');\n      dbg.style.cssText='margin:8px 0;color:#666;font-size:12px';\n      dbg.textContent='Arm: '+label+' (quantified='+quantified+', imperative='+imperative+')';\n      (document.getElementById('game')||document.body).insertBefore(dbg,(document.getElementById('game')||document.body).firstChild);\n    }\n  }catch(e){}\n});","QuestionText_Unsafe":"<div id=\"game\">\n  <h3>Round <span id=\"rnum\"><\/span> of 6<\/h3>\n\n  <div id=\"macro\" style=\"margin-bottom:8px\">\n    <b>Market condition:<\/b> Prices move exogenously each round (+6 % or \u22125 %).  \n    Your trades do not affect prices.\n  <\/div>\n\n  <p><b>Cash:<\/b> $<span id=\"cash\"><\/span><\/p>\n\n  <table border=\"1\" cellpadding=\"6\" style=\"border-collapse:collapse; width:100%; max-width:760px;\">\n    <thead>\n      <tr><th>Asset<\/th><th>Price<\/th><th>Holdings<\/th><th>Avg Cost<\/th><th>Trade<\/th><\/tr>\n    <\/thead>\n    <tbody>\n      \n      <tr>\n        <td>A<\/td><td id=\"pA\"><\/td><td id=\"hA\"><\/td><td id=\"cA\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyA\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"A\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"A\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      \n      <tr>\n        <td>B<\/td><td id=\"pB\"><\/td><td id=\"hB\"><\/td><td id=\"cB\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyB\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"B\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"B\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      \n      <tr>\n        <td>C<\/td><td id=\"pC\"><\/td><td id=\"hC\"><\/td><td id=\"cC\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyC\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"C\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"C\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      \n      <tr>\n        <td>D<\/td><td id=\"pD\"><\/td><td id=\"hD\"><\/td><td id=\"cD\"><\/td>\n        <td>\n          <input type=\"number\" id=\"qtyD\" min=\"0\" step=\"1\" style=\"width:70px\" placeholder=\"Qty\">\n          <button type=\"button\" class=\"buy\" data-asset=\"D\">Buy<\/button>\n          <button type=\"button\" class=\"sell\" data-asset=\"D\">Sell<\/button>\n        <\/td>\n      <\/tr>\n    <\/tbody>\n  <\/table>\n\n  <div style=\"margin-top:12px\">\n    <button type=\"button\" id=\"adviceBtn\">Get Advice<\/button>\n    <span id=\"adviceSeen\" style=\"display:none;color:green;margin-left:8px;\">Advice opened \u2714<\/span>\n  <\/div>\n\n  <div id=\"adviceBox\" style=\"display:none;margin-top:10px;padding:10px;border:1px solid #ccc;\">\n    <b>Advisor<\/b>\n    <div id=\"adviceText\" style=\"margin-top:6px;\"><\/div>\n  <\/div>\n\n  <p style=\"margin-top:12px\"><i>Make any trades you want, then click Next to continue.<\/i><\/p>\n<\/div>\n","DataExportTag":"Round 6","QuestionID":"QID1322501955"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322503304","SecondaryAttribute":"Informed Consent You are invited to take part in a study named Robo-Advice and Human Behaviour. T...","TertiaryAttribute":null,"Payload":{"QuestionText":"<b>Informed Consent<\/b><br><br>You are invited to take part in a study named <b>Robo-Advice and Human Behaviour<\/b>. The purpose of this research study is to understand human decision-making. You will 'trade' stocks over the course of a ten-round simulation to study different behaviours in different conditions. We will also ask you to provide demographic information. We will not ask for your name or any information that will make you identifiable. Overall, this study will take approximately 5-8 minutes. <br><br>For your participation in this study, you will receive a fixed payment of <b><i>$X<\/i><\/b>. Additionally, you may receive a monetary bonus based on performance in the trading simulation. <br><br>You will be paid within 10 days of completing the study via MTurk. Your email address will only be used to pay you correctly and will be deleted permanently from the experimenter's data after payment is complete. The risks to participating are no greater than those encountered in everyday life. Your participation in this study is completely voluntary, and you may refuse to participate. If you withdraw from the study before completing it, you will not be paid. Compensation will be awarded upon completion of the entire study. <br><br>If you have any questions about this study, you may contact us at mbdsmturk@gmail.com. <br><br>Please feel free to print or save a copy of this consent form. <br><br><u>By continuing from this page, you are indicating that you have read and understood this consent form and wish to continue your participation in this study.<\/u>","DefaultChoices":false,"QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Informed Consent You are invited to take part in a study named Robo-Advice and Human Behaviour. T...","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":2,"NextAnswerId":1,"QuestionText_Unsafe":"Thank you for participating! This short pilot will take about 5\u20137 minutes and be instrumental in the design of a trading simulation study we will be administering in the coming weeks around robo-advice's impacts on investment advice and behavior. Your responses are anonymous and will be used only for research design and refinement.","DataExportTag":"Q1","QuestionID":"QID1322503304"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322503305","SecondaryAttribute":"How old are you?","TertiaryAttribute":null,"Payload":{"QuestionText":"How old are you?<br>","DefaultChoices":false,"QuestionType":"MC","Selector":"SAVR","SubSelector":"TX","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"How old are you?","Choices":{"1":{"Display":"Under 18"},"2":{"Display":"18 - 24"},"3":{"Display":"25 - 34"},"4":{"Display":"35 - 44"},"5":{"Display":"45 - 54"},"6":{"Display":"55 - 64"},"7":{"Display":"Over 65"}},"ChoiceOrder":[1,2,3,4,5,6,7],"Validation":{"Settings":{"ForceResponse":"ON","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":8,"NextAnswerId":1,"QuestionText_Unsafe":"How old are you?<br>","DataExportTag":"Q2","QuestionID":"QID1322503305"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322503306","SecondaryAttribute":"How do you describe yourself?","TertiaryAttribute":null,"Payload":{"ChoiceOrder":[1,2,3,4],"Choices":{"1":{"Display":"Male"},"2":{"Display":"Female"},"3":{"Display":"Non-binary \/ third gender"},"4":{"Display":"Prefer not to say"}},"Configuration":{"QuestionDescriptionOption":"UseText"},"DataExportTag":"Q3","DataVisibility":{"Hidden":false,"Private":false},"GradingData":[],"Language":{"DE":{"QuestionText":"Wie beschreiben Sie sich selbst?","Choices":{"1":{"Display":"M\u00e4nnlich"},"2":{"Display":"Weiblich"},"3":{"Display":"Nichtbin\u00e4r\/drittes Geschlecht"},"4":{"Display":"Keine Angabe"}}},"EN-GB":{"QuestionText":"How do you describe yourself?","Choices":{"1":{"Display":"Male"},"2":{"Display":"Female"},"3":{"Display":"Non-binary \/ third gender"},"4":{"Display":"Prefer not to say"}}},"ES":{"QuestionText":"\u00bfC\u00f3mo se describe a usted mismo?","Choices":{"1":{"Display":"Masculino"},"2":{"Display":"Femenino"},"3":{"Display":"No binario \/ tercer sexo"},"4":{"Display":"Preferencia de no especificar"}}},"ES-ES":{"QuestionText":"\u00bfC\u00f3mo se describe a s\u00ed mismo?","Choices":{"1":{"Display":"Masculino"},"2":{"Display":"Femenino"},"3":{"Display":"No binario \/ tercer g\u00e9nero"},"4":{"Display":"Prefiero no decirlo"}}},"FR":{"QuestionText":"Comment vous d\u00e9crivez-vous\u00a0?","Choices":{"1":{"Display":"Un homme"},"2":{"Display":"Une femme"},"3":{"Display":"Non-binaire\/transgenre"},"4":{"Display":"Ne souhaite pas r\u00e9pondre"}}},"IT":{"QuestionText":"Come descrivi te stesso\/a?","Choices":{"1":{"Display":"Maschio"},"2":{"Display":"Femmina"},"3":{"Display":"Genere non-binario\/Terzo genere"},"4":{"Display":"Preferisco non dirlo"}}},"JA":{"QuestionText":"\u81ea\u8eab\u306e\u6027\u8a8d\u8b58","Choices":{"1":{"Display":"\u7537\u6027"},"2":{"Display":"\u5973\u6027"},"3":{"Display":"\u30ce\u30f3\u30d0\u30a4\u30ca\u30ea\u30fc\uff0f\u7b2c\u4e09\u306e\u6027\u5225"},"4":{"Display":"\u56de\u7b54\u3057\u305f\u304f\u306a\u3044"}}},"KO":{"QuestionText":"\ubcf8\uc778\uc744 \uc5b4\ub5bb\uac8c \uc124\uba85\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","Choices":{"1":{"Display":"\ub0a8\uc131"},"2":{"Display":"\uc5ec\uc131"},"3":{"Display":"\ub17c\ubc14\uc774\ub108\ub9ac\/\uc81c3\uc758 \uc131"},"4":{"Display":"\ub9d0\uc218\uac00 \uc801\uc740 \ud3b8"}}},"NL":{"QuestionText":"Hoe omschrijft u uzelf?","Choices":{"1":{"Display":"Man"},"2":{"Display":"Vrouw"},"3":{"Display":"Non-binair\/derde geslacht"},"4":{"Display":"Ik zeg dat liever niet"}}},"PT-BR":{"QuestionText":"Como voc\u00ea se descreve?","Choices":{"1":{"Display":"Masculino"},"2":{"Display":"Feminino"},"3":{"Display":"N\u00e3o bin\u00e1rio\/terceiro g\u00eanero"},"4":{"Display":"Prefere n\u00e3o dizer"}}},"ZH-S":{"QuestionText":"\u60a8\u4f1a\u5982\u4f55\u5f62\u5bb9\u81ea\u5df1\uff1f","Choices":{"1":{"Display":"\u7537"},"2":{"Display":"\u5973"},"3":{"Display":"\u975e\u4e8c\u5143\u6027\u522b\/\u7b2c\u4e09\u6027\u522b"},"4":{"Display":"\u4fdd\u5bc6"}}},"ZH-T":{"QuestionText":"\u60a8\u5982\u4f55\u63cf\u8ff0\u81ea\u5df1\uff1f","Choices":{"1":{"Display":"\u7537"},"2":{"Display":"\u5973"},"3":{"Display":"\u975e\u4e8c\u5143\u6027\u5225\/\u7b2c\u4e09\u6027\u5225"},"4":{"Display":"\u4fdd\u5bc6"}}}},"NextAnswerId":1,"NextChoiceId":5,"QuestionDescription":"How do you describe yourself?","QuestionID":"QID1322503306","QuestionText":"How do you describe yourself?","QuestionText_Unsafe":"How do you describe yourself?","QuestionType":"MC","Selector":"SAVR","SubSelector":"TX","Validation":{"Settings":{"ForceResponse":"ON","ForceResponseType":"ON","Type":"None"}}}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322503307","SecondaryAttribute":"What is the highest level of education you have completed?","TertiaryAttribute":null,"Payload":{"ChoiceOrder":[1,2,3,4,5],"Choices":{"1":{"Display":"Some high school or less"},"2":{"Display":"High school diploma or GED"},"3":{"Display":"Associates or technical degree"},"4":{"Display":"Bachelor\u2019s degree"},"5":{"Display":"Graduate or professional degree (MA, MS, MBA, PhD, JD, MD, DDS etc.)"}},"Configuration":{"QuestionDescriptionOption":"UseText"},"DataExportTag":"Q4","DefaultChoices":false,"Language":{"DE":{"QuestionText":"Was ist Ihre h\u00f6chste abgeschlossene Ausbildung?","Choices":{"1":{"Display":"High School oder weniger"},"2":{"Display":"High-School-Abschluss oder GED"},"3":{"Display":"Associates oder technischer Abschluss"},"4":{"Display":"Bachelor-Abschluss"},"5":{"Display":"Hochschul- oder Fachabschluss (MA, MS, MBA, PhD, JD, MD, DDS usw.)"}}},"EN-GB":{"QuestionText":"What is the highest level of education you have completed?","Choices":{"1":{"Display":"Some high school or less"},"2":{"Display":"High school diploma or GED"},"3":{"Display":"Associates or technical degree"},"4":{"Display":"Bachelor\u2019s degree"},"5":{"Display":"Graduate or professional degree (MA, MS, MBA, PhD, JD, MD, DDS etc.)"}}},"ES":{"QuestionText":"\u00bfCu\u00e1l es el nivel educativo m\u00e1s alto que ha alcanzado?","Choices":{"1":{"Display":"Con cierta educaci\u00f3n secundaria o nivel educativo menor"},"2":{"Display":"Secundaria o GED"},"3":{"Display":"Diplomatura o grado t\u00e9cnico"},"4":{"Display":"Grado universitario"},"5":{"Display":"Licenciatura o t\u00edtulo profesional (MA, MS, MBA, PhD, JD, MD, DDS etc.)"}}},"ES-ES":{"QuestionText":"\u00bfCu\u00e1l es el mayor nivel de estudios que ha finalizado?","Choices":{"1":{"Display":"Escuela secundaria o inferior"},"2":{"Display":"Secundaria o GED"},"3":{"Display":"T\u00edtulo de t\u00e9cnico o asociado"},"4":{"Display":"T\u00edtulo de licenciado"},"5":{"Display":"T\u00edtulo de graduado o profesional (MA, MS, MBA, PhD, JD, MD, DDS, etc.)"}}},"FR":{"QuestionText":"Quel est votre plus haut niveau d'\u00e9tudes\u00a0?","Choices":{"1":{"Display":"Une partie du lyc\u00e9e, ou moins"},"2":{"Display":"Baccalaur\u00e9at ou \u00e9quivalent baccalaur\u00e9at"},"3":{"Display":"BTS"},"4":{"Display":"Licence"},"5":{"Display":"Master ou Doctorat (Master de lettres, Master en sciences, Master en gestion, Doctorat, Doctorat en droit, Doctorat en m\u00e9decine, Doctorat en divinit\u00e9, etc.)"}}},"IT":{"QuestionText":"Qual \u00e8 il pi\u00f9 elevato grado di istruzione che hai completato?","Choices":{"1":{"Display":"Scuola superiore o inferiore"},"2":{"Display":"Diploma di scuola superiore o GED (attestato di esame finale)"},"3":{"Display":"Diploma o diploma tecnico"},"4":{"Display":"Laurea di primo livello"},"5":{"Display":"Diploma di specializzazione o professionale (MA, MS, MBA, PhD, JD, MD, DDS, ecc.)"}}},"JA":{"QuestionText":"\u6700\u7d42\u5b66\u6b74\u3092\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002","Choices":{"1":{"Display":"\u9ad8\u6821\u5352\u3001\u307e\u305f\u306f\u305d\u308c\u4ee5\u4e0b"},"2":{"Display":"\u9ad8\u6821\u5352\u696d\u8cc7\u683c\u307e\u305f\u306fGED"},"3":{"Display":"\u6e96\u5b66\u4f4d\u307e\u305f\u306f\u6280\u8853\u7684\u306a\u5b66\u4f4d"},"4":{"Display":"\u5927\u5b66\u5352\uff08\u5b66\u58eb\uff09"},"5":{"Display":"\u5927\u5b66\u9662\u5352\u3001\u307e\u305f\u306f\u5c02\u9580\u8077\u5b66\u4f4d\uff08MA\u3001MS\u3001MBA\u3001PhD\u3001JD\u3001MD\u3001DDS\u306a\u3069\uff09"}}},"KO":{"QuestionText":"\uadc0\ud558\uc758 \ucd5c\uc885 \ud559\ub825\uc740 \ubb34\uc5c7\uc785\ub2c8\uae4c?","Choices":{"1":{"Display":"\uace0\uad50 \uc911\ud1f4 \uc774\ud558"},"2":{"Display":"\uace0\uad50 \uc878\uc5c5 \ub610\ub294 GED"},"3":{"Display":"\uc900\ud559\uc0ac \ub610\ub294 \uc804\ubb38\ub300\ud559 \ud559\uc704"},"4":{"Display":"\ud559\uc0ac \ud559\uc704"},"5":{"Display":"\uc11d\ubc15\uc0ac \ud559\uc704(MA, MS, MBA, PhD, JD, MD, DDS \ub4f1)"}}},"NL":{"QuestionText":"Wat is het hoogste opleidingsniveau dat u heeft afgerond?","Choices":{"1":{"Display":"Tot voortgezet onderwijs of lager"},"2":{"Display":"Voorgezet onderwijs"},"3":{"Display":"Technisch diploma"},"4":{"Display":"Bachelor"},"5":{"Display":"Universitair diploma"}}},"PT-BR":{"QuestionText":"Qual \u00e9 o n\u00edvel educacional mais elevado que voc\u00ea completou?","Choices":{"1":{"Display":"Ensino m\u00e9dio incompleto ou abaixo"},"2":{"Display":"Diploma do ensino m\u00e9dio ou GED"},"3":{"Display":"Diploma de tecn\u00f3logo"},"4":{"Display":"Diploma de bacharelado"},"5":{"Display":"P\u00f3s-gradua\u00e7\u00e3o (MA, MS, MBA, PhD, JD, MD, DDS etc.)"}}},"ZH-S":{"QuestionText":"\u60a8\u7684\u6700\u9ad8\u6559\u80b2\u6c34\u5e73\u662f\u4ec0\u4e48\uff1f","Choices":{"1":{"Display":"\u9ad8\u4e2d\u8084\u4e1a"},"2":{"Display":"\u9ad8\u4e2d\u6587\u51ed\u6216\u4e00\u822c\u540c\u7b49\u6587\u51ed"},"3":{"Display":"\u526f\u5b66\u58eb\u6216\u6280\u672f\u5b66\u4f4d"},"4":{"Display":"\u5b66\u58eb\u5b66\u4f4d"},"5":{"Display":"\u7855\u58eb\u6216\u4e13\u4e1a\u5b66\u4f4d\uff08\u6587\u5b66\u7855\u58eb\u3001\u7406\u5b66\u7855\u58eb\u3001\u5de5\u5546\u7ba1\u7406\u7855\u58eb\u3001\u54f2\u5b66\u535a\u58eb\u3001\u6cd5\u5b66\u535a\u58eb\u3001\u533b\u5b66\u535a\u58eb\u3001\u7259\u5916\u79d1\u5b66\u535a\u58eb\u7b49\uff09"}}},"ZH-T":{"QuestionText":"\u60a8\u5df2\u5b8c\u6210\u7684\u6700\u9ad8\u5b78\u4f4d\u6216\u6559\u80b2\u7a0b\u5ea6\u70ba\u4f55\uff1f","Choices":{"1":{"Display":"\u9ad8\u4e2d\u8077\u6216\u4ee5\u4e0b"},"2":{"Display":"\u9ad8\u4e2d\u7562\u696d\u6216\u5177\u666e\u901a\u6559\u80b2\u767c\u5c55\u8b49\u66f8"},"3":{"Display":"\u526f\u5b78\u58eb\u6216\u5c08\u79d1\u6280\u8853\u5b78\u4f4d"},"4":{"Display":"\u5b78\u58eb\u5b78\u4f4d"},"5":{"Display":"\u7814\u7a76\u6240\u5b78\u4f4d (MA\u3001MS\u3001MBA\u3001PhD\u3001JD\u3001MD\u3001DDS \u7b49)"}}}},"NextAnswerId":1,"NextChoiceId":6,"QuestionDescription":"What is the highest level of education you have completed?","QuestionText":"What is the highest level of education you have completed?","QuestionText_Unsafe":"What is the highest level of education you have completed?","QuestionType":"MC","Selector":"SAVR","SubSelector":"TX","Validation":{"Settings":{"ForceResponse":"ON","ForceResponseType":"ON","Type":"None"}},"QuestionID":"QID1322503307","DataVisibility":{"Private":false,"Hidden":false}}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322503329","SecondaryAttribute":"Have you ever traded on the market?","TertiaryAttribute":null,"Payload":{"QuestionText":"Have you ever traded on the market?","DefaultChoices":false,"QuestionType":"MC","Selector":"SAVR","SubSelector":"TX","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Have you ever traded on the market?","Choices":{"1":{"Display":"Never"},"2":{"Display":"Once or twice"},"3":{"Display":"Occasionally (a few times a year)"},"4":{"Display":"Regularly (monthly)"}},"ChoiceOrder":[1,2,3,4],"Validation":{"Settings":{"ForceResponse":"ON","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":5,"NextAnswerId":1,"QuestionText_Unsafe":"Have you ever traded stocks, ETFs, or options?","DataExportTag":"Q1","QuestionID":"QID1322503329"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322503330","SecondaryAttribute":"Approximate years of investing\/trading experience:","TertiaryAttribute":null,"Payload":{"QuestionText":"Approximate <b>years <\/b>of investing\/trading experience:","DefaultChoices":false,"QuestionType":"MC","Selector":"SAVR","SubSelector":"TX","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Approximate years of investing\/trading experience:","Choices":{"1":{"Display":"&lt;1"},"2":{"Display":"1-4"},"3":{"Display":"5-9"},"4":{"Display":"10+"}},"ChoiceOrder":[1,2,3,4],"Validation":{"Settings":{"ForceResponse":"OFF","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":5,"NextAnswerId":1,"QuestionText_Unsafe":"Approximate <b>years <\/b>of investing\/trading experience:","DataExportTag":"Q2","QuestionID":"QID1322503330"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322503331","SecondaryAttribute":"How frequently do you use robot advisors to inform your trades?","TertiaryAttribute":null,"Payload":{"QuestionText":"How frequently do you use robot advisors to inform your trades?","DefaultChoices":false,"QuestionType":"Matrix","Selector":"Likert","SubSelector":"SingleAnswer","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText","TextPosition":"inline","ChoiceColumnWidth":25,"RepeatHeaders":"none","WhiteSpace":"OFF","MobileFirst":true,"Autoscale":{"XScale":{"Name":"neverAlways","Type":"likert","Reverse":false}}},"QuestionDescription":"How frequently do you use robot advisors to inform your trades?","Choices":{"1":{"Display":"Robo-advice Use"}},"ChoiceOrder":[1],"Validation":{"Settings":{"ForceResponse":"OFF","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":2,"NextAnswerId":6,"Answers":{"1":{"Display":"Never"},"2":{"Display":"Sometimes"},"3":{"Display":"About half the time"},"4":{"Display":"Most of the time"},"5":{"Display":"Always"}},"AnswerOrder":[1,2,3,4,5],"ChoiceDataExportTags":false,"QuestionText_Unsafe":"How frequently do you use robot advisors to inform your trades?","DataExportTag":"Q3","QuestionID":"QID1322503331"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322503332","SecondaryAttribute":"Select 'C+' ","TertiaryAttribute":null,"Payload":{"QuestionText":"Select 'C+'&nbsp;","DefaultChoices":false,"QuestionType":"SS","Selector":"TA","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Select 'C+' ","Validation":{"Settings":{"ForceResponse":"ON","ForceResponseType":"ON"}},"GradingData":[],"Language":[],"NextChoiceId":15,"NextAnswerId":1,"Category":"Gauges","Scale":"GradingScalePlusMinus","Choices":[{"Display":"0"},{"Display":"1"},{"Display":2},{"Display":3},{"Display":4},{"Display":5},{"Display":6},{"Display":7},{"Display":8},{"Display":9},{"Display":10},{"Display":11},{"Display":12},{"Display":13}],"QuestionText_Unsafe":"Select 'C+'&nbsp;","DataExportTag":"Q4","QuestionID":"QID1322503332"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322585689","SecondaryAttribute":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","TertiaryAttribute":null,"Payload":{"QuestionText":"<div id=\"game\">\n  <h3>Round <span id=\"rnum\"><\/span> of 8<\/h3>\n\n  \n  <div style=\"margin-bottom:8px\" id=\"macro\"><\/div>\n\n  <p><b>Cash:<\/b> $<span id=\"cash\"><\/span><\/p>\n\n  <table border=\"1\" cellpadding=\"6\" style=\"border-collapse:collapse; width:100%; max-width:760px;\">\n    <thead>\n      <tr><th>Asset<\/th><th>Price<\/th><th>Holdings<\/th><th>Avg Cost<\/th><th>Trade<\/th><\/tr>\n    <\/thead>\n    <tbody>\n      <tr>\n        <td>A<\/td><td id=\"pA\"><\/td><td id=\"hA\"><\/td><td id=\"cA\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyA\">\n          <button data-asset=\"A\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"A\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>B<\/td><td id=\"pB\"><\/td><td id=\"hB\"><\/td><td id=\"cB\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyB\">\n          <button data-asset=\"B\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"B\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>C<\/td><td id=\"pC\"><\/td><td id=\"hC\"><\/td><td id=\"cC\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyC\">\n          <button data-asset=\"C\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"C\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>D<\/td><td id=\"pD\"><\/td><td id=\"hD\"><\/td><td id=\"cD\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyD\">\n          <button data-asset=\"D\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"D\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n    <\/tbody>\n  <\/table>\n\n  <div style=\"margin-top:12px;\" id=\"adviceArea\">\n    <button type=\"button\" id=\"adviceBtn\">Get advisor analysis<\/button>\n    <span style=\"display:none;margin-left:8px;color:green;\" id=\"adviceSeen\">(analysis shown)<\/span>\n    <div style=\"display:none;border:1px solid #ccc;padding:8px;margin-top:6px;\" id=\"adviceBox\">\n      <div id=\"adviceText\"><\/div>\n    <\/div>\n  <\/div>\n\n  <p style=\"margin-top:12px\">\n    <i>Make any trades you want, then click Continue to proceed.<\/i>\n  <\/p>\n<\/div>","DefaultChoices":false,"QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionJS":"Qualtrics.SurveyEngine.addOnReady(function () {\n  \/\/ ===== helpers =====\n  function ed(k){ return Qualtrics.SurveyEngine.getEmbeddedData(k); }\n  function set(k,v){ Qualtrics.SurveyEngine.setEmbeddedData(k, v); }\n  function num(x){ var y = parseFloat(x); return isNaN(y) ? 0 : y; }\n  function el(id){ return document.getElementById(id); }\n  function showError(msg){\n    var d = document.createElement('div');\n    d.style.cssText='background:#fee;border:1px solid #f66;color:#900;padding:8px;margin:8px 0';\n    d.innerHTML='<b>Setup error:<\/b> '+msg;\n    (document.getElementById('game')||document.body).insertBefore(d,(document.getElementById('game')||document.body).firstChild);\n  }\n\n  \/\/ ===== round index (SET per page) =====\n  var R = 6; \/\/ <<< set 1..6 on each round page\n\n  \/\/ ===== treatment arm (from Survey Flow Randomizer; stable across pages) =====\n  var label = (ed('ConditionLabel')||'').trim();\n  if(!label){ try{ label = (localStorage.getItem('AB_ConditionLabel')||'').trim(); }catch(e){} }\n  if(!label){ label = 'C'; } \/\/ preview safety\n  set('ConditionLabel', label);\n  try{ localStorage.setItem('AB_ConditionLabel', label); }catch(e){}\n  \/\/ ---- Four arms (derive booleans from ConditionLabel) ----\n  \/\/ C  = Analysis only (no probability, no imperative)\n  \/\/ T1 = Analysis + Quantified Confidence (p=\u2026)\n  \/\/ T2 = Reason-based Imperative (Analysis + \"Recommendation: \u2026\")\n  \/\/ T3 = Reason-based Imperative + Quantified Confidence\n  var quantified = (label==='T1' || label==='T3');\n  var imperative = (label==='T2' || label==='T3');\n\n  \/\/ ===== load state =====\n  var cash  = num(ed('Cash'));\n  var holds = {A:num(ed('HoldA')), B:num(ed('HoldB')), C:num(ed('HoldC')), D:num(ed('HoldD'))};\n  var avgc  = {A:num(ed('AvgCostA')), B:num(ed('AvgCostB')), C:num(ed('AvgCostC')), D:num(ed('AvgCostD'))};\n\n  \/\/ ===== price path =====\n  var pathText = ed('PricePathJSON') || '[]';\n  var path; try{ path = JSON.parse(pathText); }catch(e){ path=[]; }\n  if(!path[R-1]){ showError('PricePathJSON missing entry for round '+R); return; }\n  var px = path[R-1];\n  var prices = {A:num(px.A), B:num(px.B), C:num(px.C), D:num(px.D)};\n  if(![prices.A,prices.B,prices.C,prices.D].every(v=>v>0)){ showError('Invalid prices on round '+R); return; }\n\n  \/\/ ===== optional macro narrative =====\n  var narrText = ed('MarketNarrativeJSON') || '[]';\n  var narr=[]; try{ narr = JSON.parse(narrText); }catch(e){}\n  var macroEl = el('macro');\n  if(macroEl){ macroEl.innerHTML = '<b>Market condition:<\/b> ' + (narr[R-1] || 'Prices move exogenously; your trades do not affect prices.'); }\n\n  \/\/ ===== basic UI fill =====\n  if(el('rnum')) el('rnum').innerText = R;\n  if(el('cash')) el('cash').innerText = cash.toFixed(2);\n  ['A','B','C','D'].forEach(function(k){\n    if(el('p'+k)) el('p'+k).innerText = '$'+prices[k].toFixed(2);\n    if(el('h'+k)) el('h'+k).innerText = holds[k];\n    if(el('c'+k)) el('c'+k).innerText = holds[k]>0 ? '$'+avgc[k].toFixed(2) : '\u2014';\n  });\n\n  \/\/ ===== trends (look back up to 3 rounds) =====\n  function lastNRoundAvgReturn(asset,N){\n    var n=Math.min(N,R-1); if(n<=0) return 0;\n    var sum=0,cnt=0;\n    for(var t=R-1; t>=1 && cnt<n; t--){\n      var p_t=num(path[t][asset]), p_tm1=num(path[t-1][asset]);\n      if(p_t>0 && p_tm1>0){ sum += (p_t\/p_tm1 - 1); cnt++; }\n    }\n    return cnt? sum\/cnt : 0;\n  }\n  var lookback = Math.min(3, R-1); \/\/ 1..3 (0 on R1)\n  var trend = {A:lastNRoundAvgReturn('A',lookback),\n               B:lastNRoundAvgReturn('B',lookback),\n               C:lastNRoundAvgReturn('C',lookback),\n               D:lastNRoundAvgReturn('D',lookback)};\n  function trendRankString(){\n    return ['A','B','C','D'].map(k=>k+':'+(trend[k]*100).toFixed(1)+'%').join(', ');\n  }\n\n  \/\/ ===== snapshot paper opps BEFORE any trading (for correct PGR\/PLR) =====\n  var preOppG = 0, preOppL = 0;\n  (function snapshotPreTradeOpps(){\n    ['A','B','C','D'].forEach(function(k){\n      var h=holds[k], ac=avgc[k], p=prices[k];\n      if(h>0 && ac>0){\n        if(p>ac) preOppG += 1;\n        else if(p<ac) preOppL += 1;\n      }\n    });\n  })();\n\n  \/\/ ===== advisor UI =====\n  var adviceBtn  = el('adviceBtn'),\n      adviceBox  = el('adviceBox'),\n      adviceSeen = el('adviceSeen'),\n      adviceText = el('adviceText');\n\n  \/\/ Round 1 only: no advice (insufficient history)\n  if(R===1 && adviceBtn){ adviceBtn.style.display='none'; }\n\n  var adviceOpened=false;\n  var advisedAction={type:'None', asset:null};\n  var advisedProb = null; \/\/ store p for T1\/T3\n\n  \/\/ ===== action thresholds (ED overrideable) =====\n  var BUY_THRESH  = num(ed('BuyThresh'))  ||  0.002;  \/\/ +0.20% avg\/round\n  var SELL_THRESH = num(ed('SellThresh')) ||  0.002;  \/\/ \u22120.20% avg\/round (apply as negative)\n\n  \/\/ ===== probability model utilities (for T1\/T3) =====\n  \/\/ normal CDF (Abramowitz-Stegun approx)\n  function normcdf(z){\n    var t = 1 \/ (1 + 0.2316419 * Math.abs(z));\n    var d = 0.3989422804014327 * Math.exp(-0.5*z*z);\n    var p = d * t * (0.319381530 + t*(-0.356563782 + t*(1.781477937 + t*(-1.821255978 + t*1.330274429))));\n    return (z >= 0) ? 1 - p : p;\n  }\n  function clamp(x,a,b){ return Math.max(a, Math.min(b, x)); }\n\n  function computeConfidence(target, action){\n    \/\/ Use the absolute trend magnitude of chosen target vs cross-asset variability.\n    \/\/ SE \u2248 std of trends across assets \/ sqrt(lookback or 1)\n    var arr = ['A','B','C','D'].map(k=>trend[k]);\n    var mean = arr.reduce((s,v)=>s+v,0)\/arr.length;\n    var var_ = arr.reduce((s,v)=>s+(v-mean)*(v-mean),0)\/Math.max(1,arr.length-1);\n    var std = Math.sqrt(var_ || 1e-8);\n    var effN = Math.max(1, lookback || 1);\n    var se = std \/ Math.sqrt(effN);\n\n    var signal = Math.abs(trend[target] || 0);\n    var z = (se>0) ? signal \/ se : 0;\n    var twoSided = 2*normcdf(Math.abs(z)) - 1; \/\/ maps 0..\u221e \u2192 0..1\n\n    \/\/ Calibrate to a believable band [0.55, 0.95]\n    var p = clamp(0.55 + 0.40 * Math.min(twoSided, 1), 0.55, 0.95);\n    \/\/ Slightly nudge lower for \"No trade\"\n    if(action==='None') p = Math.max(0.55, p - 0.05);\n    return p;\n  }\n\n  \/\/ ===== build advice (formats differ by arm; content identical source) =====\n  function buildAdvice(){\n    var held = ['A','B','C','D'].filter(k=>holds[k]>0);\n    var sellCand = null;\n    if(held.length){\n      sellCand = held.reduce((w,k)=> (w===null||trend[k]<trend[w])?k:w, null);\n    }\n    var buyCand = ['A','B','C','D'].reduce((b,k)=> (b===null||trend[k]>trend[b])?k:b, null);\n\n    var action='None', target=null, edgeMsg='no strong directional edge across assets';\n    if(sellCand && trend[sellCand] <= -Math.abs(SELL_THRESH)){\n      action='Sell'; target=sellCand; edgeMsg='lower expected return for <b>Asset '+target+'<\/b>';\n    } else if(buyCand && trend[buyCand] >= Math.abs(BUY_THRESH) && cash >= prices[buyCand]){\n      action='Buy'; target=buyCand; edgeMsg='higher expected return for <b>Asset '+target+'<\/b>';\n    }\n    advisedAction.type=action; advisedAction.asset=target;\n\n    \/\/ ---- CORE ANALYSIS LINE (shared across all arms) ----\n    var analysis = 'Recent multi-round momentum (last-'+(lookback||1)+'-round trends: '+trendRankString()+') suggests '+edgeMsg+'.';\n\n    \/\/ ---- confidence p for T1\/T3 (data-driven, not fixed 0.84) ----\n    advisedProb = (quantified ? computeConfidence(target || (buyCand||sellCand||'A'), action) : null);\n    var probTag = quantified ? ' <span>(p = '+(advisedProb? advisedProb.toFixed(2) : '0.55')+')<\/span>' : '';\n\n    \/\/ ---- FOUR CONDITIONS (formatting only) ----\n    \/\/ C  : analysis\n    \/\/ T1 : analysis + (p = \u2026)\n    \/\/ T2 : analysis \u2014 Recommendation: {Buy\/Sell\/No trade}\n    \/\/ T3 : analysis \u2014 Recommendation: {\u2026} (p = \u2026)\n    var imperativeTail='';\n    if(imperative){\n      if(action==='Sell')      imperativeTail=' \u2014 <b>Recommendation: Sell '+target+'<\/b>';\n      else if(action==='Buy')  imperativeTail=' \u2014 <b>Recommendation: Buy '+target+'<\/b>';\n      else                     imperativeTail=' \u2014 <b>Recommendation: No trade<\/b>';\n      if(quantified) imperativeTail += probTag;          \/\/ T3 only\n    }else{\n      if(quantified) analysis += probTag;                \/\/ T1 only\n    }\n\n    \/\/ Persist advice meta for audit\n    set('AdviceAction_R'+R, action);\n    set('AdviceAsset_R'+R,  target||'');\n    if(quantified) set('AdviceProb_R'+R, advisedProb ? advisedProb.toFixed(4) : '');\n\n    return analysis + imperativeTail;\n  }\n\n  if(adviceBtn && R>=2){\n    adviceBtn.style.display = ''; \/\/ ensure visible for ALL arms from R2+\n    adviceBtn.addEventListener('click',function(){\n      if(adviceBox.style.display==='none'){\n        adviceText.innerHTML = buildAdvice();\n        adviceBox.style.display='block';\n        if(adviceSeen) adviceSeen.style.display='inline';\n        if(!adviceOpened){ adviceOpened=true; set('AdviceOpens', num(ed('AdviceOpens'))+1); }\n      }else{\n        adviceBox.style.display='none';\n      }\n    });\n  }\n\n  \/\/ ===== trading, PV, persistence =====\n  function portfolioValueNow(){ return cash + holds.A*prices.A + holds.B*prices.B + holds.C*prices.C + holds.D*prices.D; }\n  function refreshPV(){\n    var pvSpan=document.getElementById('pvSpan');\n    if(!pvSpan){ var p=document.createElement('p'); p.innerHTML='<b>Current portfolio value:<\/b> $<span id=\"pvSpan\"><\/span>'; (document.getElementById('game')||document.body).appendChild(p); pvSpan=document.getElementById('pvSpan'); }\n    pvSpan.innerText=portfolioValueNow().toFixed(2);\n  }\n  refreshPV();\n\n  function trade(asset,side){\n    var qtyEl=el('qty'+asset); var qty=Math.floor(num(qtyEl&&qtyEl.value));\n    if(!qty||qty<=0) return;\n    var price=prices[asset], hold=holds[asset], ac=avgc[asset];\n\n    if(side==='Buy'){\n      var cost=qty*price; if(cost>cash) return;\n      var newHold=hold+qty, newAvg=(hold*ac+qty*price)\/newHold;\n      cash-=cost; holds[asset]=newHold; avgc[asset]=newAvg;\n      if(imperative && adviceOpened && advisedAction.type==='Buy' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }else{\n      qty=Math.min(qty,hold); if(qty===0) return;\n      var proceeds=qty*price; cash+=proceeds;\n      var pl=(price-ac)*qty;\n      if(pl>=0){ set('RealizedGains', num(ed('RealizedGains'))+pl); set('NumRealizedGains', num(ed('NumRealizedGains'))+1); }\n      else     { set('RealizedLosses', num(ed('RealizedLosses'))+Math.abs(pl)); set('NumRealizedLosses', num(ed('NumRealizedLosses'))+1); }\n      hold-=qty; if(hold===0) ac=0; holds[asset]=hold; avgc[asset]=ac;\n      if(imperative && adviceOpened && advisedAction.type==='Sell' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }\n    if(el('h'+asset)) el('h'+asset).innerText=holds[asset];\n    if(el('c'+asset)) el('c'+asset).innerText=holds[asset]>0 ? '$'+avgc[asset].toFixed(2) : '\u2014';\n    if(el('cash')) el('cash').innerText=cash.toFixed(2);\n    if(qtyEl) qtyEl.value='';\n    refreshPV();\n  }\n  Array.from(document.querySelectorAll('button.buy')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Buy')));\n  Array.from(document.querySelectorAll('button.sell')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Sell')));\n\n  function persistState(){\n    try{\n      var pv=portfolioValueNow(); refreshPV();\n\n      \/\/ \u2705 Use the PRE-TRADE snapshot to accumulate paper opportunities\n      if(preOppG>0) set('NumPaperGainsOpp',  num(ed('NumPaperGainsOpp'))  + preOppG);\n      if(preOppL>0) set('NumPaperLossesOpp', num(ed('NumPaperLossesOpp')) + preOppL);\n\n      \/\/ write state\n      set('Cash', cash.toFixed(2));\n      ['A','B','C','D'].forEach(k=>{ set('Hold'+k, holds[k]); set('AvgCost'+k, avgc[k].toFixed(6)); set('LastPrice'+k, prices[k]); });\n      set('PortfolioValue_R'+R, pv.toFixed(2));\n      set('AdviceOpened_R'+R, adviceOpened?1:0);\n      set('AdviceTarget_R'+R, advisedAction.asset||'');\n      set('AdviceType_R'+R, advisedAction.type||'');\n      if(quantified && advisedProb!=null) set('AdviceProb_R'+R, advisedProb.toFixed(4));\n      set('Round', R+1);\n    }catch(e){ showError('Persist error: '+e.message); }\n  }\n\n  var nextBtn=document.getElementById('NextButton'); if(nextBtn) nextBtn.style.display='none';\n  var go=document.createElement('button'); go.type='button'; go.id='GoNext'; go.textContent='Continue'; go.style.cssText='margin-top:12px;padding:8px 14px;';\n  (document.getElementById('game')||document.body).appendChild(go);\n  go.addEventListener('click', function(){ persistState(); setTimeout(function(){ if(nextBtn) nextBtn.click(); }, 30); });\n  this.addOnPageSubmit(function(){ persistState(); });\n\n  \/\/ Debug: add ?debug=1 to URL to see your arm + p on-page\n  try{\n    if((new URLSearchParams(location.search)).get('debug')==='1'){\n      var dbg=document.createElement('div');\n      dbg.style.cssText='margin:8px 0;color:#666;font-size:12px';\n      dbg.textContent='Arm: '+label+' (quantified='+quantified+', imperative='+imperative+')';\n      (document.getElementById('game')||document.body).insertBefore(dbg,(document.getElementById('game')||document.body).firstChild);\n    }\n  }catch(e){}\n});","QuestionText_Unsafe":"<div id=\"game\">\n  <h3>Round <span id=\"rnum\"><\/span> of 8<\/h3>\n\n  \n  <div style=\"margin-bottom:8px\" id=\"macro\"><\/div>\n\n  <p><b>Cash:<\/b> $<span id=\"cash\"><\/span><\/p>\n\n  <table border=\"1\" cellpadding=\"6\" style=\"border-collapse:collapse; width:100%; max-width:760px;\">\n    <thead>\n      <tr><th>Asset<\/th><th>Price<\/th><th>Holdings<\/th><th>Avg Cost<\/th><th>Trade<\/th><\/tr>\n    <\/thead>\n    <tbody>\n      <tr>\n        <td>A<\/td><td id=\"pA\"><\/td><td id=\"hA\"><\/td><td id=\"cA\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyA\">\n          <button data-asset=\"A\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"A\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>B<\/td><td id=\"pB\"><\/td><td id=\"hB\"><\/td><td id=\"cB\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyB\">\n          <button data-asset=\"B\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"B\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>C<\/td><td id=\"pC\"><\/td><td id=\"hC\"><\/td><td id=\"cC\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyC\">\n          <button data-asset=\"C\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"C\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>D<\/td><td id=\"pD\"><\/td><td id=\"hD\"><\/td><td id=\"cD\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyD\">\n          <button data-asset=\"D\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"D\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n    <\/tbody>\n  <\/table>\n\n  <div style=\"margin-top:12px;\" id=\"adviceArea\">\n    <button type=\"button\" id=\"adviceBtn\">Get advisor analysis<\/button>\n    <span style=\"display:none;margin-left:8px;color:green;\" id=\"adviceSeen\">(analysis shown)<\/span>\n    <div style=\"display:none;border:1px solid #ccc;padding:8px;margin-top:6px;\" id=\"adviceBox\">\n      <div id=\"adviceText\"><\/div>\n    <\/div>\n  <\/div>\n\n  <p style=\"margin-top:12px\">\n    <i>Make any trades you want, then click Continue to proceed.<\/i>\n  <\/p>\n<\/div>","DataExportTag":"Q1","QuestionID":"QID1322585689"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322585690","SecondaryAttribute":"Timing","TertiaryAttribute":null,"Payload":{"QuestionText":"Timing","DefaultChoices":false,"QuestionType":"Timing","Selector":"PageTimer","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText","MinSeconds":500,"MaxSeconds":"0"},"QuestionDescription":"Timing","Choices":{"1":{"Display":"First Click"},"2":{"Display":"Last Click"},"3":{"Display":"Page Submit"},"4":{"Display":"Click Count"}},"GradingData":[],"Language":[],"NextChoiceId":40,"NextAnswerId":1,"QuestionText_Unsafe":"Timing","DataExportTag":"Q2","QuestionID":"QID1322585690"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322585695","SecondaryAttribute":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","TertiaryAttribute":null,"Payload":{"QuestionText":"<div id=\"game\">\n  <h3>Round <span id=\"rnum\"><\/span> of 8<\/h3>\n\n  \n  <div style=\"margin-bottom:8px\" id=\"macro\"><\/div>\n\n  <p><b>Cash:<\/b> $<span id=\"cash\"><\/span><\/p>\n\n  <table border=\"1\" cellpadding=\"6\" style=\"border-collapse:collapse; width:100%; max-width:760px;\">\n    <thead>\n      <tr><th>Asset<\/th><th>Price<\/th><th>Holdings<\/th><th>Avg Cost<\/th><th>Trade<\/th><\/tr>\n    <\/thead>\n    <tbody>\n      <tr>\n        <td>A<\/td><td id=\"pA\"><\/td><td id=\"hA\"><\/td><td id=\"cA\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyA\">\n          <button data-asset=\"A\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"A\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>B<\/td><td id=\"pB\"><\/td><td id=\"hB\"><\/td><td id=\"cB\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyB\">\n          <button data-asset=\"B\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"B\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>C<\/td><td id=\"pC\"><\/td><td id=\"hC\"><\/td><td id=\"cC\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyC\">\n          <button data-asset=\"C\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"C\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>D<\/td><td id=\"pD\"><\/td><td id=\"hD\"><\/td><td id=\"cD\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyD\">\n          <button data-asset=\"D\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"D\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n    <\/tbody>\n  <\/table>\n\n  <div style=\"margin-top:12px;\" id=\"adviceArea\">\n    <button type=\"button\" id=\"adviceBtn\">Get advisor analysis<\/button>\n    <span style=\"display:none;margin-left:8px;color:green;\" id=\"adviceSeen\">(analysis shown)<\/span>\n    <div style=\"display:none;border:1px solid #ccc;padding:8px;margin-top:6px;\" id=\"adviceBox\">\n      <div id=\"adviceText\"><\/div>\n    <\/div>\n  <\/div>\n\n  <p style=\"margin-top:12px\">\n    <i>Make any trades you want, then click Continue to proceed.<\/i>\n  <\/p>\n<\/div>","DefaultChoices":false,"QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionJS":"Qualtrics.SurveyEngine.addOnReady(function () {\n  \/\/ ===== helpers =====\n  function ed(k){ return Qualtrics.SurveyEngine.getEmbeddedData(k); }\n  function set(k,v){ Qualtrics.SurveyEngine.setEmbeddedData(k, v); }\n  function num(x){ var y = parseFloat(x); return isNaN(y) ? 0 : y; }\n  function el(id){ return document.getElementById(id); }\n  function showError(msg){\n    var d = document.createElement('div');\n    d.style.cssText='background:#fee;border:1px solid #f66;color:#900;padding:8px;margin:8px 0';\n    d.innerHTML='<b>Setup error:<\/b> '+msg;\n    (document.getElementById('game')||document.body).insertBefore(d,(document.getElementById('game')||document.body).firstChild);\n  }\n\n  \/\/ ===== round index (SET per page) =====\n  var R = 7; \/\/ <<< set 1..6 on each round page\n\n  \/\/ ===== treatment arm (from Survey Flow Randomizer; stable across pages) =====\n  var label = (ed('ConditionLabel')||'').trim();\n  if(!label){ try{ label = (localStorage.getItem('AB_ConditionLabel')||'').trim(); }catch(e){} }\n  if(!label){ label = 'C'; } \/\/ preview safety\n  set('ConditionLabel', label);\n  try{ localStorage.setItem('AB_ConditionLabel', label); }catch(e){}\n  \/\/ ---- Four arms (derive booleans from ConditionLabel) ----\n  \/\/ C  = Analysis only (no probability, no imperative)\n  \/\/ T1 = Analysis + Quantified Confidence (p=\u2026)\n  \/\/ T2 = Reason-based Imperative (Analysis + \"Recommendation: \u2026\")\n  \/\/ T3 = Reason-based Imperative + Quantified Confidence\n  var quantified = (label==='T1' || label==='T3');\n  var imperative = (label==='T2' || label==='T3');\n\n  \/\/ ===== load state =====\n  var cash  = num(ed('Cash'));\n  var holds = {A:num(ed('HoldA')), B:num(ed('HoldB')), C:num(ed('HoldC')), D:num(ed('HoldD'))};\n  var avgc  = {A:num(ed('AvgCostA')), B:num(ed('AvgCostB')), C:num(ed('AvgCostC')), D:num(ed('AvgCostD'))};\n\n  \/\/ ===== price path =====\n  var pathText = ed('PricePathJSON') || '[]';\n  var path; try{ path = JSON.parse(pathText); }catch(e){ path=[]; }\n  if(!path[R-1]){ showError('PricePathJSON missing entry for round '+R); return; }\n  var px = path[R-1];\n  var prices = {A:num(px.A), B:num(px.B), C:num(px.C), D:num(px.D)};\n  if(![prices.A,prices.B,prices.C,prices.D].every(v=>v>0)){ showError('Invalid prices on round '+R); return; }\n\t\n\t\n\n  \/\/ ===== optional macro narrative =====\n  var narrText = ed('MarketNarrativeJSON') || '[]';\n  var narr=[]; try{ narr = JSON.parse(narrText); }catch(e){}\n  var macroEl = el('macro');\n  if(macroEl){ macroEl.innerHTML = '<b>Market condition:<\/b> ' + (narr[R-1] || 'Prices move exogenously; your trades do not affect prices.'); }\n\n  \/\/ ===== basic UI fill =====\n  if(el('rnum')) el('rnum').innerText = R;\n  if(el('cash')) el('cash').innerText = cash.toFixed(2);\n  ['A','B','C','D'].forEach(function(k){\n    if(el('p'+k)) el('p'+k).innerText = '$'+prices[k].toFixed(2);\n    if(el('h'+k)) el('h'+k).innerText = holds[k];\n    if(el('c'+k)) el('c'+k).innerText = holds[k]>0 ? '$'+avgc[k].toFixed(2) : '\u2014';\n  });\n\n  \/\/ ===== trends (look back up to 3 rounds) =====\n  function lastNRoundAvgReturn(asset,N){\n    var n=Math.min(N,R-1); if(n<=0) return 0;\n    var sum=0,cnt=0;\n    for(var t=R-1; t>=1 && cnt<n; t--){\n      var p_t=num(path[t][asset]), p_tm1=num(path[t-1][asset]);\n      if(p_t>0 && p_tm1>0){ sum += (p_t\/p_tm1 - 1); cnt++; }\n    }\n    return cnt? sum\/cnt : 0;\n  }\n  var lookback = Math.min(3, R-1); \/\/ 1..3 (0 on R1)\n  var trend = {A:lastNRoundAvgReturn('A',lookback),\n               B:lastNRoundAvgReturn('B',lookback),\n               C:lastNRoundAvgReturn('C',lookback),\n               D:lastNRoundAvgReturn('D',lookback)};\n  function trendRankString(){\n    return ['A','B','C','D'].map(k=>k+':'+(trend[k]*100).toFixed(1)+'%').join(', ');\n  }\n\n  \/\/ ===== snapshot paper opps BEFORE any trading (for correct PGR\/PLR) =====\n  var preOppG = 0, preOppL = 0;\n  (function snapshotPreTradeOpps(){\n    ['A','B','C','D'].forEach(function(k){\n      var h=holds[k], ac=avgc[k], p=prices[k];\n      if(h>0 && ac>0){\n        if(p>ac) preOppG += 1;\n        else if(p<ac) preOppL += 1;\n      }\n    });\n  })();\n\n  \/\/ ===== advisor UI =====\n  var adviceBtn  = el('adviceBtn'),\n      adviceBox  = el('adviceBox'),\n      adviceSeen = el('adviceSeen'),\n      adviceText = el('adviceText');\n\n  \/\/ Round 1 only: no advice (insufficient history)\n  if(R===1 && adviceBtn){ adviceBtn.style.display='none'; }\n\n  var adviceOpened=false;\n  var advisedAction={type:'None', asset:null};\n  var advisedProb = null; \/\/ store p for T1\/T3\n\n  \/\/ ===== action thresholds (ED overrideable) =====\n  var BUY_THRESH  = num(ed('BuyThresh'))  ||  0.002;  \/\/ +0.20% avg\/round\n  var SELL_THRESH = num(ed('SellThresh')) ||  0.002;  \/\/ \u22120.20% avg\/round (apply as negative)\n\n  \/\/ ===== probability model utilities (for T1\/T3) =====\n  \/\/ normal CDF (Abramowitz-Stegun approx)\n  function normcdf(z){\n    var t = 1 \/ (1 + 0.2316419 * Math.abs(z));\n    var d = 0.3989422804014327 * Math.exp(-0.5*z*z);\n    var p = d * t * (0.319381530 + t*(-0.356563782 + t*(1.781477937 + t*(-1.821255978 + t*1.330274429))));\n    return (z >= 0) ? 1 - p : p;\n  }\n  function clamp(x,a,b){ return Math.max(a, Math.min(b, x)); }\n\n  function computeConfidence(target, action){\n    \/\/ Use the absolute trend magnitude of chosen target vs cross-asset variability.\n    \/\/ SE \u2248 std of trends across assets \/ sqrt(lookback or 1)\n    var arr = ['A','B','C','D'].map(k=>trend[k]);\n    var mean = arr.reduce((s,v)=>s+v,0)\/arr.length;\n    var var_ = arr.reduce((s,v)=>s+(v-mean)*(v-mean),0)\/Math.max(1,arr.length-1);\n    var std = Math.sqrt(var_ || 1e-8);\n    var effN = Math.max(1, lookback || 1);\n    var se = std \/ Math.sqrt(effN);\n\n    var signal = Math.abs(trend[target] || 0);\n    var z = (se>0) ? signal \/ se : 0;\n    var twoSided = 2*normcdf(Math.abs(z)) - 1; \/\/ maps 0..\u221e \u2192 0..1\n\n    \/\/ Calibrate to a believable band [0.55, 0.95]\n    var p = clamp(0.55 + 0.40 * Math.min(twoSided, 1), 0.55, 0.95);\n    \/\/ Slightly nudge lower for \"No trade\"\n    if(action==='None') p = Math.max(0.55, p - 0.05);\n    return p;\n  }\n\n  \/\/ ===== build advice (formats differ by arm; content identical source) =====\n  function buildAdvice(){\n    var held = ['A','B','C','D'].filter(k=>holds[k]>0);\n    var sellCand = null;\n    if(held.length){\n      sellCand = held.reduce((w,k)=> (w===null||trend[k]<trend[w])?k:w, null);\n    }\n    var buyCand = ['A','B','C','D'].reduce((b,k)=> (b===null||trend[k]>trend[b])?k:b, null);\n\n    var action='None', target=null, edgeMsg='no strong directional edge across assets';\n    if(sellCand && trend[sellCand] <= -Math.abs(SELL_THRESH)){\n      action='Sell'; target=sellCand; edgeMsg='lower expected return for <b>Asset '+target+'<\/b>';\n    } else if(buyCand && trend[buyCand] >= Math.abs(BUY_THRESH) && cash >= prices[buyCand]){\n      action='Buy'; target=buyCand; edgeMsg='higher expected return for <b>Asset '+target+'<\/b>';\n    }\n    advisedAction.type=action; advisedAction.asset=target;\n\n    \/\/ ---- CORE ANALYSIS LINE (shared across all arms) ----\n    var analysis = 'Recent multi-round momentum (last-'+(lookback||1)+'-round trends: '+trendRankString()+') suggests '+edgeMsg+'.';\n\n    \/\/ ---- confidence p for T1\/T3 (data-driven, not fixed 0.84) ----\n    advisedProb = (quantified ? computeConfidence(target || (buyCand||sellCand||'A'), action) : null);\n    var probTag = quantified ? ' <span>(p = '+(advisedProb? advisedProb.toFixed(2) : '0.55')+')<\/span>' : '';\n\n    \/\/ ---- FOUR CONDITIONS (formatting only) ----\n    \/\/ C  : analysis\n    \/\/ T1 : analysis + (p = \u2026)\n    \/\/ T2 : analysis \u2014 Recommendation: {Buy\/Sell\/No trade}\n    \/\/ T3 : analysis \u2014 Recommendation: {\u2026} (p = \u2026)\n    var imperativeTail='';\n    if(imperative){\n      if(action==='Sell')      imperativeTail=' \u2014 <b>Recommendation: Sell '+target+'<\/b>';\n      else if(action==='Buy')  imperativeTail=' \u2014 <b>Recommendation: Buy '+target+'<\/b>';\n      else                     imperativeTail=' \u2014 <b>Recommendation: No trade<\/b>';\n      if(quantified) imperativeTail += probTag;          \/\/ T3 only\n    }else{\n      if(quantified) analysis += probTag;                \/\/ T1 only\n    }\n\n    \/\/ Persist advice meta for audit\n    set('AdviceAction_R'+R, action);\n    set('AdviceAsset_R'+R,  target||'');\n    if(quantified) set('AdviceProb_R'+R, advisedProb ? advisedProb.toFixed(4) : '');\n\n    return analysis + imperativeTail;\n  }\n\n  if(adviceBtn && R>=2){\n    adviceBtn.style.display = ''; \/\/ ensure visible for ALL arms from R2+\n    adviceBtn.addEventListener('click',function(){\n      if(adviceBox.style.display==='none'){\n        adviceText.innerHTML = buildAdvice();\n        adviceBox.style.display='block';\n        if(adviceSeen) adviceSeen.style.display='inline';\n        if(!adviceOpened){ adviceOpened=true; set('AdviceOpens', num(ed('AdviceOpens'))+1); }\n      }else{\n        adviceBox.style.display='none';\n      }\n    });\n  }\n\n  \/\/ ===== trading, PV, persistence =====\n  function portfolioValueNow(){ return cash + holds.A*prices.A + holds.B*prices.B + holds.C*prices.C + holds.D*prices.D; }\n  function refreshPV(){\n    var pvSpan=document.getElementById('pvSpan');\n    if(!pvSpan){ var p=document.createElement('p'); p.innerHTML='<b>Current portfolio value:<\/b> $<span id=\"pvSpan\"><\/span>'; (document.getElementById('game')||document.body).appendChild(p); pvSpan=document.getElementById('pvSpan'); }\n    pvSpan.innerText=portfolioValueNow().toFixed(2);\n  }\n  refreshPV();\n\n  function trade(asset,side){\n    var qtyEl=el('qty'+asset); var qty=Math.floor(num(qtyEl&&qtyEl.value));\n    if(!qty||qty<=0) return;\n    var price=prices[asset], hold=holds[asset], ac=avgc[asset];\n\n    if(side==='Buy'){\n      var cost=qty*price; if(cost>cash) return;\n      var newHold=hold+qty, newAvg=(hold*ac+qty*price)\/newHold;\n      cash-=cost; holds[asset]=newHold; avgc[asset]=newAvg;\n      if(imperative && adviceOpened && advisedAction.type==='Buy' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }else{\n      qty=Math.min(qty,hold); if(qty===0) return;\n      var proceeds=qty*price; cash+=proceeds;\n      var pl=(price-ac)*qty;\n      if(pl>=0){ set('RealizedGains', num(ed('RealizedGains'))+pl); set('NumRealizedGains', num(ed('NumRealizedGains'))+1); }\n      else     { set('RealizedLosses', num(ed('RealizedLosses'))+Math.abs(pl)); set('NumRealizedLosses', num(ed('NumRealizedLosses'))+1); }\n      hold-=qty; if(hold===0) ac=0; holds[asset]=hold; avgc[asset]=ac;\n      if(imperative && adviceOpened && advisedAction.type==='Sell' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }\n    if(el('h'+asset)) el('h'+asset).innerText=holds[asset];\n    if(el('c'+asset)) el('c'+asset).innerText=holds[asset]>0 ? '$'+avgc[asset].toFixed(2) : '\u2014';\n    if(el('cash')) el('cash').innerText=cash.toFixed(2);\n    if(qtyEl) qtyEl.value='';\n    refreshPV();\n  }\n  Array.from(document.querySelectorAll('button.buy')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Buy')));\n  Array.from(document.querySelectorAll('button.sell')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Sell')));\n\n  function persistState(){\n    try{\n      var pv=portfolioValueNow(); refreshPV();\n\n      \/\/ \u2705 Use the PRE-TRADE snapshot to accumulate paper opportunities\n      if(preOppG>0) set('NumPaperGainsOpp',  num(ed('NumPaperGainsOpp'))  + preOppG);\n      if(preOppL>0) set('NumPaperLossesOpp', num(ed('NumPaperLossesOpp')) + preOppL);\n\n      \/\/ write state\n      set('Cash', cash.toFixed(2));\n      ['A','B','C','D'].forEach(k=>{ set('Hold'+k, holds[k]); set('AvgCost'+k, avgc[k].toFixed(6)); set('LastPrice'+k, prices[k]); });\n      set('PortfolioValue_R'+R, pv.toFixed(2));\n      set('AdviceOpened_R'+R, adviceOpened?1:0);\n      set('AdviceTarget_R'+R, advisedAction.asset||'');\n      set('AdviceType_R'+R, advisedAction.type||'');\n      if(quantified && advisedProb!=null) set('AdviceProb_R'+R, advisedProb.toFixed(4));\n      set('Round', R+1);\n    }catch(e){ showError('Persist error: '+e.message); }\n  }\n\n  var nextBtn=document.getElementById('NextButton'); if(nextBtn) nextBtn.style.display='none';\n  var go=document.createElement('button'); go.type='button'; go.id='GoNext'; go.textContent='Continue'; go.style.cssText='margin-top:12px;padding:8px 14px;';\n  (document.getElementById('game')||document.body).appendChild(go);\n  go.addEventListener('click', function(){ persistState(); setTimeout(function(){ if(nextBtn) nextBtn.click(); }, 30); });\n  this.addOnPageSubmit(function(){ persistState(); });\n\n  \/\/ Debug: add ?debug=1 to URL to see your arm + p on-page\n  try{\n    if((new URLSearchParams(location.search)).get('debug')==='1'){\n      var dbg=document.createElement('div');\n      dbg.style.cssText='margin:8px 0;color:#666;font-size:12px';\n      dbg.textContent='Arm: '+label+' (quantified='+quantified+', imperative='+imperative+')';\n      (document.getElementById('game')||document.body).insertBefore(dbg,(document.getElementById('game')||document.body).firstChild);\n    }\n  }catch(e){}\n});","QuestionText_Unsafe":"<div id=\"game\">\n  <h3>Round <span id=\"rnum\"><\/span> of 8<\/h3>\n\n  \n  <div style=\"margin-bottom:8px\" id=\"macro\"><\/div>\n\n  <p><b>Cash:<\/b> $<span id=\"cash\"><\/span><\/p>\n\n  <table border=\"1\" cellpadding=\"6\" style=\"border-collapse:collapse; width:100%; max-width:760px;\">\n    <thead>\n      <tr><th>Asset<\/th><th>Price<\/th><th>Holdings<\/th><th>Avg Cost<\/th><th>Trade<\/th><\/tr>\n    <\/thead>\n    <tbody>\n      <tr>\n        <td>A<\/td><td id=\"pA\"><\/td><td id=\"hA\"><\/td><td id=\"cA\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyA\">\n          <button data-asset=\"A\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"A\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>B<\/td><td id=\"pB\"><\/td><td id=\"hB\"><\/td><td id=\"cB\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyB\">\n          <button data-asset=\"B\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"B\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>C<\/td><td id=\"pC\"><\/td><td id=\"hC\"><\/td><td id=\"cC\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyC\">\n          <button data-asset=\"C\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"C\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>D<\/td><td id=\"pD\"><\/td><td id=\"hD\"><\/td><td id=\"cD\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyD\">\n          <button data-asset=\"D\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"D\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n    <\/tbody>\n  <\/table>\n\n  <div style=\"margin-top:12px;\" id=\"adviceArea\">\n    <button type=\"button\" id=\"adviceBtn\">Get advisor analysis<\/button>\n    <span style=\"display:none;margin-left:8px;color:green;\" id=\"adviceSeen\">(analysis shown)<\/span>\n    <div style=\"display:none;border:1px solid #ccc;padding:8px;margin-top:6px;\" id=\"adviceBox\">\n      <div id=\"adviceText\"><\/div>\n    <\/div>\n  <\/div>\n\n  <p style=\"margin-top:12px\">\n    <i>Make any trades you want, then click Continue to proceed.<\/i>\n  <\/p>\n<\/div>","DataExportTag":"Round 7","QuestionID":"QID1322585695"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322585696","SecondaryAttribute":"Timing","TertiaryAttribute":null,"Payload":{"QuestionText":"Timing","DefaultChoices":false,"QuestionType":"Timing","Selector":"PageTimer","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText","MinSeconds":500,"MaxSeconds":"0"},"QuestionDescription":"Timing","Choices":{"1":{"Display":"First Click"},"2":{"Display":"Last Click"},"3":{"Display":"Page Submit"},"4":{"Display":"Click Count"}},"GradingData":[],"Language":[],"NextChoiceId":40,"NextAnswerId":1,"QuestionText_Unsafe":"Timing","DataExportTag":"Q2","QuestionID":"QID1322585696"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322585767","SecondaryAttribute":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","TertiaryAttribute":null,"Payload":{"QuestionText":"<div id=\"game\">\n  <h3>Round <span id=\"rnum\"><\/span> of 8<\/h3>\n\n  \n  <div style=\"margin-bottom:8px\" id=\"macro\"><\/div>\n\n  <p><b>Cash:<\/b> $<span id=\"cash\"><\/span><\/p>\n\n  <table border=\"1\" cellpadding=\"6\" style=\"border-collapse:collapse; width:100%; max-width:760px;\">\n    <thead>\n      <tr><th>Asset<\/th><th>Price<\/th><th>Holdings<\/th><th>Avg Cost<\/th><th>Trade<\/th><\/tr>\n    <\/thead>\n    <tbody>\n      <tr>\n        <td>A<\/td><td id=\"pA\"><\/td><td id=\"hA\"><\/td><td id=\"cA\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyA\">\n          <button data-asset=\"A\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"A\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>B<\/td><td id=\"pB\"><\/td><td id=\"hB\"><\/td><td id=\"cB\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyB\">\n          <button data-asset=\"B\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"B\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>C<\/td><td id=\"pC\"><\/td><td id=\"hC\"><\/td><td id=\"cC\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyC\">\n          <button data-asset=\"C\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"C\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>D<\/td><td id=\"pD\"><\/td><td id=\"hD\"><\/td><td id=\"cD\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyD\">\n          <button data-asset=\"D\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"D\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n    <\/tbody>\n  <\/table>\n\n  <div style=\"margin-top:12px;\" id=\"adviceArea\">\n    <button type=\"button\" id=\"adviceBtn\">Get advisor analysis<\/button>\n    <span style=\"display:none;margin-left:8px;color:green;\" id=\"adviceSeen\">(analysis shown)<\/span>\n    <div style=\"display:none;border:1px solid #ccc;padding:8px;margin-top:6px;\" id=\"adviceBox\">\n      <div id=\"adviceText\"><\/div>\n    <\/div>\n  <\/div>\n\n  <p style=\"margin-top:12px\">\n    <i>Make any trades you want, then click Continue to proceed.<\/i>\n  <\/p>\n<\/div>","DefaultChoices":false,"QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionJS":"Qualtrics.SurveyEngine.addOnReady(function () {\n  \/\/ ===== helpers =====\n  function ed(k){ return Qualtrics.SurveyEngine.getEmbeddedData(k); }\n  function set(k,v){ Qualtrics.SurveyEngine.setEmbeddedData(k, v); }\n  function num(x){ var y = parseFloat(x); return isNaN(y) ? 0 : y; }\n  function el(id){ return document.getElementById(id); }\n  function showError(msg){\n    var d = document.createElement('div');\n    d.style.cssText='background:#fee;border:1px solid #f66;color:#900;padding:8px;margin:8px 0';\n    d.innerHTML='<b>Setup error:<\/b> '+msg;\n    (document.getElementById('game')||document.body).insertBefore(d,(document.getElementById('game')||document.body).firstChild);\n  }\n\n  \/\/ ===== round index (SET per page) =====\n  var R = 8; \/\/ <<< set 1..6 on each round page\n\n  \/\/ ===== treatment arm (from Survey Flow Randomizer; stable across pages) =====\n  var label = (ed('ConditionLabel')||'').trim();\n  if(!label){ try{ label = (localStorage.getItem('AB_ConditionLabel')||'').trim(); }catch(e){} }\n  if(!label){ label = 'C'; } \/\/ preview safety\n  set('ConditionLabel', label);\n  try{ localStorage.setItem('AB_ConditionLabel', label); }catch(e){}\n  \/\/ ---- Four arms (derive booleans from ConditionLabel) ----\n  \/\/ C  = Analysis only (no probability, no imperative)\n  \/\/ T1 = Analysis + Quantified Confidence (p=\u2026)\n  \/\/ T2 = Reason-based Imperative (Analysis + \"Recommendation: \u2026\")\n  \/\/ T3 = Reason-based Imperative + Quantified Confidence\n  var quantified = (label==='T1' || label==='T3');\n  var imperative = (label==='T2' || label==='T3');\n\n  \/\/ ===== load state =====\n  var cash  = num(ed('Cash'));\n  var holds = {A:num(ed('HoldA')), B:num(ed('HoldB')), C:num(ed('HoldC')), D:num(ed('HoldD'))};\n  var avgc  = {A:num(ed('AvgCostA')), B:num(ed('AvgCostB')), C:num(ed('AvgCostC')), D:num(ed('AvgCostD'))};\n\n  \/\/ ===== price path =====\n  var pathText = ed('PricePathJSON') || '[]';\n  var path; try{ path = JSON.parse(pathText); }catch(e){ path=[]; }\n  if(!path[R-1]){ showError('PricePathJSON missing entry for round '+R); return; }\n  var px = path[R-1];\n  var prices = {A:num(px.A), B:num(px.B), C:num(px.C), D:num(px.D)};\n  if(![prices.A,prices.B,prices.C,prices.D].every(v=>v>0)){ showError('Invalid prices on round '+R); return; }\n\n  \/\/ ===== optional macro narrative =====\n  var narrText = ed('MarketNarrativeJSON') || '[]';\n  var narr=[]; try{ narr = JSON.parse(narrText); }catch(e){}\n  var macroEl = el('macro');\n  if(macroEl){ macroEl.innerHTML = '<b>Market condition:<\/b> ' + (narr[R-1] || 'Prices move exogenously; your trades do not affect prices.'); }\n\n  \/\/ ===== basic UI fill =====\n  if(el('rnum')) el('rnum').innerText = R;\n  if(el('cash')) el('cash').innerText = cash.toFixed(2);\n  ['A','B','C','D'].forEach(function(k){\n    if(el('p'+k)) el('p'+k).innerText = '$'+prices[k].toFixed(2);\n    if(el('h'+k)) el('h'+k).innerText = holds[k];\n    if(el('c'+k)) el('c'+k).innerText = holds[k]>0 ? '$'+avgc[k].toFixed(2) : '\u2014';\n  });\n\n  \/\/ ===== trends (look back up to 3 rounds) =====\n  function lastNRoundAvgReturn(asset,N){\n    var n=Math.min(N,R-1); if(n<=0) return 0;\n    var sum=0,cnt=0;\n    for(var t=R-1; t>=1 && cnt<n; t--){\n      var p_t=num(path[t][asset]), p_tm1=num(path[t-1][asset]);\n      if(p_t>0 && p_tm1>0){ sum += (p_t\/p_tm1 - 1); cnt++; }\n    }\n    return cnt? sum\/cnt : 0;\n  }\n  var lookback = Math.min(3, R-1); \/\/ 1..3 (0 on R1)\n  var trend = {A:lastNRoundAvgReturn('A',lookback),\n               B:lastNRoundAvgReturn('B',lookback),\n               C:lastNRoundAvgReturn('C',lookback),\n               D:lastNRoundAvgReturn('D',lookback)};\n  function trendRankString(){\n    return ['A','B','C','D'].map(k=>k+':'+(trend[k]*100).toFixed(1)+'%').join(', ');\n  }\n\n  \/\/ ===== snapshot paper opps BEFORE any trading (for correct PGR\/PLR) =====\n  var preOppG = 0, preOppL = 0;\n  (function snapshotPreTradeOpps(){\n    ['A','B','C','D'].forEach(function(k){\n      var h=holds[k], ac=avgc[k], p=prices[k];\n      if(h>0 && ac>0){\n        if(p>ac) preOppG += 1;\n        else if(p<ac) preOppL += 1;\n      }\n    });\n  })();\n\n  \/\/ ===== advisor UI =====\n  var adviceBtn  = el('adviceBtn'),\n      adviceBox  = el('adviceBox'),\n      adviceSeen = el('adviceSeen'),\n      adviceText = el('adviceText');\n\n  \/\/ Round 1 only: no advice (insufficient history)\n  if(R===1 && adviceBtn){ adviceBtn.style.display='none'; }\n\n  var adviceOpened=false;\n  var advisedAction={type:'None', asset:null};\n  var advisedProb = null; \/\/ store p for T1\/T3\n\n  \/\/ ===== action thresholds (ED overrideable) =====\n  var BUY_THRESH  = num(ed('BuyThresh'))  ||  0.002;  \/\/ +0.20% avg\/round\n  var SELL_THRESH = num(ed('SellThresh')) ||  0.002;  \/\/ \u22120.20% avg\/round (apply as negative)\n\n  \/\/ ===== probability model utilities (for T1\/T3) =====\n  \/\/ normal CDF (Abramowitz-Stegun approx)\n  function normcdf(z){\n    var t = 1 \/ (1 + 0.2316419 * Math.abs(z));\n    var d = 0.3989422804014327 * Math.exp(-0.5*z*z);\n    var p = d * t * (0.319381530 + t*(-0.356563782 + t*(1.781477937 + t*(-1.821255978 + t*1.330274429))));\n    return (z >= 0) ? 1 - p : p;\n  }\n  function clamp(x,a,b){ return Math.max(a, Math.min(b, x)); }\n\n  function computeConfidence(target, action){\n    \/\/ Use the absolute trend magnitude of chosen target vs cross-asset variability.\n    \/\/ SE \u2248 std of trends across assets \/ sqrt(lookback or 1)\n    var arr = ['A','B','C','D'].map(k=>trend[k]);\n    var mean = arr.reduce((s,v)=>s+v,0)\/arr.length;\n    var var_ = arr.reduce((s,v)=>s+(v-mean)*(v-mean),0)\/Math.max(1,arr.length-1);\n    var std = Math.sqrt(var_ || 1e-8);\n    var effN = Math.max(1, lookback || 1);\n    var se = std \/ Math.sqrt(effN);\n\n    var signal = Math.abs(trend[target] || 0);\n    var z = (se>0) ? signal \/ se : 0;\n    var twoSided = 2*normcdf(Math.abs(z)) - 1; \/\/ maps 0..\u221e \u2192 0..1\n\n    \/\/ Calibrate to a believable band [0.55, 0.95]\n    var p = clamp(0.55 + 0.40 * Math.min(twoSided, 1), 0.55, 0.95);\n    \/\/ Slightly nudge lower for \"No trade\"\n    if(action==='None') p = Math.max(0.55, p - 0.05);\n    return p;\n  }\n\n  \/\/ ===== build advice (formats differ by arm; content identical source) =====\n  function buildAdvice(){\n    var held = ['A','B','C','D'].filter(k=>holds[k]>0);\n    var sellCand = null;\n    if(held.length){\n      sellCand = held.reduce((w,k)=> (w===null||trend[k]<trend[w])?k:w, null);\n    }\n    var buyCand = ['A','B','C','D'].reduce((b,k)=> (b===null||trend[k]>trend[b])?k:b, null);\n\n    var action='None', target=null, edgeMsg='no strong directional edge across assets';\n    if(sellCand && trend[sellCand] <= -Math.abs(SELL_THRESH)){\n      action='Sell'; target=sellCand; edgeMsg='lower expected return for <b>Asset '+target+'<\/b>';\n    } else if(buyCand && trend[buyCand] >= Math.abs(BUY_THRESH) && cash >= prices[buyCand]){\n      action='Buy'; target=buyCand; edgeMsg='higher expected return for <b>Asset '+target+'<\/b>';\n    }\n    advisedAction.type=action; advisedAction.asset=target;\n\n    \/\/ ---- CORE ANALYSIS LINE (shared across all arms) ----\n    var analysis = 'Recent multi-round momentum (last-'+(lookback||1)+'-round trends: '+trendRankString()+') suggests '+edgeMsg+'.';\n\n    \/\/ ---- confidence p for T1\/T3 (data-driven, not fixed 0.84) ----\n    advisedProb = (quantified ? computeConfidence(target || (buyCand||sellCand||'A'), action) : null);\n    var probTag = quantified ? ' <span>(p = '+(advisedProb? advisedProb.toFixed(2) : '0.55')+')<\/span>' : '';\n\n    \/\/ ---- FOUR CONDITIONS (formatting only) ----\n    \/\/ C  : analysis\n    \/\/ T1 : analysis + (p = \u2026)\n    \/\/ T2 : analysis \u2014 Recommendation: {Buy\/Sell\/No trade}\n    \/\/ T3 : analysis \u2014 Recommendation: {\u2026} (p = \u2026)\n    var imperativeTail='';\n    if(imperative){\n      if(action==='Sell')      imperativeTail=' \u2014 <b>Recommendation: Sell '+target+'<\/b>';\n      else if(action==='Buy')  imperativeTail=' \u2014 <b>Recommendation: Buy '+target+'<\/b>';\n      else                     imperativeTail=' \u2014 <b>Recommendation: No trade<\/b>';\n      if(quantified) imperativeTail += probTag;          \/\/ T3 only\n    }else{\n      if(quantified) analysis += probTag;                \/\/ T1 only\n    }\n\n    \/\/ Persist advice meta for audit\n    set('AdviceAction_R'+R, action);\n    set('AdviceAsset_R'+R,  target||'');\n    if(quantified) set('AdviceProb_R'+R, advisedProb ? advisedProb.toFixed(4) : '');\n\n    return analysis + imperativeTail;\n  }\n\n  if(adviceBtn && R>=2){\n    adviceBtn.style.display = ''; \/\/ ensure visible for ALL arms from R2+\n    adviceBtn.addEventListener('click',function(){\n      if(adviceBox.style.display==='none'){\n        adviceText.innerHTML = buildAdvice();\n        adviceBox.style.display='block';\n        if(adviceSeen) adviceSeen.style.display='inline';\n        if(!adviceOpened){ adviceOpened=true; set('AdviceOpens', num(ed('AdviceOpens'))+1); }\n      }else{\n        adviceBox.style.display='none';\n      }\n    });\n  }\n\n  \/\/ ===== trading, PV, persistence =====\n  function portfolioValueNow(){ return cash + holds.A*prices.A + holds.B*prices.B + holds.C*prices.C + holds.D*prices.D; }\n  function refreshPV(){\n    var pvSpan=document.getElementById('pvSpan');\n    if(!pvSpan){ var p=document.createElement('p'); p.innerHTML='<b>Current portfolio value:<\/b> $<span id=\"pvSpan\"><\/span>'; (document.getElementById('game')||document.body).appendChild(p); pvSpan=document.getElementById('pvSpan'); }\n    pvSpan.innerText=portfolioValueNow().toFixed(2);\n  }\n  refreshPV();\n\n  function trade(asset,side){\n    var qtyEl=el('qty'+asset); var qty=Math.floor(num(qtyEl&&qtyEl.value));\n    if(!qty||qty<=0) return;\n    var price=prices[asset], hold=holds[asset], ac=avgc[asset];\n\n    if(side==='Buy'){\n      var cost=qty*price; if(cost>cash) return;\n      var newHold=hold+qty, newAvg=(hold*ac+qty*price)\/newHold;\n      cash-=cost; holds[asset]=newHold; avgc[asset]=newAvg;\n      if(imperative && adviceOpened && advisedAction.type==='Buy' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }else{\n      qty=Math.min(qty,hold); if(qty===0) return;\n      var proceeds=qty*price; cash+=proceeds;\n      var pl=(price-ac)*qty;\n      if(pl>=0){ set('RealizedGains', num(ed('RealizedGains'))+pl); set('NumRealizedGains', num(ed('NumRealizedGains'))+1); }\n      else     { set('RealizedLosses', num(ed('RealizedLosses'))+Math.abs(pl)); set('NumRealizedLosses', num(ed('NumRealizedLosses'))+1); }\n      hold-=qty; if(hold===0) ac=0; holds[asset]=hold; avgc[asset]=ac;\n      if(imperative && adviceOpened && advisedAction.type==='Sell' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }\n    if(el('h'+asset)) el('h'+asset).innerText=holds[asset];\n    if(el('c'+asset)) el('c'+asset).innerText=holds[asset]>0 ? '$'+avgc[asset].toFixed(2) : '\u2014';\n    if(el('cash')) el('cash').innerText=cash.toFixed(2);\n    if(qtyEl) qtyEl.value='';\n    refreshPV();\n  }\n  Array.from(document.querySelectorAll('button.buy')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Buy')));\n  Array.from(document.querySelectorAll('button.sell')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Sell')));\n\n  function persistState(){\n    try{\n      var pv=portfolioValueNow(); refreshPV();\n\n      \/\/ \u2705 Use the PRE-TRADE snapshot to accumulate paper opportunities\n      if(preOppG>0) set('NumPaperGainsOpp',  num(ed('NumPaperGainsOpp'))  + preOppG);\n      if(preOppL>0) set('NumPaperLossesOpp', num(ed('NumPaperLossesOpp')) + preOppL);\n\n      \/\/ write state\n      set('Cash', cash.toFixed(2));\n      ['A','B','C','D'].forEach(k=>{ set('Hold'+k, holds[k]); set('AvgCost'+k, avgc[k].toFixed(6)); set('LastPrice'+k, prices[k]); });\n      set('PortfolioValue_R'+R, pv.toFixed(2));\n      set('AdviceOpened_R'+R, adviceOpened?1:0);\n      set('AdviceTarget_R'+R, advisedAction.asset||'');\n      set('AdviceType_R'+R, advisedAction.type||'');\n      if(quantified && advisedProb!=null) set('AdviceProb_R'+R, advisedProb.toFixed(4));\n      set('Round', R+1);\n    }catch(e){ showError('Persist error: '+e.message); }\n  }\n\n  var nextBtn=document.getElementById('NextButton'); if(nextBtn) nextBtn.style.display='none';\n  var go=document.createElement('button'); go.type='button'; go.id='GoNext'; go.textContent='Continue'; go.style.cssText='margin-top:12px;padding:8px 14px;';\n  (document.getElementById('game')||document.body).appendChild(go);\n  go.addEventListener('click', function(){ persistState(); setTimeout(function(){ if(nextBtn) nextBtn.click(); }, 30); });\n  this.addOnPageSubmit(function(){ persistState(); });\n\n  \/\/ Debug: add ?debug=1 to URL to see your arm + p on-page\n  try{\n    if((new URLSearchParams(location.search)).get('debug')==='1'){\n      var dbg=document.createElement('div');\n      dbg.style.cssText='margin:8px 0;color:#666;font-size:12px';\n      dbg.textContent='Arm: '+label+' (quantified='+quantified+', imperative='+imperative+')';\n      (document.getElementById('game')||document.body).insertBefore(dbg,(document.getElementById('game')||document.body).firstChild);\n    }\n  }catch(e){}\n});","QuestionText_Unsafe":"<div id=\"game\">\n  <h3>Round <span id=\"rnum\"><\/span> of 8<\/h3>\n\n  \n  <div style=\"margin-bottom:8px\" id=\"macro\"><\/div>\n\n  <p><b>Cash:<\/b> $<span id=\"cash\"><\/span><\/p>\n\n  <table border=\"1\" cellpadding=\"6\" style=\"border-collapse:collapse; width:100%; max-width:760px;\">\n    <thead>\n      <tr><th>Asset<\/th><th>Price<\/th><th>Holdings<\/th><th>Avg Cost<\/th><th>Trade<\/th><\/tr>\n    <\/thead>\n    <tbody>\n      <tr>\n        <td>A<\/td><td id=\"pA\"><\/td><td id=\"hA\"><\/td><td id=\"cA\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyA\">\n          <button data-asset=\"A\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"A\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>B<\/td><td id=\"pB\"><\/td><td id=\"hB\"><\/td><td id=\"cB\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyB\">\n          <button data-asset=\"B\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"B\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>C<\/td><td id=\"pC\"><\/td><td id=\"hC\"><\/td><td id=\"cC\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyC\">\n          <button data-asset=\"C\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"C\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>D<\/td><td id=\"pD\"><\/td><td id=\"hD\"><\/td><td id=\"cD\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyD\">\n          <button data-asset=\"D\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"D\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n    <\/tbody>\n  <\/table>\n\n  <div style=\"margin-top:12px;\" id=\"adviceArea\">\n    <button type=\"button\" id=\"adviceBtn\">Get advisor analysis<\/button>\n    <span style=\"display:none;margin-left:8px;color:green;\" id=\"adviceSeen\">(analysis shown)<\/span>\n    <div style=\"display:none;border:1px solid #ccc;padding:8px;margin-top:6px;\" id=\"adviceBox\">\n      <div id=\"adviceText\"><\/div>\n    <\/div>\n  <\/div>\n\n  <p style=\"margin-top:12px\">\n    <i>Make any trades you want, then click Continue to proceed.<\/i>\n  <\/p>\n<\/div>","DataExportTag":"Round 8","QuestionID":"QID1322585767"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID1322585768","SecondaryAttribute":"Timing","TertiaryAttribute":null,"Payload":{"QuestionText":"Timing","DefaultChoices":false,"QuestionType":"Timing","Selector":"PageTimer","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText","MinSeconds":500,"MaxSeconds":"0"},"QuestionDescription":"Timing","Choices":{"1":{"Display":"First Click"},"2":{"Display":"Last Click"},"3":{"Display":"Page Submit"},"4":{"Display":"Click Count"}},"GradingData":[],"Language":[],"NextChoiceId":40,"NextAnswerId":1,"QuestionText_Unsafe":"Timing","DataExportTag":"Q2","QuestionID":"QID1322585768"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID2","SecondaryAttribute":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","TertiaryAttribute":null,"Payload":{"QuestionText":"<div id=\"game\">\n  <h3>Round <span id=\"rnum\"><\/span> of 8<\/h3>\n\n  \n  <div style=\"margin-bottom:8px\" id=\"macro\"><\/div>\n\n  <p><b>Cash:<\/b> $<span id=\"cash\"><\/span><\/p>\n\n  <table border=\"1\" cellpadding=\"6\" style=\"border-collapse:collapse; width:100%; max-width:760px;\">\n    <thead>\n      <tr><th>Asset<\/th><th>Price<\/th><th>Holdings<\/th><th>Avg Cost<\/th><th>Trade<\/th><\/tr>\n    <\/thead>\n    <tbody>\n      <tr>\n        <td>A<\/td><td id=\"pA\"><\/td><td id=\"hA\"><\/td><td id=\"cA\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyA\">\n          <button data-asset=\"A\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"A\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>B<\/td><td id=\"pB\"><\/td><td id=\"hB\"><\/td><td id=\"cB\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyB\">\n          <button data-asset=\"B\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"B\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>C<\/td><td id=\"pC\"><\/td><td id=\"hC\"><\/td><td id=\"cC\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyC\">\n          <button data-asset=\"C\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"C\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n      <tr>\n        <td>D<\/td><td id=\"pD\"><\/td><td id=\"hD\"><\/td><td id=\"cD\"><\/td>\n        <td>\n          <input placeholder=\"Qty\" style=\"width:70px\" step=\"1\" min=\"0\" type=\"number\" id=\"qtyD\">\n          <button data-asset=\"D\" class=\"buy\" type=\"button\">Buy<\/button>\n          <button data-asset=\"D\" class=\"sell\" type=\"button\">Sell<\/button>\n        <\/td>\n      <\/tr>\n    <\/tbody>\n  <\/table>\n\n  <div style=\"margin-top:12px;\" id=\"adviceArea\">\n    <button type=\"button\" id=\"adviceBtn\">Get advisor analysis<\/button>\n    <span style=\"display:none;margin-left:8px;color:green;\" id=\"adviceSeen\">(analysis shown)<\/span>\n    <div style=\"display:none;border:1px solid #ccc;padding:8px;margin-top:6px;\" id=\"adviceBox\">\n      <div id=\"adviceText\"><\/div>\n    <\/div>\n  <\/div>\n\n  <p style=\"margin-top:12px\">\n    <i>Make any trades you want, then click Continue to proceed.<\/i>\n  <\/p>\n<\/div>","DefaultChoices":false,"DataExportTag":"Round 1","QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Round of 8 Cash: $ Asset Price Holdings Avg Cost Trade A Buy Sell B Buy Sell C Buy Sell D Buy Sel...","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionID":"QID2","QuestionJS":"Qualtrics.SurveyEngine.addOnReady(function () {\n  \/\/ ===== helpers =====\n  function ed(k){ return Qualtrics.SurveyEngine.getEmbeddedData(k); }\n  function set(k,v){ Qualtrics.SurveyEngine.setEmbeddedData(k, v); }\n  function num(x){ var y = parseFloat(x); return isNaN(y) ? 0 : y; }\n  function el(id){ return document.getElementById(id); }\n  function showError(msg){\n    var d = document.createElement('div');\n    d.style.cssText='background:#fee;border:1px solid #f66;color:#900;padding:8px;margin:8px 0';\n    d.innerHTML='<b>Setup error:<\/b> '+msg;\n    (document.getElementById('game')||document.body).insertBefore(d,(document.getElementById('game')||document.body).firstChild);\n  }\n\n  \/\/ ===== round index (SET per page) =====\n  var R = 1; \/\/ <<< set 1..6 on each round page\n\n  \/\/ ===== read path once (needed for seeding) =====\n  var pathText = ed('PricePathJSON') || '[]';\n  var path=[]; try{ path = JSON.parse(pathText); }catch(e){}\n  if(!path[0]){ showError('PricePathJSON missing round 1'); return; }\n\n  \/\/ ===== one-time portfolio initialization on Round 1 ONLY =====\n  if (R === 1 && num(ed('InitFlag')) !== 1) {\n    var p1 = path[0]; \/\/ {A,B,C,D} prices at round 1\n    \/\/ seed 1 share each at Round-1 price\n    set('HoldA', 1); set('HoldB', 1); set('HoldC', 1); set('HoldD', 1);\n    set('AvgCostA', p1.A); set('AvgCostB', p1.B); set('AvgCostC', p1.C); set('AvgCostD', p1.D);\n\n    \/\/ cash policy: starting cash 2000 minus cost of 4 shares\n    var startCash = 2000;\n    var spent = (p1.A + p1.B + p1.C + p1.D);\n    set('Cash', (startCash - spent).toFixed(2)); \/\/ or set to a higher base if you prefer\n\n    set('InitFlag', 1); \/\/ prevent re-initialization later\n  }\n\n  \/\/ ===== treatment arm (always read; not gated by InitFlag) =====\n  var label = (ed('ConditionLabel')||'').trim();\n  if(!label){ try{ label = (localStorage.getItem('AB_ConditionLabel')||'').trim(); }catch(e){} }\n  if(!label){ label = 'C'; } \/\/ preview safety\n  set('ConditionLabel', label);\n  try{ localStorage.setItem('AB_ConditionLabel', label); }catch(e){}\n  var quantified = (label==='T1' || label==='T3');\n  var imperative = (label==='T2' || label==='T3');\n\n  \/\/ ===== load state =====\n  var cash  = num(ed('Cash'));\n  var holds = {A:num(ed('HoldA')), B:num(ed('HoldB')), C:num(ed('HoldC')), D:num(ed('HoldD'))};\n  var avgc  = {A:num(ed('AvgCostA')), B:num(ed('AvgCostB')), C:num(ed('AvgCostC')), D:num(ed('AvgCostD'))};\n\n  \/\/ ===== current round prices =====\n  if(!path[R-1]){ showError('PricePathJSON missing entry for round '+R); return; }\n  var px = path[R-1];\n  var prices = {A:num(px.A), B:num(px.B), C:num(px.C), D:num(px.D)};\n  if(![prices.A,prices.B,prices.C,prices.D].every(v=>v>0)){ showError('Invalid prices on round '+R); return; }\n\n  \/\/ ===== optional macro narrative =====\n  var narrText = ed('MarketNarrativeJSON') || '[]';\n  var narr=[]; try{ narr = JSON.parse(narrText); }catch(e){}\n  var macroEl = el('macro');\n  if(macroEl){ macroEl.innerHTML = '<b>Market condition:<\/b> ' + (narr[R-1] || 'Prices move exogenously; your trades do not affect prices.'); }\n\n  \/\/ ===== basic UI fill =====\n  if(el('rnum')) el('rnum').innerText = R;\n  if(el('cash')) el('cash').innerText = cash.toFixed(2);\n  ['A','B','C','D'].forEach(function(k){\n    if(el('p'+k)) el('p'+k).innerText = '$'+prices[k].toFixed(2);\n    if(el('h'+k)) el('h'+k).innerText = holds[k];\n    if(el('c'+k)) el('c'+k).innerText = holds[k]>0 ? '$'+avgc[k].toFixed(2) : '\u2014';\n  });\n\n  \/\/ ===== trends (look back up to 3 rounds) =====\n  function lastNRoundAvgReturn(asset,N){\n    var n=Math.min(N,R-1); if(n<=0) return 0;\n    var sum=0,cnt=0;\n    for(var t=R-1; t>=1 && cnt<n; t--){\n      var p_t=num(path[t][asset]), p_tm1=num(path[t-1][asset]);\n      if(p_t>0 && p_tm1>0){ sum += (p_t\/p_tm1 - 1); cnt++; }\n    }\n    return cnt? sum\/cnt : 0;\n  }\n  var lookback = Math.min(3, R-1);\n  var trend = {A:lastNRoundAvgReturn('A',lookback),\n               B:lastNRoundAvgReturn('B',lookback),\n               C:lastNRoundAvgReturn('C',lookback),\n               D:lastNRoundAvgReturn('D',lookback)};\n  function trendRankString(){\n    return ['A','B','C','D'].map(k=>k+':'+(trend[k]*100).toFixed(1)+'%').join(', ');\n  }\n\n  \/\/ ===== snapshot paper opps BEFORE any trading (counts are 0 on R1) =====\n  var preOppG = 0, preOppL = 0;\n  (function(){\n    ['A','B','C','D'].forEach(function(k){\n      var h=holds[k], ac=avgc[k], p=prices[k];\n      if(h>0 && ac>0){\n        if(p>ac) preOppG += 1;\n        else if(p<ac) preOppL += 1;\n      }\n    });\n  })();\n\n  \/\/ ===== advisor UI =====\n  var adviceBtn  = el('adviceBtn'),\n      adviceBox  = el('adviceBox'),\n      adviceSeen = el('adviceSeen'),\n      adviceText = el('adviceText');\n\n  if(R===1 && adviceBtn){ adviceBtn.style.display='none'; } \/\/ hide on R1 only\n\n  var adviceOpened=false;\n  var advisedAction={type:'None', asset:null};\n  var advisedProb = null;\n\n  \/\/ ===== thresholds =====\n  var BUY_THRESH  = num(ed('BuyThresh'))  || 0.002;\n  var SELL_THRESH = num(ed('SellThresh')) || 0.002;\n\n  \/\/ ===== probability utilities (for T1\/T3) =====\n  function normcdf(z){\n    var t = 1\/(1+0.2316419*Math.abs(z));\n    var d = 0.3989422804014327*Math.exp(-0.5*z*z);\n    var p = d*t*(0.319381530 + t*(-0.356563782 + t*(1.781477937 + t*(-1.821255978 + t*1.330274429))));\n    return (z>=0)? 1-p : p;\n  }\n  function clamp(x,a,b){ return Math.max(a, Math.min(b,x)); }\n  function computeConfidence(target,action){\n    var arr = ['A','B','C','D'].map(k=>trend[k]);\n    var mean = arr.reduce((s,v)=>s+v,0)\/arr.length;\n    var var_ = arr.reduce((s,v)=>s+(v-mean)*(v-mean),0)\/Math.max(1,arr.length-1);\n    var std = Math.sqrt(var_ || 1e-8);\n    var effN = Math.max(1, lookback||1);\n    var se = std \/ Math.sqrt(effN);\n    var signal = Math.abs(trend[target]||0);\n    var z = (se>0)? signal\/se : 0;\n    var twoSided = 2*normcdf(Math.abs(z)) - 1;\n    var p = clamp(0.55 + 0.40*Math.min(twoSided,1), 0.55, 0.95);\n    if(action==='None') p = Math.max(0.55, p-0.05);\n    return p;\n  }\n\n  function buildAdvice(){\n    var held = ['A','B','C','D'].filter(k=>holds[k]>0);\n    var sellCand = held.length ? held.reduce((w,k)=> (w===null||trend[k]<trend[w])?k:w, null) : null;\n    var buyCand  = ['A','B','C','D'].reduce((b,k)=> (b===null||trend[k]>trend[b])?k:b, null);\n\n    var action='None', target=null, edgeMsg='no strong directional edge across assets';\n    if(sellCand && trend[sellCand] <= -Math.abs(SELL_THRESH)){\n      action='Sell'; target=sellCand; edgeMsg='lower expected return for <b>Asset '+target+'<\/b>';\n    } else if(buyCand && trend[buyCand] >= Math.abs(BUY_THRESH) && cash >= prices[buyCand]){\n      action='Buy'; target=buyCand; edgeMsg='higher expected return for <b>Asset '+target+'<\/b>';\n    }\n    advisedAction.type=action; advisedAction.asset=target;\n\n    var analysis = 'Recent multi-round momentum (last-'+(lookback||1)+'-round trends: '+trendRankString()+') suggests '+edgeMsg+'.';\n\n    advisedProb = (quantified ? computeConfidence(target || (buyCand||sellCand||'A'), action) : null);\n    var probTag = quantified ? ' <span>(p = '+(advisedProb? advisedProb.toFixed(2) : '0.55')+')<\/span>' : '';\n\n    var imperativeTail='';\n    if(imperative){\n      if(action==='Sell')      imperativeTail=' \u2014 <b>Recommendation: Sell '+target+'<\/b>';\n      else if(action==='Buy')  imperativeTail=' \u2014 <b>Recommendation: Buy '+target+'<\/b>';\n      else                     imperativeTail=' \u2014 <b>Recommendation: No trade<\/b>';\n      if(quantified) imperativeTail += probTag;\n    }else{\n      if(quantified) analysis += probTag;\n    }\n\n    set('AdviceAction_R'+R, action);\n    set('AdviceAsset_R'+R,  target||'');\n    if(quantified) set('AdviceProb_R'+R, advisedProb ? advisedProb.toFixed(4) : '');\n\n    return analysis + imperativeTail;\n  }\n\n  if(adviceBtn && R>=2){\n    adviceBtn.style.display='';\n    adviceBtn.addEventListener('click',function(){\n      if(adviceBox.style.display==='none'){\n        adviceText.innerHTML = buildAdvice();\n        adviceBox.style.display='block';\n        if(adviceSeen) adviceSeen.style.display='inline';\n        if(!adviceOpened){ adviceOpened=true; set('AdviceOpens', num(ed('AdviceOpens'))+1); }\n      }else{\n        adviceBox.style.display='none';\n      }\n    });\n  }\n\n  \/\/ ===== trading & persistence =====\n  function portfolioValueNow(){ return cash + holds.A*prices.A + holds.B*prices.B + holds.C*prices.C + holds.D*prices.D; }\n  function refreshPV(){\n    var pvSpan=document.getElementById('pvSpan');\n    if(!pvSpan){ var p=document.createElement('p'); p.innerHTML='<b>Current portfolio value:<\/b> $<span id=\"pvSpan\"><\/span>'; (document.getElementById('game')||document.body).appendChild(p); pvSpan=document.getElementById('pvSpan'); }\n    pvSpan.innerText=portfolioValueNow().toFixed(2);\n  }\n  refreshPV();\n\n  function trade(asset,side){\n    var qtyEl=el('qty'+asset); var qty=Math.floor(num(qtyEl&&qtyEl.value));\n    if(!qty||qty<=0) return;\n    var price=prices[asset], hold=holds[asset], ac=avgc[asset];\n\n    if(side==='Buy'){\n      var cost=qty*price; if(cost>cash) return;\n      var newHold=hold+qty, newAvg=(hold*ac+qty*price)\/newHold;\n      cash-=cost; holds[asset]=newHold; avgc[asset]=newAvg;\n      if(imperative && adviceOpened && advisedAction.type==='Buy' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }else{\n      qty=Math.min(qty,hold); if(qty===0) return;\n      var proceeds=qty*price; cash+=proceeds;\n      var pl=(price-ac)*qty;\n      if(pl>=0){ set('RealizedGains', num(ed('RealizedGains'))+pl); set('NumRealizedGains', num(ed('NumRealizedGains'))+1); }\n      else     { set('RealizedLosses', num(ed('RealizedLosses'))+Math.abs(pl)); set('NumRealizedLosses', num(ed('NumRealizedLosses'))+1); }\n      hold-=qty; if(hold===0) ac=0; holds[asset]=hold; avgc[asset]=ac;\n      if(imperative && adviceOpened && advisedAction.type==='Sell' && asset===advisedAction.asset){ set('AdviceFollowed', num(ed('AdviceFollowed'))+1); }\n    }\n    if(el('h'+asset)) el('h'+asset).innerText=holds[asset];\n    if(el('c'+asset)) el('c'+asset).innerText=holds[asset]>0 ? '$'+avgc[asset].toFixed(2) : '\u2014';\n    if(el('cash')) el('cash').innerText=cash.toFixed(2);\n    if(qtyEl) qtyEl.value='';\n    refreshPV();\n  }\n  Array.from(document.querySelectorAll('button.buy')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Buy')));\n  Array.from(document.querySelectorAll('button.sell')).forEach(b=>b.addEventListener('click',()=>trade(b.dataset.asset,'Sell')));\n\n  function persistState(){\n    try{\n      var pv=portfolioValueNow(); refreshPV();\n\n      \/\/ accumulate paper opps from the pre-trade snapshot\n      if(preOppG>0) set('NumPaperGainsOpp',  num(ed('NumPaperGainsOpp'))  + preOppG);\n      if(preOppL>0) set('NumPaperLossesOpp', num(ed('NumPaperLossesOpp')) + preOppL);\n\n      set('Cash', cash.toFixed(2));\n      ['A','B','C','D'].forEach(k=>{ set('Hold'+k, holds[k]); set('AvgCost'+k, avgc[k].toFixed(6)); set('LastPrice'+k, prices[k]); });\n      set('PortfolioValue_R'+R, pv.toFixed(2));\n      set('AdviceOpened_R'+R, adviceOpened?1:0);\n      set('AdviceTarget_R'+R, advisedAction.asset||'');\n      set('AdviceType_R'+R, advisedAction.type||'');\n      if(quantified && advisedProb!=null) set('AdviceProb_R'+R, advisedProb.toFixed(4));\n      set('Round', R+1);\n    }catch(e){ showError('Persist error: '+e.message); }\n  }\n\n  var nextBtn=document.getElementById('NextButton'); if(nextBtn) nextBtn.style.display='none';\n  var go=document.createElement('button'); go.type='button'; go.id='GoNext'; go.textContent='Continue'; go.style.cssText='margin-top:12px;padding:8px 14px;';\n  (document.getElementById('game')||document.body).appendChild(go);\n  go.addEventListener('click', function(){ persistState(); setTimeout(function(){ if(nextBtn) nextBtn.click(); }, 30); });\n  this.addOnPageSubmit(function(){ persistState(); });\n\n  \/\/ debug\n  try{\n    if((new URLSearchParams(location.search)).get('debug')==='1'){\n      var dbg=document.createElement('div');\n      dbg.style.cssText='margin:8px 0;color:#666;font-size:12px';\n      dbg.textContent='Arm: '+label+' (quantified='+quantified+', imperative='+imperative+')';\n      (document.getElementById('game')||document.body).insertBefore(dbg,(document.getElementById('game')||document.body).firstChild);\n    }\n  }catch(e){}\n});"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID41","SecondaryAttribute":"Final results","TertiaryAttribute":null,"Payload":{"QuestionText":"<h3>Final results<\/h3>\n<div id=\"ResultsHost\"><\/div>\n<div id=\"ResultsDebug\" style=\"margin-top:10px;color:#666;font-size:12px\"><\/div>\n","DefaultChoices":false,"DataExportTag":"Q39","QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Final results","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionID":"QID41","QuestionJS":"Qualtrics.SurveyEngine.addOnReady(function () {\n  \/\/ helpers\n  function ed(k){ var v = Qualtrics.SurveyEngine.getEmbeddedData(k); return (v===null||v===undefined)?'':v; }\n  function set(k,v){ Qualtrics.SurveyEngine.setEmbeddedData(k,v); }\n  function num(x){ var y=parseFloat(x); return isNaN(y)?0:y; }\n\n  \/\/ pull counts accumulated across rounds (default to 0 if missing)\n  var RG  = num(ed('NumRealizedGains'));\n  var RL  = num(ed('NumRealizedLosses'));\n  var PG  = num(ed('NumPaperGainsOpp'));\n  var PL  = num(ed('NumPaperLossesOpp'));\n  var FPV = ed('PortfolioValue_R8');   \/\/ <- updated for 8 rounds\n\n  \/\/ compute PGR \/ PLR \/ DE (0-safe denominators)\n  var PGR = (RG + PG) > 0 ? (RG \/ (RG + PG)) : NaN;\n  var PLR = (RL + PL) > 0 ? (RL \/ (RL + PL)) : NaN;\n  var DE  = (isNaN(PGR) || isNaN(PLR)) ? NaN : (PGR - PLR);\n\n  \/\/ store to Embedded Data for export\n  set('PGR', isNaN(PGR)?'NA':PGR.toFixed(4));\n  set('PLR', isNaN(PLR)?'NA':PLR.toFixed(4));\n  set('DE',  isNaN(DE) ?'NA':DE.toFixed(4));\n  set('FinalPortfolioValue', FPV);\n\n  \/\/ simple bonus rule (edit as needed)\n  var basePV = 2000; \/\/ starting wallet (1600 cash + 400 in stock = 2000 total)\n  var gain   = Math.max(0, num(FPV) - basePV);\n  var bonus  = Math.min(1.50, (gain\/2000)*1.50);\n  set('BonusUSD', bonus.toFixed(2));\n\n  \/\/ render summary safely (explicit string conversions)\n  var host = document.getElementById('ResultsHost') \n          || this.getQuestionContainer().querySelector('.QuestionText');\n\n  function fmt(x,n){ return (typeof x==='number' && !isNaN(x)) ? x.toFixed(n) : '\u2014'; }\n  function money(x){ return (x!=='' && !isNaN(parseFloat(x))) ? Number(x).toFixed(2) : '\u2014'; }\n\n  host.innerHTML = ''\n    + '<b>PGR:<\/b> ' + fmt(PGR,3) + '&nbsp;&nbsp;'\n    + '<b>PLR:<\/b> ' + fmt(PLR,3) + '&nbsp;&nbsp;'\n    + '<b>DE:<\/b> '  + fmt(DE,3)   + '<br>'\n    + '<b>Final Portfolio Value:<\/b> $' + money(FPV) + '<br>'\n    + '<b>Performance Bonus:<\/b> $' + bonus.toFixed(2);\n});"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID42","SecondaryAttribute":"Welcome to the Trading Simulation. Instructions:\u00a0 You will now play a trading game with eight con..","TertiaryAttribute":null,"Payload":{"QuestionText":"<strong>Welcome to the Trading Simulation.<\/strong><br>\n<br>\n<strong>Instructions<\/strong>:&nbsp;<br>\nYou will now play a trading game with eight continuous rounds.<br>\n<br>\nYou start with one share of each stock.&nbsp;<br>\n<br>\nIn each round, you will decide to buy, sell, or hold stocks to try to make your portfolio value grow. Keep in mind that decisions made in earlier rounds will affect your portfolio and cash in later rounds. Stock prices are not affected by your decisions and will fluctuate on their own.<br>\n<br>\nAfter round 1, <b>you can choose to consult an AI Advisor <\/b>for advice on how to invest, but <b>you are not required to open nor follow the advice.<\/b><br><br>\n<i><b>Remember that your compensation will depend on how your final portfolio value compares to its starting value.<\/b><\/i>","DefaultChoices":false,"DataExportTag":"Trading Entrance","QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Welcome to the Trading Simulation. Instructions:\u00a0 You will now play a trading game with eight con...","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionID":"QID42","QuestionJS":"Qualtrics.SurveyEngine.addOnReady(function () {\n  function set(k,v){ Qualtrics.SurveyEngine.setEmbeddedData(k,v); }\n\n  \/\/ ---------- config ----------\n  var ROUNDS = 6;\n  var assets = ['A','B','C','D'];\n  var startPrice = 100;\n\n  \/\/ regime parameters (approx daily)\n  var regimes = {\n    UP:   { mu:  0.004, sigma: 0.010 },  \/\/ +0.4% mean, 1.0% sd\n    DOWN: { mu: -0.004, sigma: 0.010 },  \/\/ -0.4% mean, 1.0% sd\n    FLAT: { mu:  0.000, sigma: 0.007 }   \/\/  0.0% mean, 0.7% sd\n  };\n  \/\/ transition matrix (high persistence)\n  var trans = {\n    UP:   {UP:0.70, FLAT:0.20, DOWN:0.10},\n    FLAT: {UP:0.20, FLAT:0.60, DOWN:0.20},\n    DOWN: {UP:0.10, FLAT:0.20, DOWN:0.70}\n  };\n  var idioSigma = 0.005;     \/\/ asset-specific noise sd (0.5%)\n  var clampMin = -0.03, clampMax = 0.03; \/\/ cap single-round move to \u00b13%\n\n  \/\/ ---------- deterministic seed from ResponseID ----------\n  var seedStr = Qualtrics.SurveyEngine.getEmbeddedData('ResponseID') || (Date.now()+Math.random()).toString();\n  var seed = 0; for (var i=0;i<seedStr.length;i++) seed = (seed*131 + seedStr.charCodeAt(i))>>>0;\n  function rand(){ \/\/ simple LCG\n    seed = (1664525*seed + 1013904223)>>>0;\n    return (seed\/0xFFFFFFFF);\n  }\n  function randn(){ \/\/ Box-Muller\n    var u=0,v=0; while(u===0)u=rand(); while(v===0)v=rand();\n    return Math.sqrt(-2*Math.log(u))*Math.cos(2*Math.PI*v);\n  }\n  function clamp(x,a,b){ return Math.max(a, Math.min(b, x)); }\n\n  \/\/ ---------- simulate regimes ----------\n  var states = ['UP','FLAT','DOWN'];\n  function stepRegime(cur){\n    var p = trans[cur], u = rand(), c=0;\n    for (var k in p){ c+=p[k]; if (u<=c) return k; }\n    return cur;\n  }\n\n  \/\/ ---------- build price path ----------\n  var path = [];\n  var narrative = []; \/\/ optional per-round label for your macro text\n\n  \/\/ Round 1: equal prices\n  var row1 = {}; assets.forEach(k=>row1[k]=startPrice);\n  path.push(row1);\n  narrative.push('Neutral day');\n\n  \/\/ start from a random regime (biased to FLAT)\n  var regime = (rand()<0.5)?'FLAT':((rand()<0.5)?'UP':'DOWN');\n\n  var prev = row1;\n  for (var t=2; t<=ROUNDS; t++){\n    \/\/ possibly stay or transition regime\n    regime = stepRegime(regime);\n    var pars = regimes[regime];\n\n    \/\/ market factor\n    var mkt = pars.mu + pars.sigma*randn();\n\n    \/\/ per-asset returns = market + small idio, clamped\n    var row = {};\n    assets.forEach(function(a){\n      var idio = idioSigma*randn();\n      var r = clamp(mkt + idio, clampMin, clampMax);\n      row[a] = +(prev[a] * (1 + r)).toFixed(2);\n    });\n\n    \/\/ store\n    path.push(row);\n    prev = row;\n    narrative.push(regime==='UP'?'Broad uptick':'Regime: '+regime.toLowerCase());\n  }\n\n  set('PricePathJSON', JSON.stringify(path));\n  \/\/ Optional: store human-readable text per round for the trading screens\n  \/\/ index matches rounds (1..6)\n  set('MarketNarrativeJSON', JSON.stringify(narrative));\n});"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID51","SecondaryAttribute":"Click to write the question text","TertiaryAttribute":null,"Payload":{"QuestionText":"Click to write the question text","DefaultChoices":false,"DataExportTag":"Q49","QuestionType":"Captcha","Selector":"V2","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText","Align":"left","Theme":"light"},"QuestionDescription":"Click to write the question text","GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionID":"QID51"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID52","SecondaryAttribute":"Click to write the question text","TertiaryAttribute":null,"Payload":{"QuestionText":"Click to write the question text","DataExportTag":"Q18","QuestionType":"MC","Selector":"SAVR","SubSelector":"TX","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Click to write the question text","Choices":{"1":{"Display":"Click to write Choice 1"},"2":{"Display":"Click to write Choice 2"},"3":{"Display":"Click to write Choice 3"}},"ChoiceOrder":["1","2","3"],"Validation":{"Settings":{"ForceResponse":"OFF","Type":"None"}},"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionID":"QID52"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID53","SecondaryAttribute":"Please complete the Qualtrics Captcha","TertiaryAttribute":null,"Payload":{"QuestionText":"<span style=\"font-size:11px;\">Please complete the Qualtrics Captcha<\/span>","DefaultChoices":false,"DataExportTag":"Q19","QuestionType":"Captcha","Selector":"V2","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText","Align":"left","Theme":"light"},"QuestionDescription":"Please complete the Qualtrics Captcha","GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionID":"QID53"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID54","SecondaryAttribute":"Timing","TertiaryAttribute":null,"Payload":{"QuestionText":"Timing","DefaultChoices":false,"DataExportTag":"Q20","QuestionType":"Timing","Selector":"PageTimer","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText","MinSeconds":500,"MaxSeconds":"0"},"QuestionDescription":"Timing","Choices":{"1":{"Display":"First Click"},"2":{"Display":"Last Click"},"3":{"Display":"Page Submit"},"4":{"Display":"Click Count"}},"GradingData":[],"Language":[],"NextChoiceId":400,"NextAnswerId":1,"QuestionID":"QID54"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID55","SecondaryAttribute":"Timing","TertiaryAttribute":null,"Payload":{"QuestionText":"Timing","DefaultChoices":false,"DataExportTag":"Q21","QuestionType":"Timing","Selector":"PageTimer","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText","MinSeconds":500,"MaxSeconds":"0"},"QuestionDescription":"Timing","Choices":{"1":{"Display":"First Click"},"2":{"Display":"Last Click"},"3":{"Display":"Page Submit"},"4":{"Display":"Click Count"}},"GradingData":[],"Language":[],"NextChoiceId":60,"NextAnswerId":1,"QuestionID":"QID55"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID56","SecondaryAttribute":"Timing","TertiaryAttribute":null,"Payload":{"QuestionText":"Timing","DefaultChoices":false,"DataExportTag":"Q22","QuestionType":"Timing","Selector":"PageTimer","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText","MinSeconds":500,"MaxSeconds":"0"},"QuestionDescription":"Timing","Choices":{"1":{"Display":"First Click"},"2":{"Display":"Last Click"},"3":{"Display":"Page Submit"},"4":{"Display":"Click Count"}},"GradingData":[],"Language":[],"NextChoiceId":48,"NextAnswerId":1,"QuestionID":"QID56"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID57","SecondaryAttribute":"Timing","TertiaryAttribute":null,"Payload":{"QuestionText":"Timing","DefaultChoices":false,"DataExportTag":"Q23","QuestionType":"Timing","Selector":"PageTimer","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText","MinSeconds":500,"MaxSeconds":"0"},"QuestionDescription":"Timing","Choices":{"1":{"Display":"First Click"},"2":{"Display":"Last Click"},"3":{"Display":"Page Submit"},"4":{"Display":"Click Count"}},"GradingData":[],"Language":[],"NextChoiceId":44,"NextAnswerId":1,"QuestionID":"QID57"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID58","SecondaryAttribute":"Timing","TertiaryAttribute":null,"Payload":{"QuestionText":"Timing","DefaultChoices":false,"DataExportTag":"Q24","QuestionType":"Timing","Selector":"PageTimer","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText","MinSeconds":500,"MaxSeconds":"0"},"QuestionDescription":"Timing","Choices":{"1":{"Display":"First Click"},"2":{"Display":"Last Click"},"3":{"Display":"Page Submit"},"4":{"Display":"Click Count"}},"GradingData":[],"Language":[],"NextChoiceId":52,"NextAnswerId":1,"QuestionID":"QID58"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID59","SecondaryAttribute":"Timing","TertiaryAttribute":null,"Payload":{"QuestionText":"Timing","DefaultChoices":false,"DataExportTag":"Q25","QuestionType":"Timing","Selector":"PageTimer","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText","MinSeconds":500,"MaxSeconds":"0"},"QuestionDescription":"Timing","Choices":{"1":{"Display":"First Click"},"2":{"Display":"Last Click"},"3":{"Display":"Page Submit"},"4":{"Display":"Click Count"}},"GradingData":[],"Language":[],"NextChoiceId":40,"NextAnswerId":1,"QuestionID":"QID59"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID60","SecondaryAttribute":"Comprehension Check: Please input your DE Score (e.g., 0.100, 0.100 etc.): Your results will be v...","TertiaryAttribute":null,"Payload":{"QuestionText":"<b>Comprehension Check:<\/b><br>\nPlease input your DE Score (e.g., 0.100, 0.100 etc.):<br>\n<span style=\"font-size:11px;\">Your results will be voided if these scores do not match your actual result. Include negative signs if present.&nbsp;<b>Input \"0.000\" if your score says \"\u2014\"<\/b><\/span>","DefaultChoices":false,"DataExportTag":"Q26","QuestionType":"TE","Selector":"SL","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Comprehension Check: Please input your DE Score (e.g., 0.100, 0.100 etc.): Your results will be v...","Validation":{"Settings":{"ForceResponse":"ON","ForceResponseType":"ON","Type":"None","MinChars":"1","TotalChars":"1"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"SearchSource":{"AllowFreeResponse":"false"},"QuestionID":"QID60"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID61","SecondaryAttribute":"Please input your PGR Score:","TertiaryAttribute":null,"Payload":{"QuestionText":"Please input your PGR Score:","DefaultChoices":false,"DataExportTag":"Q27","QuestionType":"TE","Selector":"ML","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Please input your PGR Score:","Validation":{"Settings":{"ForceResponse":"ON","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"SearchSource":{"AllowFreeResponse":"false"},"QuestionID":"QID61"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID62","SecondaryAttribute":"Please input your PLR Score:","TertiaryAttribute":null,"Payload":{"QuestionText":"Please input your PLR Score:","DefaultChoices":false,"DataExportTag":"Q28","QuestionType":"TE","Selector":"ML","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Please input your PLR Score:","Validation":{"Settings":{"ForceResponse":"ON","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"SearchSource":{"AllowFreeResponse":"false"},"QuestionID":"QID62"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID63","SecondaryAttribute":"Comprehension Check: The AI Advisor says: \"Stock A has been appreciating in value over the past t...","TertiaryAttribute":null,"Payload":{"QuestionText":"<b>Comprehension Check: <br><\/b>The AI Advisor says: <i>\"Stock A has been appreciating in value over the past two rounds and is likely to have the greatest return on investment in comparison to Stocks B, C, and D, which have been depreciating.\" <\/i><br><br>What should you <i>logically<\/i>&nbsp;do?","DefaultChoices":false,"DataExportTag":"Q29","QuestionType":"MC","Selector":"SAVR","SubSelector":"TX","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Comprehension Check: The AI Advisor says: \"Stock A has been appreciating in value over the past t...","Choices":{"1":{"Display":"Buy Stock A"},"2":{"Display":"Buy Stock B"},"3":{"Display":"Buy Stock C"},"4":{"Display":"Buy Stock D"}},"ChoiceOrder":["1","2","3","4"],"Validation":{"Settings":{"ForceResponse":"OFF","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":5,"NextAnswerId":1,"QuestionID":"QID63","QuestionJS":false}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID64","SecondaryAttribute":"Click to write the question text","TertiaryAttribute":null,"Payload":{"QuestionText":"Click to write the question text","DefaultChoices":false,"DataExportTag":"Q30","QuestionType":"TE","Selector":"ML","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Click to write the question text","Validation":{"Settings":{"ForceResponse":"OFF","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"SearchSource":{"AllowFreeResponse":"false"},"QuestionID":"QID64"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID65","SecondaryAttribute":"Who Sent You This Survey?","TertiaryAttribute":null,"Payload":{"QuestionText":"Who Sent You This Survey?","DefaultChoices":false,"DataExportTag":"Q31","QuestionType":"MC","Selector":"SAVR","SubSelector":"TX","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Who Sent You This Survey?","Choices":{"1":{"Display":"Yash"},"2":{"Display":"Ryan"},"3":{"Display":"Gordon"},"4":{"Display":"Jade"},"5":{"Display":"Becky"},"6":{"Display":"Loren"}},"ChoiceOrder":["1","2","3","4","5","6"],"Validation":{"Settings":{"ForceResponse":"ON","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":7,"NextAnswerId":1,"QuestionID":"QID65"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID66","SecondaryAttribute":"Click to write the question text","TertiaryAttribute":null,"Payload":{"QuestionText":"Click to write the question text","DefaultChoices":false,"DataExportTag":"Q32","QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Click to write the question text","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionID":"QID66"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID67","SecondaryAttribute":"Market Setup (no question\/blank to viewers)","TertiaryAttribute":null,"Payload":{"QuestionText":"Market Setup (no question\/blank to viewers)","DefaultChoices":false,"DataExportTag":"Q33","QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Market Setup (no question\/blank to viewers)","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionID":"QID67","QuestionJS":"Qualtrics.SurveyEngine.addOnReady(function () {\n  \/\/ ---------- helpers ----------\n  function ed(k){ var v = Qualtrics.SurveyEngine.getEmbeddedData(k); return (v===null||v===undefined)?'' : v; }\n  function set(k,v){ Qualtrics.SurveyEngine.setEmbeddedData(k, v); }\n\n  \/\/ Bump this when you change the generator to force regeneration for Preview\/tests\n  var PATH_VERSION = 'v4';\n\n  \/\/ Only build once per respondent per version\n  if (ed('PathVersion') === PATH_VERSION && ed('PathInit') === '1') return;\n\n  \/\/ ---------- config ----------\n  var ROUNDS = 8;\n  var ASSETS = ['A','B','C','D'];\n  var START  = 100.00;\n\n  \/\/ Regime mix (reduced Flat, added moderate moves)\n  var REGIME_WEIGHTS = [\n    {label:'Broad uptick',     drift:+0.0040, sigma:0.0080, w:0.25},\n    {label:'Moderate uptick',  drift:+0.0025, sigma:0.0065, w:0.20},\n    {label:'Flat',             drift:+0.0000, sigma:0.0045, w:0.10},\n    {label:'Moderate dip',     drift:-0.0025, sigma:0.0065, w:0.20},\n    {label:'Broad downturn',   drift:-0.0040, sigma:0.0080, w:0.25}\n  ];\n\n  \/\/ Advisor thresholds (a bit more talkative)\n  set('BuyThresh',  '0.0015');\n  set('SellThresh', '0.0015');\n\n  \/\/ De-correlation between assets\n  var IDIO_MULT   = 0.60;\n  var MARKET_MULT = 0.40;\n\n  \/\/ Sensible bounds\n  var MIN_PRICE = 50, MAX_PRICE = 200;\n\n  \/\/ ---------- RNG ----------\n  function randn(){\n    var u=0,v=0; while(u===0) u=Math.random(); while(v===0) v=Math.random();\n    return Math.sqrt(-2*Math.log(u))*Math.cos(2*Math.PI*v);\n  }\n  function drawRegime(){\n    var x=Math.random(), acc=0;\n    for(var i=0;i<REGIME_WEIGHTS.length;i++){\n      acc+=REGIME_WEIGHTS[i].w; if(x<=acc) return REGIME_WEIGHTS[i];\n    }\n    return REGIME_WEIGHTS[REGIME_WEIGHTS.length-1];\n  }\n\n  \/\/ ---------- build paths ----------\n  var path = [];\n  var narrative = [];\n\n  \/\/ Round 1: **baseline (no shock)** at exactly $100 each\n  var row0 = {A:START, B:START, C:START, D:START};\n  path.push(row0);\n  narrative.push('Baseline (no shock)');\n\n  \/\/ Subsequent rounds: apply shocks relative to last\n  var last = {A:START, B:START, C:START, D:START};\n\n  for (var r=1; r<ROUNDS; r++){\n    var reg = drawRegime();\n    narrative.push(reg.label);\n\n    var marketShock = reg.drift + reg.sigma * MARKET_MULT * randn();\n    var row = {};\n    ['A','B','C','D'].forEach(function(k){\n      var idio = reg.sigma * IDIO_MULT * randn();\n      var ret  = marketShock + idio;              \/\/ linear return model\n      var nxt  = last[k] * (1 + ret);\n      nxt = Math.max(MIN_PRICE, Math.min(MAX_PRICE, nxt));\n      nxt = Math.round(nxt*100)\/100;\n      row[k]=nxt; last[k]=nxt;\n    });\n    path.push(row);\n  }\n\n  \/\/ ---------- persist ----------\n  set('PricePathJSON', JSON.stringify(path));\n  set('MarketNarrativeJSON', JSON.stringify(narrative));\n  set('PathInit','1');\n  set('PathVersion', PATH_VERSION);\n\n  \/\/ Hide the setup question in normal runs; show in debug\n  try{\n    if((new URLSearchParams(location.search)).get('debug')==='1'){\n      var host = this.getQuestionContainer().querySelector('.QuestionText');\n      if(host){ host.innerHTML = '<pre style=\"white-space:pre-wrap;font-size:12px;\">'\n        + 'PricePathJSON:\\n' + JSON.stringify(path,null,2) + '\\n\\n'\n        + 'Narrative:\\n' + JSON.stringify(narrative,null,2) + '<\/pre>'; }\n    }else{\n      var q = this.getQuestionContainer(); if(q) q.style.display='none';\n    }\n  }catch(e){}\n});"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID68","SecondaryAttribute":"Click to write the question text","TertiaryAttribute":null,"Payload":{"QuestionText":"Click to write the question text","DefaultChoices":false,"DataExportTag":"Q34","QuestionType":"Slider","Selector":"HSLIDER","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText","CSSliderMin":0,"CSSliderMax":100,"GridLines":10,"SnapToGrid":false,"NumDecimals":"0","ShowValue":true,"CustomStart":false,"NotApplicable":false,"MobileFirst":true},"QuestionDescription":"Click to write the question text","Choices":{"1":{"Display":"Click to write Choice 1"},"2":{"Display":"Click to write Choice 2"},"3":{"Display":"Click to write Choice 3"}},"ChoiceOrder":["1","2","3"],"Validation":{"Settings":{"ForceResponse":"OFF","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"Labels":[],"QuestionID":"QID68"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID69","SecondaryAttribute":"Please rate your advisor experience","TertiaryAttribute":null,"Payload":{"QuestionText":"Please rate your advisor experience","DefaultChoices":false,"DataExportTag":"Q35","QuestionType":"Matrix","Selector":"Likert","SubSelector":"SingleAnswer","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText","TextPosition":"inline","ChoiceColumnWidth":25,"RepeatHeaders":"none","WhiteSpace":"OFF","MobileFirst":true},"QuestionDescription":"Please rate your advisor experience","Choices":{"1":{"Display":"Trust in Advice"},"2":{"Display":"Perceived Competence"}},"ChoiceOrder":[1,2],"Validation":{"Settings":{"ForceResponse":"ON","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":3,"NextAnswerId":8,"Answers":{"1":{"Display":"Very Low"},"2":{"Display":"Low"},"3":{"Display":"Medium"},"4":{"Display":"High"},"5":{"Display":"Very High"}},"AnswerOrder":["1","2","3","4","5"],"ChoiceDataExportTags":false,"QuestionID":"QID69"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID70","SecondaryAttribute":"Timing","TertiaryAttribute":null,"Payload":{"QuestionText":"Timing","DefaultChoices":false,"DataExportTag":"Q36","QuestionType":"Timing","Selector":"PageTimer","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText","MinSeconds":"0","MaxSeconds":"0"},"QuestionDescription":"Timing","Choices":{"1":{"Display":"First Click"},"2":{"Display":"Last Click"},"3":{"Display":"Page Submit"},"4":{"Display":"Click Count"}},"GradingData":[],"Language":[],"NextChoiceId":16,"NextAnswerId":1,"QuestionID":"QID70"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID71","SecondaryAttribute":"Click to write the question text","TertiaryAttribute":null,"Payload":{"QuestionText":"Click to write the question text","DefaultChoices":false,"DataExportTag":"Q37","QuestionType":"TE","Selector":"SL","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Click to write the question text","Validation":{"Settings":{"ForceResponse":"ON","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"SearchSource":{"AllowFreeResponse":"false"},"QuestionID":"QID71"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID72","SecondaryAttribute":"Click to write the question text","TertiaryAttribute":null,"Payload":{"QuestionText":"Click to write the question text","DefaultChoices":false,"DataExportTag":"Q38","QuestionType":"TE","Selector":"ML","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Click to write the question text","Validation":{"Settings":{"ForceResponse":"OFF","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"SearchSource":{"AllowFreeResponse":"false"},"QuestionID":"QID72"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID73","SecondaryAttribute":"TBD: Introduction Text","TertiaryAttribute":null,"Payload":{"QuestionText":"<i>TBD: Introduction Text<\/i>","DefaultChoices":false,"DataExportTag":"Q39","QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"TBD: Introduction Text","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":2,"NextAnswerId":1,"QuestionID":"QID73"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID74","SecondaryAttribute":"Please input your MTurk ID: Note that your additional performance bonus will be paid out to your...","TertiaryAttribute":null,"Payload":{"QuestionText":"<b>Please input your MTurk ID:\n<br><\/b><i>Note that your additional performance bonus will be paid out to your MTurk ID.<\/i>","DefaultChoices":false,"DataExportTag":"Q40","QuestionType":"TE","Selector":"SL","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Please input your MTurk ID: Note that your additional performance bonus will be paid out to your...","Validation":{"Settings":{"ForceResponse":"ON","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"SearchSource":{"AllowFreeResponse":"false"},"QuestionID":"QID74"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID75","SecondaryAttribute":"Click to write the question text","TertiaryAttribute":null,"Payload":{"QuestionText":"Click to write the question text","DataExportTag":"Q41","QuestionType":"MC","Selector":"SAVR","SubSelector":"TX","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Click to write the question text","Choices":{"1":{"Display":"Click to write Choice 1"},"2":{"Display":"Click to write Choice 2"},"3":{"Display":"Click to write Choice 3"}},"ChoiceOrder":["1","2","3"],"Validation":{"Settings":{"ForceResponse":"OFF","Type":"None"}},"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionID":"QID75"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID76","SecondaryAttribute":"Robo","TertiaryAttribute":null,"Payload":{"QuestionText":"Robo","DefaultChoices":false,"DataExportTag":"Q42","QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Robo","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":2,"NextAnswerId":1,"QuestionID":"QID76"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID77","SecondaryAttribute":"Click to write the question text","TertiaryAttribute":null,"Payload":{"QuestionText":"Click to write the question text","DefaultChoices":false,"DataExportTag":"Q43","QuestionType":"TE","Selector":"ML","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Click to write the question text","Validation":{"Settings":{"ForceResponse":"OFF","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"SearchSource":{"AllowFreeResponse":"false"},"QuestionID":"QID77"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID78","SecondaryAttribute":"Here is your Qualtrics ID:\u00a0${e:\/\/Field\/RandomID} Please copy your Qualtrics ID number and paste i..","TertiaryAttribute":null,"Payload":{"QuestionText":"<b>Here is your Qualtrics ID:&nbsp;${e:\/\/Field\/RandomID}<\/b><br>Please copy your Qualtrics ID number and paste it back into the MTurk interface. Once you've done so, please click submit. Thank you for your participation.<br>","DefaultChoices":false,"DataExportTag":"Q44","QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"Here is your Qualtrics ID:\u00a0${e:\/\/Field\/RandomID} Please copy your Qualtrics ID number and paste i...","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionID":"QID78"}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"SQ","PrimaryAttribute":"QID79","SecondaryAttribute":"How old are you?","TertiaryAttribute":null,"Payload":{"ChoiceOrder":[1,2,3,4,5,6,7],"Choices":{"1":{"Display":"Under 18"},"2":{"Display":"18-24 years old"},"3":{"Display":"25-34 years old"},"4":{"Display":"35-44 years old"},"5":{"Display":"45-54 years old"},"6":{"Display":"55-64 years old"},"7":{"Display":"65+ years old"}},"Configuration":{"QuestionDescriptionOption":"UseText"},"DataExportTag":"Q45","DataVisibility":{"Hidden":false,"Private":false},"GradingData":[],"Language":{"DE":{"QuestionText":"Alter","Choices":{"1":{"Display":"Unter 18"},"2":{"Display":"18-24 Jahre"},"3":{"Display":"25-34 Jahre"},"4":{"Display":"35-44 Jahre"},"5":{"Display":"45-54 Jahre"},"6":{"Display":"55-64 Jahre"},"7":{"Display":"Ab 65 Jahre"}}},"EN-GB":{"QuestionText":"How old are you?","Choices":{"1":{"Display":"Under 18"},"2":{"Display":"18-24 years old"},"3":{"Display":"25-34 years old"},"4":{"Display":"35-44 years old"},"5":{"Display":"45-54 years old"},"6":{"Display":"55-64 years old"},"7":{"Display":"65+ years old"}}},"ES":{"QuestionText":"\u00bfQu\u00e9 edad tiene?","Choices":{"1":{"Display":"Menor de 18"},"2":{"Display":"Entre 18 y 24 a\u00f1os de edad"},"3":{"Display":"Entre 25 y 34 a\u00f1os de edad"},"4":{"Display":"Entre 35 y 44 a\u00f1os de edad"},"5":{"Display":"Entre 45 y 54 a\u00f1os de edad"},"6":{"Display":"Entre 55 y 64 a\u00f1os de edad"},"7":{"Display":"M\u00e1s de 65 a\u00f1os de edad"}}},"ES-ES":{"QuestionText":"\u00bfQu\u00e9 edad tiene?","Choices":{"1":{"Display":"Menos de 18\u00a0a\u00f1os"},"2":{"Display":"18-24 a\u00f1os"},"3":{"Display":"25-34 a\u00f1os"},"4":{"Display":"35-44 a\u00f1os"},"5":{"Display":"45-54 a\u00f1os"},"6":{"Display":"55-64 a\u00f1os"},"7":{"Display":"+65 a\u00f1os"}}},"FR":{"QuestionText":"Quel \u00e2ge avez-vous\u00a0?","Choices":{"1":{"Display":"Moins de 18\u00a0ans"},"2":{"Display":"Entre 18 et 24 ans"},"3":{"Display":"Entre 25 et 34 ans"},"4":{"Display":"Entre 35 et 44 ans"},"5":{"Display":"Entre 45 et 54 ans"},"6":{"Display":"Entre 55 et 64 ans"},"7":{"Display":"+ de 65 ans"}}},"IT":{"QuestionText":"Quanti anni hai?","Choices":{"1":{"Display":"Meno di 18 anni"},"2":{"Display":"18-24 anni"},"3":{"Display":"25-34 anni"},"4":{"Display":"35-44 anni"},"5":{"Display":"45-54 anni"},"6":{"Display":"55-64 anni"},"7":{"Display":"Dai 65 anni in su"}}},"JA":{"QuestionText":"\u5e74\u9f62\u3092\u304a\u7b54\u3048\u304f\u3060\u3055\u3044\u3002","Choices":{"1":{"Display":"17\u6b73\u4ee5\u4e0b"},"2":{"Display":"18-24\u6b73"},"3":{"Display":"25-34\u6b73"},"4":{"Display":"35-44\u6b73"},"5":{"Display":"45-54\u6b73"},"6":{"Display":"55-64\u6b73"},"7":{"Display":"65\u6b73\u4ee5\u4e0a"}}},"KO":{"QuestionText":"\ub098\uc774\ub294 \uba87 \uc0b4\uc785\ub2c8\uae4c?","Choices":{"1":{"Display":"\ub9cc 18\uc138 \ubbf8\ub9cc"},"2":{"Display":"18~24\uc138"},"3":{"Display":"25~34\uc138"},"4":{"Display":"35~44\uc138"},"5":{"Display":"45~54\uc138"},"6":{"Display":"55~64\uc138"},"7":{"Display":"65\uc138 \uc774\uc0c1"}}},"NL":{"QuestionText":"Hoe oud bent u?","Choices":{"1":{"Display":"Jonger dan 18"},"2":{"Display":"18-24 jaar"},"3":{"Display":"25-34 jaar"},"4":{"Display":"35-44 jaar"},"5":{"Display":"45-54 jaar"},"6":{"Display":"55-64 jaar"},"7":{"Display":"65+"}}},"PT-BR":{"QuestionText":"Qual \u00e9 a sua idade?","Choices":{"1":{"Display":"Menos de 18"},"2":{"Display":"18 a 24 anos"},"3":{"Display":"25 a 34 anos"},"4":{"Display":"35 a 44 anos"},"5":{"Display":"45 a 54 anos"},"6":{"Display":"55 a 64 anos"},"7":{"Display":"65 anos ou mais"}}},"ZH-S":{"QuestionText":"\u60a8\u7684\u5e74\u9f84\u662f\uff1f","Choices":{"1":{"Display":"18 \u5c81\u4ee5\u4e0b"},"2":{"Display":"18-24 \u5c81"},"3":{"Display":"25-34 \u5c81"},"4":{"Display":"35-44 \u5c81"},"5":{"Display":"45-54 \u5c81"},"6":{"Display":"55-64 \u5c81"},"7":{"Display":"65 \u5c81\u4ee5\u4e0a"}}},"ZH-T":{"QuestionText":"\u60a8\u5e7e\u6b72\uff1f","Choices":{"1":{"Display":"\u4e0d\u5230 18 \u6b72"},"2":{"Display":"18-24 \u6b72"},"3":{"Display":"25-34 \u6b72"},"4":{"Display":"35-44 \u6b72"},"5":{"Display":"45-54 \u6b72"},"6":{"Display":"55-64 \u6b72"},"7":{"Display":"65 \u6b72\u4ee5\u4e0a"}}}},"NextAnswerId":1,"NextChoiceId":8,"QuestionDescription":"How old are you?","QuestionID":"QID79","QuestionText":"How old are you?","QuestionText_Unsafe":"How old are you?","QuestionType":"MC","ReferenceQuestionConfig":{"instanceOf":{"id":"RQ_OhWcN0iu9Pioww2","version":"v2.0.0"}},"SchemaConfig":{"ChoiceMapping":{"1":"enu:\/\/lessthan18","2":"enu:\/\/18-24","3":"enu:\/\/25-34","4":"enu:\/\/35-44","5":"enu:\/\/45-54","6":"enu:\/\/55-64","7":"enu:\/\/65andolder"},"ChoiceMappingType":"Member","ConfigVersion":"1.0.0","Reconfirm":true,"URL":"ses:\/\/agerange","XMDConnect":true},"Selector":"SAVR","SubSelector":"TX","Validation":{"Settings":{"ForceResponse":"ON","ForceResponseType":"ON","Type":"None"}}}},{"SurveyID":"SV_8kUwJ9o1snuZEyy","Element":"STAT","PrimaryAttribute":"Survey Statistics","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"MobileCompatible":true,"ID":"Survey Statistics"}}]}